{
  "title": "TLeAnnotationParseNodeVisitor",
  "story": [
    {
      "type": "paragraph",
      "id": "62c6a5e3f406689b",
      "text": "a >> trait"
    },
    {
      "type": "paragraph",
      "id": "20201159b3e6a2e8",
      "text": "[[LeParser]]>>#handleEmbeddedError:"
    },
    {
      "type": "code",
      "id": "488a515f485234ff",
      "text": "handleEmbeddedError: aSmaCCParserError\n\t| errorNode embeddedParser nodeClass visitorTrait |\n\tembeddedParser := aSmaCCParserError parser.\n\tnodeClass := SmaCCParseNode subclasses\n\t\t\tdetect: [ :e | e parserClass = embeddedParser class ]\n\t\t\tifNone: [  ].\n\tvisitorTrait := nodeClass\n\t\t\tifNil: [ TLeAnnotationParseNodeVisitor ]\n\t\t\tifNotNil: [ nodeClass visitorTrait ].\n\terrorNode := SmaCCErrorNode new\n\t\t\tstackContents: aSmaCCParserError parser nodeStack copy;\n\t\t\tdismissedTokens: #();\n\t\t\tvisitorTrait: visitorTrait.\n\t(aSmaCCParserError parser currentToken value beginsWith: '}')\n\t\tifTrue: [ self position: aSmaCCParserError parser currentToken startPosition - 1.\n\t\t\terrorNode\n\t\t\t\terrorToken: (SmaCCToken\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t\tstart: aSmaCCParserError parser currentToken startPosition\n\t\t\t\t\t\tids: #()) ]\n\t\tifFalse: [ self position: aSmaCCParserError parser scanner position.\n\t\t\terrorNode errorToken: aSmaCCParserError parser currentToken ].\n\t^ errorNode"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "TLeAnnotationParseNodeVisitor",
        "story": []
      },
      "date": 1702979349641
    },
    {
      "item": {
        "type": "factory",
        "id": "62c6a5e3f406689b"
      },
      "id": "62c6a5e3f406689b",
      "type": "add",
      "date": 1702979351612
    },
    {
      "type": "edit",
      "id": "62c6a5e3f406689b",
      "item": {
        "type": "paragraph",
        "id": "62c6a5e3f406689b",
        "text": "a >> trait"
      },
      "date": 1702979356789
    },
    {
      "item": {
        "type": "factory",
        "id": "20201159b3e6a2e8"
      },
      "id": "20201159b3e6a2e8",
      "type": "add",
      "after": "62c6a5e3f406689b",
      "date": 1702979363274
    },
    {
      "type": "edit",
      "id": "20201159b3e6a2e8",
      "item": {
        "type": "paragraph",
        "id": "20201159b3e6a2e8",
        "text": "[[LeParser]]>>#handleEmbeddedError:"
      },
      "date": 1702979371799
    },
    {
      "item": {
        "type": "factory",
        "id": "488a515f485234ff"
      },
      "id": "488a515f485234ff",
      "type": "add",
      "after": "20201159b3e6a2e8",
      "date": 1702979377977
    },
    {
      "type": "edit",
      "id": "488a515f485234ff",
      "item": {
        "type": "code",
        "id": "488a515f485234ff",
        "text": "handleEmbeddedError: aSmaCCParserError\n\t| errorNode embeddedParser nodeClass visitorTrait |\n\tembeddedParser := aSmaCCParserError parser.\n\tnodeClass := SmaCCParseNode subclasses\n\t\t\tdetect: [ :e | e parserClass = embeddedParser class ]\n\t\t\tifNone: [  ].\n\tvisitorTrait := nodeClass\n\t\t\tifNil: [ TLeAnnotationParseNodeVisitor ]\n\t\t\tifNotNil: [ nodeClass visitorTrait ].\n\terrorNode := SmaCCErrorNode new\n\t\t\tstackContents: aSmaCCParserError parser nodeStack copy;\n\t\t\tdismissedTokens: #();\n\t\t\tvisitorTrait: visitorTrait.\n\t(aSmaCCParserError parser currentToken value beginsWith: '}')\n\t\tifTrue: [ self position: aSmaCCParserError parser currentToken startPosition - 1.\n\t\t\terrorNode\n\t\t\t\terrorToken: (SmaCCToken\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t\tstart: aSmaCCParserError parser currentToken startPosition\n\t\t\t\t\t\tids: #()) ]\n\t\tifFalse: [ self position: aSmaCCParserError parser scanner position.\n\t\t\terrorNode errorToken: aSmaCCParserError parser currentToken ].\n\t^ errorNode"
      },
      "date": 1702979380209
    },
    {
      "type": "fork",
      "site": "traits.code.dreyeck.ch",
      "date": 1702985341890
    }
  ]
}