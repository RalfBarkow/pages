{
  "title": "Vector Lookup Tables",
  "story": [
    {
      "type": "paragraph",
      "id": "708b78f1a8d489d2",
      "text": "I helped electrical engineer Jeff Bradford complete a vector generator for the [[Projection Kanji Keyboard]]. Jeff simplified the ECL design by moving considerable logic into static ram lookup tables. I used APL's array manipulation to formulate and check the bit patterns that would fill these tables."
    },
    {
      "type": "html",
      "id": "59faf5eb5f3ca689",
      "text": "<h3> Hardware"
    },
    {
      "type": "paragraph",
      "id": "83702dd8a6bfee4e",
      "text": "The display driver could draw vectors fast enough to paint flicker free characters from vector strokes. It was realized as a single board using the power-hungry but very fast bi-polar transistor emitter-coupled logic (ECL). Static rams were available that were correspondingly fast. The board consisted of rams, registers and the DACs that would drive the display."
    },
    {
      "type": "paragraph",
      "id": "30855b5b6a40a959",
      "text": "Jeff used table lookup in several locations. Sometimes this involved splitting tables between rams as the desired size parts were not available."
    },
    {
      "type": "paragraph",
      "id": "8cc966db4daa9d82",
      "text": "The rams would be loaded at power-up from much slower ultra-violet erasable electrically programmable roms routinely used in the then emerging micro-controller field."
    },
    {
      "type": "html",
      "id": "1575490b52d7a3e8",
      "text": "<h3> Representation"
    },
    {
      "type": "paragraph",
      "id": "541f61c11d7e804a",
      "text": "I created two-dimensional arrays of bits using APL functions which were all stored in an APL workspace between sessions."
    },
    {
      "type": "paragraph",
      "id": "2b3a78bd3b3d8fb3",
      "text": "I wrote a format converter that would translate a properly dimensioned array into the text format required by the commercial rom programmer in use in our lab."
    },
    {
      "type": "paragraph",
      "id": "9f93c1daaea0e61c",
      "text": "Although this process was repeatable, we had little desire to debug mistakes we might make in constructing tables on the high-speed hardware in which they would eventually run."
    },
    {
      "type": "html",
      "id": "9d3cc9ccb0dec620",
      "text": "<h3> Methodology"
    },
    {
      "type": "paragraph",
      "id": "0cb8a6ac63e1959b",
      "text": "We developed tables for each section of Jeff's design one by one. I worked with Jeff at the terminal writing formulas that would generate bits."
    },
    {
      "type": "paragraph",
      "id": "b17d60c9212fc9ec",
      "text": "We wrote first using arrays of integers to understand the lookups as they would occur at the register level."
    },
    {
      "type": "paragraph",
      "id": "a899046400f6c853",
      "text": "We transformed these into bits and then split those bits into the shapes of the ram parts in the design."
    },
    {
      "type": "paragraph",
      "id": "0003a4edda2d692d",
      "text": "We then transformed ram bits into the bits as they would appear in the roms, reversing the transformation that would happen on power-up."
    },
    {
      "type": "paragraph",
      "id": "df208717ed465a60",
      "text": "At each step we would first create an array and then ask ourselves how we might know that it is the correct array. We would create row or column sums and then look at the distribution of these. Did they make sense knowing what the vector generator would be doing?"
    },
    {
      "type": "paragraph",
      "id": "b54909989902c7b2",
      "text": "If sums alone weren't convincing we would write some part of the hardware in APL and then run it in all possible cases rendering some part of the result as graphics on the high-resolution 4014 display."
    },
    {
      "type": "paragraph",
      "id": "c38ede5f0d289710",
      "text": "This process worked. Over several days we built the necessary software tools, developed and checked the bits, and then programmed the hardware that worked first time. No after the fact debugging required."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Vector Lookup Tables",
        "story": []
      },
      "date": 1398694468342
    },
    {
      "item": {
        "type": "factory",
        "id": "708b78f1a8d489d2"
      },
      "id": "708b78f1a8d489d2",
      "type": "add",
      "date": 1398694473647
    },
    {
      "type": "edit",
      "id": "708b78f1a8d489d2",
      "item": {
        "type": "paragraph",
        "id": "708b78f1a8d489d2",
        "text": "I helped electrical engineer Jeff Bradford complete a vector generator for the [[Projection Kanji Keyboard]]. Jeff simplified the ECL design by moving considerable logic into static ram lookup tables. I used APL's array manipulation to formulate and check the bit patterns that would fill these tables."
      },
      "date": 1398694707912
    },
    {
      "item": {
        "type": "factory",
        "id": "59faf5eb5f3ca689"
      },
      "id": "59faf5eb5f3ca689",
      "type": "add",
      "after": "708b78f1a8d489d2",
      "date": 1398694720092
    },
    {
      "type": "edit",
      "id": "59faf5eb5f3ca689",
      "item": {
        "type": "paragraph",
        "id": "59faf5eb5f3ca689",
        "text": "<h3> Hardware"
      },
      "date": 1398694778537
    },
    {
      "item": {
        "type": "paragraph",
        "id": "83702dd8a6bfee4e",
        "text": ""
      },
      "id": "83702dd8a6bfee4e",
      "type": "add",
      "after": "59faf5eb5f3ca689",
      "date": 1398694779045
    },
    {
      "type": "edit",
      "id": "83702dd8a6bfee4e",
      "item": {
        "type": "paragraph",
        "id": "83702dd8a6bfee4e",
        "text": "The display driver could draw vectors fast enough to paint flicker free characters from vector strokes. It was realized as a single board using the power-hungry but very fast bi-polar transistor emitter-coupled logic (ECL). Static rams were available that were correspondingly fast. The board consisted of rams, registers and the DACs that would drive the display."
      },
      "date": 1398695102544
    },
    {
      "item": {
        "type": "paragraph",
        "id": "30855b5b6a40a959",
        "text": ""
      },
      "id": "30855b5b6a40a959",
      "type": "add",
      "after": "83702dd8a6bfee4e",
      "date": 1398695103052
    },
    {
      "type": "edit",
      "id": "30855b5b6a40a959",
      "item": {
        "type": "paragraph",
        "id": "30855b5b6a40a959",
        "text": "Jeff used table lookup in several locations. Sometimes this involved splitting tables between rams as the desired size parts were not available."
      },
      "date": 1398695194195
    },
    {
      "item": {
        "type": "paragraph",
        "id": "8cc966db4daa9d82",
        "text": ""
      },
      "id": "8cc966db4daa9d82",
      "type": "add",
      "after": "30855b5b6a40a959",
      "date": 1398695194701
    },
    {
      "type": "edit",
      "id": "8cc966db4daa9d82",
      "item": {
        "type": "paragraph",
        "id": "8cc966db4daa9d82",
        "text": "The rams would be loaded at power-up from much slower ultra-violet erasable electrically programmable roms."
      },
      "date": 1398695325022
    },
    {
      "item": {
        "type": "paragraph",
        "id": "e8c9141ea99ca3bf",
        "text": ""
      },
      "id": "e8c9141ea99ca3bf",
      "type": "add",
      "after": "8cc966db4daa9d82",
      "date": 1398695325528
    },
    {
      "type": "remove",
      "id": "e8c9141ea99ca3bf",
      "date": 1398695330778
    },
    {
      "type": "edit",
      "id": "8cc966db4daa9d82",
      "item": {
        "type": "paragraph",
        "id": "8cc966db4daa9d82",
        "text": "The rams would be loaded at power-up from much slower ultra-violet erasable electrically programmable roms routinely used in the then emerging micro-controller field."
      },
      "date": 1398695407925
    },
    {
      "item": {
        "type": "paragraph",
        "id": "1575490b52d7a3e8",
        "text": ""
      },
      "id": "1575490b52d7a3e8",
      "type": "add",
      "after": "8cc966db4daa9d82",
      "date": 1398695408431
    },
    {
      "type": "edit",
      "id": "1575490b52d7a3e8",
      "item": {
        "type": "paragraph",
        "id": "1575490b52d7a3e8",
        "text": "<h3> Representation"
      },
      "date": 1398695438941
    },
    {
      "item": {
        "type": "paragraph",
        "id": "541f61c11d7e804a",
        "text": ""
      },
      "id": "541f61c11d7e804a",
      "type": "add",
      "after": "1575490b52d7a3e8",
      "date": 1398695439447
    },
    {
      "type": "edit",
      "id": "541f61c11d7e804a",
      "item": {
        "type": "paragraph",
        "id": "541f61c11d7e804a",
        "text": "I created two-dimensional arrays of bits using APL functions which were all stored in an APL workspace between sessions."
      },
      "date": 1398695524602
    },
    {
      "item": {
        "type": "paragraph",
        "id": "2b3a78bd3b3d8fb3",
        "text": ""
      },
      "id": "2b3a78bd3b3d8fb3",
      "type": "add",
      "after": "541f61c11d7e804a",
      "date": 1398695525108
    },
    {
      "type": "edit",
      "id": "2b3a78bd3b3d8fb3",
      "item": {
        "type": "paragraph",
        "id": "2b3a78bd3b3d8fb3",
        "text": "I wrote a format converter that would translate a properly dimensioned array into the text format required by the commercial rom programmer in use in our lab."
      },
      "date": 1398695589521
    },
    {
      "item": {
        "type": "paragraph",
        "id": "9f93c1daaea0e61c",
        "text": ""
      },
      "id": "9f93c1daaea0e61c",
      "type": "add",
      "after": "2b3a78bd3b3d8fb3",
      "date": 1398695590026
    },
    {
      "type": "edit",
      "id": "9f93c1daaea0e61c",
      "item": {
        "type": "paragraph",
        "id": "9f93c1daaea0e61c",
        "text": "Although this process was repeatable, we had little desire to debug mistakes we might make in constructing tables on the high-speed hardware in which they would eventually run."
      },
      "date": 1398695695533
    },
    {
      "item": {
        "type": "paragraph",
        "id": "9d3cc9ccb0dec620",
        "text": ""
      },
      "id": "9d3cc9ccb0dec620",
      "type": "add",
      "after": "9f93c1daaea0e61c",
      "date": 1398695696040
    },
    {
      "type": "edit",
      "id": "9d3cc9ccb0dec620",
      "item": {
        "type": "paragraph",
        "id": "9d3cc9ccb0dec620",
        "text": "<h3> Methodology"
      },
      "date": 1398695703085
    },
    {
      "item": {
        "type": "paragraph",
        "id": "0cb8a6ac63e1959b",
        "text": ""
      },
      "id": "0cb8a6ac63e1959b",
      "type": "add",
      "after": "9d3cc9ccb0dec620",
      "date": 1398695703591
    },
    {
      "type": "edit",
      "id": "0cb8a6ac63e1959b",
      "item": {
        "type": "paragraph",
        "id": "0cb8a6ac63e1959b",
        "text": "We developed tables for each section of Jeff's design one by one. I worked with Jeff at the terminal writing formulas that would generate bits explaining each one as I went."
      },
      "date": 1398695834610
    },
    {
      "item": {
        "type": "paragraph",
        "id": "95306fc1c471aef5",
        "text": ""
      },
      "id": "95306fc1c471aef5",
      "type": "add",
      "after": "0cb8a6ac63e1959b",
      "date": 1398695835116
    },
    {
      "type": "remove",
      "id": "95306fc1c471aef5",
      "date": 1398695836649
    },
    {
      "type": "edit",
      "id": "0cb8a6ac63e1959b",
      "item": {
        "type": "paragraph",
        "id": "0cb8a6ac63e1959b",
        "text": "We developed tables for each section of Jeff's design one by one. I worked with Jeff at the terminal writing formulas that would generate bits."
      },
      "date": 1398695864985
    },
    {
      "item": {
        "type": "paragraph",
        "id": "b17d60c9212fc9ec",
        "text": ""
      },
      "id": "b17d60c9212fc9ec",
      "type": "add",
      "after": "0cb8a6ac63e1959b",
      "date": 1398695865491
    },
    {
      "type": "edit",
      "id": "b17d60c9212fc9ec",
      "item": {
        "type": "paragraph",
        "id": "b17d60c9212fc9ec",
        "text": "We wrote first using arrays of integers to understand the lookups as they would occur at the register level."
      },
      "date": 1398695937839
    },
    {
      "item": {
        "type": "paragraph",
        "id": "a899046400f6c853",
        "text": ""
      },
      "id": "a899046400f6c853",
      "type": "add",
      "after": "b17d60c9212fc9ec",
      "date": 1398695938345
    },
    {
      "type": "edit",
      "id": "a899046400f6c853",
      "item": {
        "type": "paragraph",
        "id": "a899046400f6c853",
        "text": "We transformed these into bits and then split those bits into the shapes of the ram parts in the design."
      },
      "date": 1398695981023
    },
    {
      "item": {
        "type": "paragraph",
        "id": "0003a4edda2d692d",
        "text": ""
      },
      "id": "0003a4edda2d692d",
      "type": "add",
      "after": "a899046400f6c853",
      "date": 1398695981529
    },
    {
      "type": "edit",
      "id": "0003a4edda2d692d",
      "item": {
        "type": "paragraph",
        "id": "0003a4edda2d692d",
        "text": "We then transformed ram bits into the bits as they would appear in the roms, reversing the transformation that would happen on power-up."
      },
      "date": 1398696052467
    },
    {
      "item": {
        "type": "paragraph",
        "id": "df208717ed465a60",
        "text": ""
      },
      "id": "df208717ed465a60",
      "type": "add",
      "after": "0003a4edda2d692d",
      "date": 1398696052974
    },
    {
      "type": "edit",
      "id": "df208717ed465a60",
      "item": {
        "type": "paragraph",
        "id": "df208717ed465a60",
        "text": "At each step we would first create an array and then ask ourselves how we might know that it is the correct array. We would create row or column sums and then look at the distribution of these. Did they make sense knowing what the vector generator would be doing?"
      },
      "date": 1398696252023
    },
    {
      "item": {
        "type": "paragraph",
        "id": "b54909989902c7b2",
        "text": ""
      },
      "id": "b54909989902c7b2",
      "type": "add",
      "after": "df208717ed465a60",
      "date": 1398696252529
    },
    {
      "type": "edit",
      "id": "b54909989902c7b2",
      "item": {
        "type": "paragraph",
        "id": "b54909989902c7b2",
        "text": "If sums alone weren't convincing we would write some part of the hardware in APL and then run it in all possible cases rendering some part of the result as graphics on the high-resolution 4014 display."
      },
      "date": 1398696363668
    },
    {
      "item": {
        "type": "paragraph",
        "id": "c38ede5f0d289710",
        "text": ""
      },
      "id": "c38ede5f0d289710",
      "type": "add",
      "after": "b54909989902c7b2",
      "date": 1398696364175
    },
    {
      "type": "edit",
      "id": "c38ede5f0d289710",
      "item": {
        "type": "paragraph",
        "id": "c38ede5f0d289710",
        "text": "This process worked. Over several days we built the necessary software tools, developed and checked the bits, and then programmed the hardware that worked first time."
      },
      "date": 1398696430202
    },
    {
      "type": "edit",
      "id": "c38ede5f0d289710",
      "item": {
        "type": "paragraph",
        "id": "c38ede5f0d289710",
        "text": "This process worked. Over several days we built the necessary software tools, developed and checked the bits, and then programmed the hardware that worked first time. No after the fact debugging required."
      },
      "date": 1398696445753
    },
    {
      "type": "edit",
      "id": "59faf5eb5f3ca689",
      "item": {
        "type": "html",
        "id": "59faf5eb5f3ca689",
        "text": "<h3> Hardware"
      },
      "date": 1420390685378
    },
    {
      "type": "edit",
      "id": "1575490b52d7a3e8",
      "item": {
        "type": "html",
        "id": "1575490b52d7a3e8",
        "text": "<h3> Representation"
      },
      "date": 1420390689936
    },
    {
      "type": "edit",
      "id": "9d3cc9ccb0dec620",
      "item": {
        "type": "html",
        "id": "9d3cc9ccb0dec620",
        "text": "<h3> Methodology"
      },
      "date": 1420390694504
    },
    {
      "type": "fork",
      "site": "code.fed.wiki.org",
      "date": 1627474013240
    }
  ]
}