{
  "title": "JSON Schema",
  "story": [
    {
      "type": "paragraph",
      "id": "82d16f9d0dd6be0a",
      "text": "We define the schema for federated wiki pages to the depth that we know it. We use a BNF-like notation to suggest JSON elements. Any ambiguity will be resolved by examining the example. We close with a brief reflection on the successes of the format."
    },
    {
      "type": "paragraph",
      "id": "784016c54305672a",
      "text": "A page is an object with three optional fields."
    },
    {
      "type": "code",
      "id": "095fb4c1f4ee5b84",
      "text": "page = { title, story, journal }"
    },
    {
      "type": "paragraph",
      "id": "0282fe54cb349bf2",
      "text": "A title is an ascii string in mixed case with spaces and punctuation. Wiki converts titles to slugs in hyphenated lower case."
    },
    {
      "type": "code",
      "id": "adf03550263aa76b",
      "text": "title = \"War and Peace\""
    },
    {
      "type": "paragraph",
      "id": "9889b9fa672f52b9",
      "text": "A story is an array of paragraph-like items. The type identifies the plugin that can render the item."
    },
    {
      "type": "paragraph",
      "id": "177061214a7f16f1",
      "text": "Items have an id that is preserved through edits. Some precaution (aliasing) should ensure that ids are not duplicated within a page."
    },
    {
      "type": "code",
      "id": "d50e80d8d5a269cd",
      "text": "story = [ item ]\nitem = { type, id, text, ... }\ntype = \"paragraph|image|factory|reference|...\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\""
    },
    {
      "type": "paragraph",
      "id": "59960603b6bf69b1",
      "text": "While many items contain text of a type-specific markup, or DSL. Some items also add extra items, e.g. the data plugin adds `data` and `column` items, while the image plugin add a `url` and `caption`, and the map plugin adds items for `lat/lon`, tile server url and credits."
    },
    {
      "type": "paragraph",
      "id": "45afb1c5f8a604c2",
      "text": "The journal contains a sequence of actions that creates the story. Actions are of a small number of types relating to editing actions."
    },
    {
      "type": "paragraph",
      "id": "3299a2e55be9a6b2",
      "text": "The date and id identify when and where the action took place. The item as modified is copied in the action."
    },
    {
      "type": "paragraph",
      "id": "f5ef66da40dc1cd8",
      "text": "When site is present it means that the contents came from another site. The \"fork\" action means an entire page was copied from another site."
    },
    {
      "type": "code",
      "id": "b2a327e04b763179",
      "text": "journal = [ action ]\naction = { type, id, date, item, site }\ntype = \"create|add|move|edit|remove|fork\"\nid = \"67b842ac89e61cc3\"\ndate = 1383278468000\nsite = \"fed.wiki.org\"\n"
    },
    {
      "type": "html",
      "id": "d117104a09658b32",
      "text": "<h3> Example"
    },
    {
      "type": "paragraph",
      "id": "3fa659e251bb97d1",
      "text": "Here we provide a complete example by creating a new page, adding a factory, and then double-clicking the factory to make a paragraph."
    },
    {
      "type": "code",
      "id": "58efd8a07ffc9dc4",
      "text": "{\n  \"title\": \"War and Peace\",\n  \"story\": [\n    {\n      \"type\": \"paragraph\",\n      \"id\": \"08eaf0295b21d267\",\n      \"text\": \"The strongest of all warriors...\"\n    }\n  ],\n  \"journal\": [\n    {\n      \"type\": \"create\",\n      \"item\": {\n        \"title\": \"War and Peace\",\n        \"story\": []\n      },\n      \"date\": 1383279726841\n    },\n    {\n      \"type\": \"add\",\n      \"item\": {\n        \"type\": \"factory\",\n        \"id\": \"08eaf0295b21d267\"\n      },\n      \"id\": \"08eaf0295b21d267\",\n      \"date\": 1383279861391\n    },\n    {\n      \"type\": \"edit\",\n      \"item\": {\n        \"type\": \"paragraph\",\n        \"id\": \"08eaf0295b21d267\",\n        \"text\": \"The strongest of all warriors...\"\n      },\n      \"id\": \"08eaf0295b21d267\",\n      \"date\": 1383279872956\n    }\n  ]\n}"
    },
    {
      "type": "paragraph",
      "id": "af2f69ba79453935",
      "text": "The JSON of any page is available for viewing from a link at the bottom of each page. Refresh the web page if the JSON does not include recent change."
    },
    {
      "type": "paragraph",
      "id": "4e2262dbe393eb93",
      "text": "Some items will display their JSON when shift-double-clicked."
    },
    {
      "type": "paragraph",
      "id": "a7f4d6f4b8370e0c",
      "text": "To see an action's JSON, click the action and then double-click the timestamp of the retrieved version."
    },
    {
      "type": "html",
      "id": "b728a5ed46e578ea",
      "text": "<h3> Extensions"
    },
    {
      "type": "paragraph",
      "id": "bdd0bdb72b2c4559",
      "text": "The item types name plugins that interpret the remainder of the json subtree for the item. One server (the origin server) provides all the plugins for the content being browsed in a single browser window."
    },
    {
      "type": "paragraph",
      "id": "de9aa6ac063700cf",
      "text": "It is possible that unexpected item types will be encountered. One can turn to the source site for the plugins it uses. These plugins will include documentation that describes where to find source code and support community for any new data format."
    },
    {
      "type": "paragraph",
      "id": "0852fa5f988a2cff",
      "text": "Plugins have the freedom to communicate with each other between pages in the browser. This has some analogies with unix commands connected with pipes. In both cases, small is beautiful."
    },
    {
      "type": "paragraph",
      "id": "6719bfdc3c57b890",
      "text": "See [[Abstraction of Method]]"
    },
    {
      "type": "html",
      "id": "aa67e4488b443dfe",
      "text": "<h3> Importers"
    },
    {
      "type": "paragraph",
      "id": "1c966eabe6937159",
      "text": "The simplicity of the format and wiki's tolerance of omission makes writing foreign format importers easy. They've been written perl or even shell with no support from JSON libraries. The more complex importers use a nested DSL style of callbacks in script languages that favor that style. [https://github.com/WardCunningham/vw-sfw-script node] [https://github.com/WardCunningham/msi ruby]"
    },
    {
      "type": "paragraph",
      "id": "eb0da94e2822068d",
      "text": "The \"create\" action facilitates inserting whole pages from imports into the journal. Multiple runs of an importer can add multiple creates for comparing improvements to the import logic. It is also convenient to stash certification and provenience details in each create. I've included the git commit of the importer code."
    },
    {
      "type": "paragraph",
      "id": "de3ac47543babac3",
      "text": "Where an importer performs complex transformations, say from excel formulas to method plugin formulas, I've found it convenient to capture the source line numbers of the transformation code and include it in the method items. When numbers don't match a quick peek at the JSON (shift-double-click for methods) directs ongoing importer development."
    },
    {
      "type": "paragraph",
      "id": "e53c718939dbf016",
      "text": "See How To [[Import Documents]]"
    },
    {
      "type": "paragraph",
      "id": "9ab33be809ebc4f3",
      "text": "See also [[Coding Tips]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "JSON Schema"
      },
      "date": 1383277608172
    },
    {
      "item": {
        "type": "factory",
        "id": "82d16f9d0dd6be0a"
      },
      "id": "82d16f9d0dd6be0a",
      "type": "add",
      "date": 1383277610283
    },
    {
      "type": "edit",
      "id": "82d16f9d0dd6be0a",
      "item": {
        "type": "paragraph",
        "id": "82d16f9d0dd6be0a",
        "text": "We define the schema for federated wiki pages to the depth that we know it."
      },
      "date": 1383277645689
    },
    {
      "item": {
        "type": "paragraph",
        "id": "5d3daca297c678d8",
        "text": ""
      },
      "id": "5d3daca297c678d8",
      "type": "add",
      "after": "82d16f9d0dd6be0a",
      "date": 1383277646195
    },
    {
      "type": "remove",
      "id": "5d3daca297c678d8",
      "date": 1383277685247
    },
    {
      "item": {
        "type": "factory",
        "id": "095fb4c1f4ee5b84"
      },
      "id": "095fb4c1f4ee5b84",
      "type": "add",
      "after": "82d16f9d0dd6be0a",
      "date": 1383277687884
    },
    {
      "type": "edit",
      "id": "095fb4c1f4ee5b84",
      "item": {
        "type": "code",
        "id": "095fb4c1f4ee5b84",
        "text": "page = { title, story, journal }\n\ntitle = \"War and Peace\"\n\nstory = [ item ]\nitem = { type, id, text }\ntype = \"paragraph\"\nid = \"67b842ac89e61cc3\"\ntext = \""
      },
      "date": 1383278111681
    },
    {
      "type": "edit",
      "id": "095fb4c1f4ee5b84",
      "item": {
        "type": "code",
        "id": "095fb4c1f4ee5b84",
        "text": "page = { title, story, journal }\n\ntitle = \"War and Peace\"\n\nstory = [ item ]\nitem = { type, id, text }\ntype = \"paragraph\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\"\n"
      },
      "date": 1383278220299
    },
    {
      "item": {
        "type": "factory",
        "id": "b2a327e04b763179"
      },
      "id": "b2a327e04b763179",
      "type": "add",
      "after": "095fb4c1f4ee5b84",
      "date": 1383278224957
    },
    {
      "type": "edit",
      "id": "b2a327e04b763179",
      "item": {
        "type": "code",
        "id": "b2a327e04b763179",
        "text": "journal = [ action ]\naction = { type, id, date, item }\ntype = \"create\" | \"add\" | \"edit\" | \"delete\" | \"fork\"\nid ="
      },
      "date": 1383278386472
    },
    {
      "type": "edit",
      "id": "b2a327e04b763179",
      "item": {
        "type": "code",
        "id": "b2a327e04b763179",
        "text": "journal = [ action ]\naction = { type, id, date, item }\ntype = \"create\" | \"add\" | \"edit\" | \"delete\" | \"fork\"\nid = \"67b842ac89e61cc3\"\ndate ="
      },
      "date": 1383278456166
    },
    {
      "type": "edit",
      "id": "b2a327e04b763179",
      "item": {
        "type": "code",
        "id": "b2a327e04b763179",
        "text": "journal = [ action ]\naction = { type, id, date, item, site }\ntype = \"create\" | \"add\" | \"edit\" | \"delete\" | \"fork\"\nid = \"67b842ac89e61cc3\"\ndate = 1383278468000\nsite = \"fed.wiki.org\"\n"
      },
      "date": 1383278527507
    },
    {
      "type": "edit",
      "id": "095fb4c1f4ee5b84",
      "item": {
        "type": "code",
        "id": "095fb4c1f4ee5b84",
        "text": "page = { title, story, journal }"
      },
      "date": 1383278551366
    },
    {
      "item": {
        "type": "factory",
        "id": "adf03550263aa76b"
      },
      "id": "adf03550263aa76b",
      "type": "add",
      "after": "b2a327e04b763179",
      "date": 1383278553507
    },
    {
      "type": "edit",
      "id": "adf03550263aa76b",
      "item": {
        "type": "code",
        "id": "adf03550263aa76b",
        "text": "title = \"War and Peace\""
      },
      "date": 1383278566504
    },
    {
      "type": "move",
      "order": [
        "82d16f9d0dd6be0a",
        "095fb4c1f4ee5b84",
        "adf03550263aa76b",
        "b2a327e04b763179"
      ],
      "id": "adf03550263aa76b",
      "date": 1383278569933
    },
    {
      "item": {
        "type": "factory",
        "id": "d50e80d8d5a269cd"
      },
      "id": "d50e80d8d5a269cd",
      "type": "add",
      "after": "b2a327e04b763179",
      "date": 1383278572244
    },
    {
      "type": "edit",
      "id": "d50e80d8d5a269cd",
      "item": {
        "type": "code",
        "id": "d50e80d8d5a269cd",
        "text": "story = [ item ]\nitem = { type, id, text }\ntype = \"paragraph\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\""
      },
      "date": 1383278584288
    },
    {
      "type": "move",
      "order": [
        "82d16f9d0dd6be0a",
        "095fb4c1f4ee5b84",
        "adf03550263aa76b",
        "d50e80d8d5a269cd",
        "b2a327e04b763179"
      ],
      "id": "d50e80d8d5a269cd",
      "date": 1383278587882
    },
    {
      "item": {
        "type": "paragraph",
        "id": "784016c54305672a",
        "text": ""
      },
      "id": "784016c54305672a",
      "type": "add",
      "after": "82d16f9d0dd6be0a",
      "date": 1383278621266
    },
    {
      "type": "edit",
      "id": "784016c54305672a",
      "item": {
        "type": "paragraph",
        "id": "784016c54305672a",
        "text": "A page is an object with three optional fields."
      },
      "date": 1383278635882
    },
    {
      "item": {
        "type": "paragraph",
        "id": "0282fe54cb349bf2",
        "text": ""
      },
      "id": "0282fe54cb349bf2",
      "type": "add",
      "after": "784016c54305672a",
      "date": 1383278645001
    },
    {
      "type": "edit",
      "id": "0282fe54cb349bf2",
      "item": {
        "type": "paragraph",
        "id": "0282fe54cb349bf2",
        "text": "A title is an ascii string in mixed case with spaces and punctuation. Wiki converts titles to slugs in hyphenated lower case."
      },
      "date": 1383278729129
    },
    {
      "type": "move",
      "order": [
        "82d16f9d0dd6be0a",
        "784016c54305672a",
        "095fb4c1f4ee5b84",
        "0282fe54cb349bf2",
        "adf03550263aa76b",
        "d50e80d8d5a269cd",
        "b2a327e04b763179"
      ],
      "id": "0282fe54cb349bf2",
      "date": 1383278732551
    },
    {
      "item": {
        "type": "paragraph",
        "id": "9889b9fa672f52b9",
        "text": ""
      },
      "id": "9889b9fa672f52b9",
      "type": "add",
      "after": "0282fe54cb349bf2",
      "date": 1383278746287
    },
    {
      "type": "edit",
      "id": "9889b9fa672f52b9",
      "item": {
        "type": "paragraph",
        "id": "9889b9fa672f52b9",
        "text": "A story is an array of paragraph-like items. The type identifies the plugin that can render the item."
      },
      "date": 1383278890971
    },
    {
      "item": {
        "type": "paragraph",
        "id": "177061214a7f16f1",
        "text": " "
      },
      "id": "177061214a7f16f1",
      "type": "add",
      "after": "9889b9fa672f52b9",
      "date": 1383278891477
    },
    {
      "type": "edit",
      "id": "177061214a7f16f1",
      "item": {
        "type": "paragraph",
        "id": "177061214a7f16f1",
        "text": "Items have an id that is preserved through edits. Some precaution (aliasing) should ensure that ids are not duplicated within a page."
      },
      "date": 1383278994208
    },
    {
      "item": {
        "type": "paragraph",
        "id": "59960603b6bf69b1",
        "text": " "
      },
      "id": "59960603b6bf69b1",
      "type": "add",
      "after": "177061214a7f16f1",
      "date": 1383278994715
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "paragraph",
        "id": "59960603b6bf69b1",
        "text": "Many pages contain text of a type-specific markup. "
      },
      "date": 1383279021502
    },
    {
      "type": "move",
      "order": [
        "82d16f9d0dd6be0a",
        "784016c54305672a",
        "095fb4c1f4ee5b84",
        "0282fe54cb349bf2",
        "adf03550263aa76b",
        "9889b9fa672f52b9",
        "177061214a7f16f1",
        "59960603b6bf69b1",
        "d50e80d8d5a269cd",
        "b2a327e04b763179"
      ],
      "id": "adf03550263aa76b",
      "date": 1383279030298
    },
    {
      "item": {
        "type": "paragraph",
        "id": "45afb1c5f8a604c2",
        "text": ""
      },
      "id": "45afb1c5f8a604c2",
      "type": "add",
      "after": "59960603b6bf69b1",
      "date": 1383279105357
    },
    {
      "type": "edit",
      "id": "45afb1c5f8a604c2",
      "item": {
        "type": "paragraph",
        "id": "45afb1c5f8a604c2",
        "text": "The journal contains a sequence of actions that creates the story. Actions are of a small number of types relating to editing actions."
      },
      "date": 1383279214854
    },
    {
      "type": "move",
      "order": [
        "82d16f9d0dd6be0a",
        "784016c54305672a",
        "095fb4c1f4ee5b84",
        "0282fe54cb349bf2",
        "adf03550263aa76b",
        "9889b9fa672f52b9",
        "177061214a7f16f1",
        "59960603b6bf69b1",
        "d50e80d8d5a269cd",
        "45afb1c5f8a604c2",
        "b2a327e04b763179"
      ],
      "id": "45afb1c5f8a604c2",
      "date": 1383279218748
    },
    {
      "type": "edit",
      "id": "b2a327e04b763179",
      "item": {
        "type": "code",
        "id": "b2a327e04b763179",
        "text": "journal = [ action ]\naction = { type, id, date, item, site }\ntype = \"create\" | \"add\" | \"move\" | \"edit\" | \"delete\" | \"fork\"\nid = \"67b842ac89e61cc3\"\ndate = 1383278468000\nsite = \"fed.wiki.org\"\n"
      },
      "date": 1383279252608
    },
    {
      "type": "edit",
      "id": "b2a327e04b763179",
      "item": {
        "type": "code",
        "id": "b2a327e04b763179",
        "text": "journal = [ action ]\naction = { type, id, date, item, site }\ntype = \"create|add|move|edit|delete|fork\"\nid = \"67b842ac89e61cc3\"\ndate = 1383278468000\nsite = \"fed.wiki.org\"\n"
      },
      "date": 1383279295565
    },
    {
      "item": {
        "type": "paragraph",
        "id": "3299a2e55be9a6b2",
        "text": ""
      },
      "id": "3299a2e55be9a6b2",
      "type": "add",
      "after": "45afb1c5f8a604c2",
      "date": 1383279317430
    },
    {
      "type": "edit",
      "id": "3299a2e55be9a6b2",
      "item": {
        "type": "paragraph",
        "id": "3299a2e55be9a6b2",
        "text": "The id of an action is that of the story item edited."
      },
      "date": 1383279350876
    },
    {
      "item": {
        "type": "paragraph",
        "id": "c43214e2cbfd7183",
        "text": ""
      },
      "id": "c43214e2cbfd7183",
      "type": "add",
      "after": "3299a2e55be9a6b2",
      "date": 1383279351381
    },
    {
      "type": "remove",
      "id": "c43214e2cbfd7183",
      "date": 1383279365172
    },
    {
      "type": "edit",
      "id": "3299a2e55be9a6b2",
      "item": {
        "type": "paragraph",
        "id": "3299a2e55be9a6b2",
        "text": "The date and id identify when and where the action took place. The item as modified is copied in the action."
      },
      "date": 1383279537719
    },
    {
      "item": {
        "type": "paragraph",
        "id": "f5ef66da40dc1cd8",
        "text": ""
      },
      "id": "f5ef66da40dc1cd8",
      "type": "add",
      "after": "3299a2e55be9a6b2",
      "date": 1383279538224
    },
    {
      "type": "edit",
      "id": "f5ef66da40dc1cd8",
      "item": {
        "type": "paragraph",
        "id": "f5ef66da40dc1cd8",
        "text": "When site is present it means that the contents came from another site. The \"fork\" action means an entire page was copied from another site."
      },
      "date": 1383279679571
    },
    {
      "type": "move",
      "order": [
        "82d16f9d0dd6be0a",
        "784016c54305672a",
        "095fb4c1f4ee5b84",
        "0282fe54cb349bf2",
        "adf03550263aa76b",
        "9889b9fa672f52b9",
        "177061214a7f16f1",
        "d50e80d8d5a269cd",
        "59960603b6bf69b1",
        "45afb1c5f8a604c2",
        "3299a2e55be9a6b2",
        "f5ef66da40dc1cd8",
        "b2a327e04b763179"
      ],
      "id": "d50e80d8d5a269cd",
      "date": 1383279850257
    },
    {
      "item": {
        "type": "factory",
        "id": "d117104a09658b32"
      },
      "id": "d117104a09658b32",
      "type": "add",
      "after": "b2a327e04b763179",
      "date": 1383279943773
    },
    {
      "type": "edit",
      "id": "d117104a09658b32",
      "item": {
        "type": "paragraph",
        "id": "d117104a09658b32",
        "text": "Here we provide a complete example by creating a new page, adding a factory, and then double-clicking the factory to make a paragraph."
      },
      "date": 1383280022128
    },
    {
      "item": {
        "type": "factory",
        "id": "58efd8a07ffc9dc4"
      },
      "id": "58efd8a07ffc9dc4",
      "type": "add",
      "after": "d117104a09658b32",
      "date": 1383280028371
    },
    {
      "type": "edit",
      "id": "58efd8a07ffc9dc4",
      "item": {
        "type": "code",
        "id": "58efd8a07ffc9dc4",
        "text": "{\n  \"title\": \"War and Peace\",\n  \"story\": [\n    {\n      \"type\": \"paragraph\",\n      \"id\": \"08eaf0295b21d267\",\n      \"text\": \"The strongest of all warriors...\"\n    }\n  ],\n  \"journal\": [\n    {\n      \"type\": \"create\",\n      \"item\": {\n        \"title\": \"War and Peace\",\n        \"story\": []\n      },\n      \"date\": 1383279726841\n    },\n    {\n      \"item\": {\n        \"type\": \"factory\",\n        \"id\": \"08eaf0295b21d267\"\n      },\n      \"id\": \"08eaf0295b21d267\",\n      \"type\": \"add\",\n      \"date\": 1383279861391\n    },\n    {\n      \"type\": \"edit\",\n      \"id\": \"08eaf0295b21d267\",\n      \"item\": {\n        \"type\": \"paragraph\",\n        \"id\": \"08eaf0295b21d267\",\n        \"text\": \"The strongest of all warriors...\"\n      },\n      \"date\": 1383279872956\n    }\n  ]\n}"
      },
      "date": 1383280033440
    },
    {
      "type": "edit",
      "id": "d117104a09658b32",
      "item": {
        "type": "paragraph",
        "id": "d117104a09658b32",
        "text": "<h3> Example"
      },
      "date": 1383280084966
    },
    {
      "item": {
        "type": "paragraph",
        "id": "3fa659e251bb97d1",
        "text": "Here we provide a complete example by creating a new page, adding a factory, and then double-clicking the factory to make a paragraph."
      },
      "id": "3fa659e251bb97d1",
      "type": "add",
      "after": "d117104a09658b32",
      "date": 1383280085473
    },
    {
      "type": "edit",
      "id": "82d16f9d0dd6be0a",
      "item": {
        "type": "paragraph",
        "id": "82d16f9d0dd6be0a",
        "text": "We define the schema for federated wiki pages to the depth that we know it. We use a BNF-like notation to suggest JSON elements. Any ambiguity will be resolved by examining the example."
      },
      "date": 1383280197659
    },
    {
      "item": {
        "type": "factory",
        "id": "af2f69ba79453935"
      },
      "id": "af2f69ba79453935",
      "type": "add",
      "after": "58efd8a07ffc9dc4",
      "date": 1383280249666
    },
    {
      "type": "edit",
      "id": "af2f69ba79453935",
      "item": {
        "type": "paragraph",
        "id": "af2f69ba79453935",
        "text": "The JSON of any page is available for viewing from a link at the bottom of each page. Refresh the web page if the JSON does not include recent change."
      },
      "date": 1383280336833
    },
    {
      "item": {
        "type": "paragraph",
        "id": "aa67e4488b443dfe",
        "text": ""
      },
      "id": "aa67e4488b443dfe",
      "type": "add",
      "after": "af2f69ba79453935",
      "date": 1383319373662
    },
    {
      "type": "edit",
      "id": "aa67e4488b443dfe",
      "item": {
        "type": "paragraph",
        "id": "aa67e4488b443dfe",
        "text": "<h3> Reflection"
      },
      "date": 1383319506198
    },
    {
      "item": {
        "type": "paragraph",
        "id": "1c966eabe6937159",
        "text": ""
      },
      "id": "1c966eabe6937159",
      "type": "add",
      "after": "aa67e4488b443dfe",
      "date": 1383319506712
    },
    {
      "type": "edit",
      "id": "1c966eabe6937159",
      "item": {
        "type": "paragraph",
        "id": "1c966eabe6937159",
        "text": "The simplicity of the format and wiki's tolerance of omission makes writing foreign format importers easy. They've been written perl or even shell with no support from JSON libraries. "
      },
      "date": 1383319669257
    },
    {
      "type": "edit",
      "id": "1c966eabe6937159",
      "item": {
        "type": "paragraph",
        "id": "1c966eabe6937159",
        "text": "The simplicity of the format and wiki's tolerance of omission makes writing foreign format importers easy. They've been written perl or even shell with no support from JSON libraries. [https://github.com/WardCunningham/vw-sfw-script node]"
      },
      "date": 1383322093732
    },
    {
      "type": "edit",
      "id": "1c966eabe6937159",
      "item": {
        "type": "paragraph",
        "id": "1c966eabe6937159",
        "text": "The simplicity of the format and wiki's tolerance of omission makes writing foreign format importers easy. They've been written perl or even shell with no support from JSON libraries. [https://github.com/WardCunningham/vw-sfw-script node] [https://github.com/WardCunningham/msi ruby]"
      },
      "date": 1383322142794
    },
    {
      "type": "edit",
      "id": "1c966eabe6937159",
      "item": {
        "type": "paragraph",
        "id": "1c966eabe6937159",
        "text": "The simplicity of the format and wiki's tolerance of omission makes writing foreign format importers easy. They've been written perl or even shell with no support from JSON libraries. The more complex importers use a nested DSL style of callbacks in script languages that favor that style.[https://github.com/WardCunningham/vw-sfw-script node] [https://github.com/WardCunningham/msi ruby]"
      },
      "date": 1383322252922
    },
    {
      "type": "edit",
      "id": "1c966eabe6937159",
      "item": {
        "type": "paragraph",
        "id": "1c966eabe6937159",
        "text": "The simplicity of the format and wiki's tolerance of omission makes writing foreign format importers easy. They've been written perl or even shell with no support from JSON libraries. The more complex importers use a nested DSL style of callbacks in script languages that favor that style. [https://github.com/WardCunningham/vw-sfw-script node] [https://github.com/WardCunningham/msi ruby]"
      },
      "date": 1383322259303
    },
    {
      "item": {
        "type": "paragraph",
        "id": "eb0da94e2822068d",
        "text": ""
      },
      "id": "eb0da94e2822068d",
      "type": "add",
      "after": "1c966eabe6937159",
      "date": 1383322292432
    },
    {
      "type": "edit",
      "id": "eb0da94e2822068d",
      "item": {
        "type": "paragraph",
        "id": "eb0da94e2822068d",
        "text": "The \"create\" action facilitates inserting whole pages from imports into the journal. Multiple runs of an importer can add multiple creates for comparing improvements to the import logic. It is also convenient to stash certification and provenience details in each create. I've included the git commit of the importer code."
      },
      "date": 1383322560846
    },
    {
      "item": {
        "type": "paragraph",
        "id": "de3ac47543babac3",
        "text": ""
      },
      "id": "de3ac47543babac3",
      "type": "add",
      "after": "eb0da94e2822068d",
      "date": 1383322561355
    },
    {
      "type": "edit",
      "id": "de3ac47543babac3",
      "item": {
        "type": "paragraph",
        "id": "de3ac47543babac3",
        "text": "Where an importer performs complex transformations, say from excel formulas to method plugin formulas, I've found it convenient to capture the source line numbers of the transformation code and include it in the method items. When numbers don't match a quick peek at the JSON directs ongoing importer development."
      },
      "date": 1383322876607
    },
    {
      "type": "edit",
      "id": "de3ac47543babac3",
      "item": {
        "type": "paragraph",
        "id": "de3ac47543babac3",
        "text": "Where an importer performs complex transformations, say from excel formulas to method plugin formulas, I've found it convenient to capture the source line numbers of the transformation code and include it in the method items. When numbers don't match a quick peek at the JSON (shift-double-click for methods) directs ongoing importer development."
      },
      "date": 1383322968986
    },
    {
      "type": "edit",
      "id": "82d16f9d0dd6be0a",
      "item": {
        "type": "paragraph",
        "id": "82d16f9d0dd6be0a",
        "text": "We define the schema for federated wiki pages to the depth that we know it. We use a BNF-like notation to suggest JSON elements. Any ambiguity will be resolved by examining the example. We close with a brief reflection on the successes of the format."
      },
      "date": 1383323017041
    },
    {
      "item": {
        "type": "paragraph",
        "id": "9ab33be809ebc4f3",
        "text": ""
      },
      "id": "9ab33be809ebc4f3",
      "type": "add",
      "after": "de3ac47543babac3",
      "date": 1383323945571
    },
    {
      "type": "edit",
      "id": "9ab33be809ebc4f3",
      "item": {
        "type": "paragraph",
        "id": "9ab33be809ebc4f3",
        "text": "See also [[Coding Tips]]"
      },
      "date": 1383323955006
    },
    {
      "item": {
        "type": "paragraph",
        "id": "4e2262dbe393eb93",
        "text": ""
      },
      "id": "4e2262dbe393eb93",
      "type": "add",
      "after": "af2f69ba79453935",
      "date": 1383341499789
    },
    {
      "type": "edit",
      "id": "4e2262dbe393eb93",
      "item": {
        "type": "paragraph",
        "id": "4e2262dbe393eb93",
        "text": "Some items will display their JSON when shift-double-clicked."
      },
      "date": 1383341540791
    },
    {
      "item": {
        "type": "paragraph",
        "id": "a7f4d6f4b8370e0c",
        "text": ""
      },
      "id": "a7f4d6f4b8370e0c",
      "type": "add",
      "after": "4e2262dbe393eb93",
      "date": 1383341541298
    },
    {
      "type": "edit",
      "id": "a7f4d6f4b8370e0c",
      "item": {
        "type": "paragraph",
        "id": "a7f4d6f4b8370e0c",
        "text": "To see an action's JSON, click the action and then double-click the timestamp of the retrieved version."
      },
      "date": 1383341588558
    },
    {
      "type": "edit",
      "id": "b2a327e04b763179",
      "item": {
        "type": "code",
        "id": "b2a327e04b763179",
        "text": "journal = [ action ]\naction = { type, id, date, item, site }\ntype = \"create|add|move|edit|remove|fork\"\nid = \"67b842ac89e61cc3\"\ndate = 1383278468000\nsite = \"fed.wiki.org\"\n"
      },
      "date": 1383341667747
    },
    {
      "type": "edit",
      "id": "d50e80d8d5a269cd",
      "item": {
        "type": "code",
        "id": "d50e80d8d5a269cd",
        "text": "story = [ item ]\nitem = { type, id, text }\ntype = \"paragraph|image|reference|changes ...\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\""
      },
      "date": 1383372679794
    },
    {
      "type": "edit",
      "id": "d50e80d8d5a269cd",
      "item": {
        "type": "code",
        "id": "d50e80d8d5a269cd",
        "text": "story = [ item ]\nitem = { type, id, text }\ntype = \"paragraph|image|reference|changes...\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\""
      },
      "date": 1383372689343
    },
    {
      "type": "edit",
      "id": "d50e80d8d5a269cd",
      "item": {
        "type": "code",
        "id": "d50e80d8d5a269cd",
        "text": "story = [ item ]\nitem = { type, id, text }\ntype = \"paragraph|image|factory|reference|...\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\""
      },
      "date": 1383372732767
    },
    {
      "item": {
        "type": "paragraph",
        "id": "e53c718939dbf016",
        "text": ""
      },
      "id": "e53c718939dbf016",
      "type": "add",
      "after": "de3ac47543babac3",
      "date": 1383404540520
    },
    {
      "type": "edit",
      "id": "e53c718939dbf016",
      "item": {
        "type": "paragraph",
        "id": "e53c718939dbf016",
        "text": "See How To [[Import Documents]]"
      },
      "date": 1383404553941
    },
    {
      "type": "edit",
      "id": "58efd8a07ffc9dc4",
      "item": {
        "type": "code",
        "id": "58efd8a07ffc9dc4",
        "text": "{\n  \"title\": \"War and Peace\",\n  \"story\": [\n    {\n      \"type\": \"paragraph\",\n      \"id\": \"08eaf0295b21d267\",\n      \"text\": \"The strongest of all warriors...\"\n    }\n  ],\n  \"journal\": [\n    {\n      \"type\": \"create\",\n      \"item\": {\n        \"title\": \"War and Peace\",\n        \"story\": []\n      },\n      \"date\": 1383279726841\n    },\n    {\n      \"type\": \"add\",\n      \"item\": {\n        \"type\": \"factory\",\n        \"id\": \"08eaf0295b21d267\"\n      },\n      \"id\": \"08eaf0295b21d267\",\n      \"date\": 1383279861391\n    },\n    {\n      \"type\": \"edit\",\n      \"id\": \"08eaf0295b21d267\",\n      \"item\": {\n        \"type\": \"paragraph\",\n        \"id\": \"08eaf0295b21d267\",\n        \"text\": \"The strongest of all warriors...\"\n      },\n      \"date\": 1383279872956\n    }\n  ]\n}"
      },
      "date": 1383670124417
    },
    {
      "type": "edit",
      "id": "58efd8a07ffc9dc4",
      "item": {
        "type": "code",
        "id": "58efd8a07ffc9dc4",
        "text": "{\n  \"title\": \"War and Peace\",\n  \"story\": [\n    {\n      \"type\": \"paragraph\",\n      \"id\": \"08eaf0295b21d267\",\n      \"text\": \"The strongest of all warriors...\"\n    }\n  ],\n  \"journal\": [\n    {\n      \"type\": \"create\",\n      \"item\": {\n        \"title\": \"War and Peace\",\n        \"story\": []\n      },\n      \"date\": 1383279726841\n    },\n    {\n      \"type\": \"add\",\n      \"item\": {\n        \"type\": \"factory\",\n        \"id\": \"08eaf0295b21d267\"\n      },\n      \"id\": \"08eaf0295b21d267\",\n      \"date\": 1383279861391\n    },\n    {\n      \"type\": \"edit\",\n      \"item\": {\n        \"type\": \"paragraph\",\n        \"id\": \"08eaf0295b21d267\",\n        \"text\": \"The strongest of all warriors...\"\n      },\n      \"id\": \"08eaf0295b21d267\",\n      \"date\": 1383279872956\n    }\n  ]\n}"
      },
      "date": 1383670240429
    },
    {
      "type": "edit",
      "id": "aa67e4488b443dfe",
      "item": {
        "type": "paragraph",
        "id": "aa67e4488b443dfe",
        "text": "<h3> Importers"
      },
      "date": 1385426697329
    },
    {
      "item": {
        "type": "paragraph",
        "id": "b728a5ed46e578ea",
        "text": ""
      },
      "id": "b728a5ed46e578ea",
      "type": "add",
      "after": "a7f4d6f4b8370e0c",
      "date": 1385426701167
    },
    {
      "type": "edit",
      "id": "b728a5ed46e578ea",
      "item": {
        "type": "paragraph",
        "id": "b728a5ed46e578ea",
        "text": "<h3> Extension"
      },
      "date": 1385426707744
    },
    {
      "item": {
        "type": "paragraph",
        "id": "bdd0bdb72b2c4559",
        "text": ""
      },
      "id": "bdd0bdb72b2c4559",
      "type": "add",
      "after": "b728a5ed46e578ea",
      "date": 1385426708249
    },
    {
      "type": "edit",
      "id": "bdd0bdb72b2c4559",
      "item": {
        "type": "paragraph",
        "id": "bdd0bdb72b2c4559",
        "text": "The item types name plugins that interpret the remainder of the json subtree for the item. "
      },
      "date": 1385426833743
    },
    {
      "type": "edit",
      "id": "b728a5ed46e578ea",
      "item": {
        "type": "paragraph",
        "id": "b728a5ed46e578ea",
        "text": "<h3> Extensions"
      },
      "date": 1385426836704
    },
    {
      "type": "edit",
      "id": "bdd0bdb72b2c4559",
      "item": {
        "type": "paragraph",
        "id": "bdd0bdb72b2c4559",
        "text": "The item types name plugins that interpret the remainder of the json subtree for the item. One server (the origin server) provides all the plugins for the content being browsed in a single browser window."
      },
      "date": 1385427069317
    },
    {
      "item": {
        "type": "paragraph",
        "id": "de9aa6ac063700cf",
        "text": ""
      },
      "id": "de9aa6ac063700cf",
      "type": "add",
      "after": "bdd0bdb72b2c4559",
      "date": 1385427069822
    },
    {
      "type": "edit",
      "id": "de9aa6ac063700cf",
      "item": {
        "type": "paragraph",
        "id": "de9aa6ac063700cf",
        "text": "It is possible that unexpected item types will be encountered. One can turn to the source site for the plugins it uses. These plugins will include documentation that describes where to find source code and support community for any new data format."
      },
      "date": 1385427384642
    },
    {
      "item": {
        "type": "paragraph",
        "id": "0852fa5f988a2cff",
        "text": ""
      },
      "id": "0852fa5f988a2cff",
      "type": "add",
      "after": "de9aa6ac063700cf",
      "date": 1385427397657
    },
    {
      "type": "edit",
      "id": "0852fa5f988a2cff",
      "item": {
        "type": "paragraph",
        "id": "0852fa5f988a2cff",
        "text": "Plugins have the freedom to communicate with each other between pages in the browser. This has some analogies with unix commands connected with pipes. In both cases, small is beautiful."
      },
      "date": 1385427509880
    },
    {
      "item": {
        "type": "paragraph",
        "id": "6719bfdc3c57b890",
        "text": ""
      },
      "id": "6719bfdc3c57b890",
      "type": "add",
      "after": "0852fa5f988a2cff",
      "date": 1385427555989
    },
    {
      "type": "edit",
      "id": "6719bfdc3c57b890",
      "item": {
        "type": "paragraph",
        "id": "6719bfdc3c57b890",
        "text": "See [[Abstraction of Method]]"
      },
      "date": 1385427563351
    },
    {
      "type": "edit",
      "id": "b728a5ed46e578ea",
      "item": {
        "type": "html",
        "id": "b728a5ed46e578ea",
        "text": "<h3> Extensions"
      },
      "date": 1418516779547
    },
    {
      "type": "edit",
      "id": "aa67e4488b443dfe",
      "item": {
        "type": "html",
        "id": "aa67e4488b443dfe",
        "text": "<h3> Importers"
      },
      "date": 1418516782839
    },
    {
      "type": "edit",
      "id": "d117104a09658b32",
      "item": {
        "type": "html",
        "id": "d117104a09658b32",
        "text": "<h3> Example"
      },
      "date": 1418516871338
    },
    {
      "type": "fork",
      "site": "ward.fed.wiki.org",
      "date": 1445522659773
    },
    {
      "type": "fork",
      "site": "dev.asia.wiki.org",
      "date": 1450203298704
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "paragraph",
        "id": "59960603b6bf69b1",
        "text": "Many Items contain text of a type-specific markup. "
      },
      "date": 1543076068797
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "paragraph",
        "id": "59960603b6bf69b1",
        "text": "Many items contain text of a type-specific markup. "
      },
      "date": 1543076084419
    },
    {
      "type": "fork",
      "site": "ward.asia.wiki.org"
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "paragraph",
        "id": "59960603b6bf69b1",
        "text": "<span style=\"color:red\">While many items contain text of a type-specific markup, or DSL. Some items also add extra items, e.g. the image plugin add a `url` and `caption`, and the map plugin adds items for `lat/lon`, tile server url and credits.</span>"
      },
      "date": 1543207386658
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "html",
        "id": "59960603b6bf69b1",
        "text": "<span style=\"color:red\">While many items contain text of a type-specific markup, or DSL. Some items also add extra items, e.g. the image plugin add a `url` and `caption`, and the map plugin adds items for `lat/lon`, tile server url and credits.</span>"
      },
      "date": 1543207390161
    },
    {
      "type": "edit",
      "id": "d50e80d8d5a269cd",
      "item": {
        "type": "code",
        "id": "d50e80d8d5a269cd",
        "text": "story = [ item ]\nitem = { type, id, text, ... }\ntype = \"paragraph|image|factory|reference|...\"\nid = \"67b842ac89e61cc3\"\ntext = \"The strongest of all warriors...\""
      },
      "date": 1543207408640
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "html",
        "id": "59960603b6bf69b1",
        "text": "<span style=\"color:red\">While many items contain text of a type-specific markup, or DSL. Some items also add extra items, e.g. the data plugin adds <code>data</code> and <code>column</code> items, while the image plugin add a `url` and `caption`, and the map plugin adds items for `lat/lon`, tile server url and credits.</span>"
      },
      "date": 1543207945699
    },
    {
      "type": "fork",
      "site": "goals.pod.rodwell.me"
    },
    {
      "type": "edit",
      "id": "59960603b6bf69b1",
      "item": {
        "type": "paragraph",
        "id": "59960603b6bf69b1",
        "text": "While many items contain text of a type-specific markup, or DSL. Some items also add extra items, e.g. the data plugin adds `data` and `column` items, while the image plugin add a `url` and `caption`, and the map plugin adds items for `lat/lon`, tile server url and credits."
      },
      "date": 1543250525122
    },
    {
      "item": {
        "type": "factory",
        "id": "dbd6bcedcab48bc3"
      },
      "id": "dbd6bcedcab48bc3",
      "type": "add",
      "after": "9ab33be809ebc4f3",
      "date": 1597255693378,
      "fork": "ward.asia.wiki.org"
    },
    {
      "type": "fork",
      "site": "ward.asia.wiki.org",
      "date": 1597255695713
    },
    {
      "type": "fork",
      "site": "clive.tries.fed.wiki",
      "date": 1626847613937
    },
    {
      "type": "remove",
      "id": "dbd6bcedcab48bc3",
      "date": 1640019112940
    },
    {
      "type": "fork",
      "date": 1641575619511
    },
    {
      "type": "fork",
      "date": 1641575620728
    }
  ]
}