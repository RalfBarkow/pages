{
  "title": "Set Up FedWiki",
  "story": [
    {
      "type": "paragraph",
      "id": "5bdbf55ef9d9d162",
      "text": "This page is for notes on how to install and configure Federated Wiki."
    },
    {
      "type": "paragraph",
      "id": "d91469da37253188",
      "text": "See also [[Federated Wiki (Node.js server version)]]."
    },
    {
      "type": "code",
      "id": "b53d6d3ee64eca2b",
      "text": "$ npm install -g wiki\n$ wiki"
    },
    {
      "type": "markdown",
      "id": "dc2674d215d0d4ad",
      "text": "\n* [[Commands to run FedWiki]]\n* [[Putting FedWiki server in the background]]\n* [[Installing and updating plugins]]\n"
    },
    {
      "type": "markdown",
      "id": "161445d130ec1da8",
      "text": "# See also\n- Marc wrote a guide, a more complete set of pages: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]\n- [[node2nix]] – Install the [[Federated Wiki (Node.js server version)]] on [[NixOS]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Set Up FedWiki",
        "story": []
      },
      "date": 1619035341934
    },
    {
      "item": {
        "type": "factory",
        "id": "5bdbf55ef9d9d162"
      },
      "id": "5bdbf55ef9d9d162",
      "type": "add",
      "date": 1619035343785
    },
    {
      "type": "edit",
      "id": "5bdbf55ef9d9d162",
      "item": {
        "type": "paragraph",
        "id": "5bdbf55ef9d9d162",
        "text": "This page is for notes on how to install and configure Federated Wiki."
      },
      "date": 1619035358505
    },
    {
      "type": "edit",
      "id": "5bdbf55ef9d9d162",
      "item": {
        "type": "paragraph",
        "id": "5bdbf55ef9d9d162",
        "text": "This page is for notes on how to install and configure Federated Wiki. Started by Pete, who is pretty new to server administration etc., so there may be major mistakes!"
      },
      "date": 1619035383170
    },
    {
      "item": {
        "type": "factory",
        "id": "9583efd91e3c9456"
      },
      "id": "9583efd91e3c9456",
      "type": "add",
      "after": "5bdbf55ef9d9d162",
      "date": 1619035386314
    },
    {
      "type": "edit",
      "id": "9583efd91e3c9456",
      "item": {
        "type": "markdown",
        "id": "9583efd91e3c9456",
        "text": "# Install using apt\nOn a Debian or Ubuntu-based syste"
      },
      "date": 1619035549368
    },
    {
      "id": "7547a0585c224eb3",
      "type": "add",
      "item": {
        "type": "code",
        "id": "7547a0585c224eb3",
        "text": "ssh wikiwki.mynetgear.com\n\n# download the the repository key with\ncurl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | sudo apt-key add -\n\n# then setup the repository\n\nsudo sh -c \"echo deb https://deb.nodesource.com/node_14.x groovy main \\\n> /etc/apt/sources.list.d/nodesource.list\"\nsudo apt-get update\nsudo apt-get install nodejs\n\nnpm install --global wiki\nwiki --security_legacy\nctrl-Z\nbg"
      },
      "after": "9583efd91e3c9456",
      "date": 1619035625479
    },
    {
      "type": "edit",
      "id": "7547a0585c224eb3",
      "item": {
        "type": "code",
        "id": "7547a0585c224eb3",
        "text": "# download the the repository key with\ncurl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | sudo apt-key add -\n\n# then setup the repository\n\nsudo sh -c \"echo deb https://deb.nodesource.com/node_14.x groovy main \\\n> /etc/apt/sources.list.d/nodesource.list\"\nsudo apt-get update\nsudo apt-get install nodejs\n\nnpm install --global wiki\nwiki --security_legacy\nctrl-Z\nbg"
      },
      "date": 1619035675325
    },
    {
      "type": "edit",
      "id": "9583efd91e3c9456",
      "item": {
        "type": "markdown",
        "id": "9583efd91e3c9456",
        "text": "# Install using apt\nOn a Debian or Ubuntu-based system you can use apt-get (or on Ubuntu, just apt) to install node aka NodeJS, which is an important prerequisite for wiki."
      },
      "date": 1619035709790
    },
    {
      "type": "edit",
      "id": "9583efd91e3c9456",
      "item": {
        "type": "markdown",
        "id": "9583efd91e3c9456",
        "text": "# Install using apt\nOn a Debian or Ubuntu-based system you can use apt-get (or on Ubuntu, just apt) to install node aka NodeJS, which is an important prerequisite for wiki.\n"
      },
      "date": 1619035758504
    },
    {
      "type": "add",
      "id": "9414ec78490ec62e",
      "item": {
        "type": "markdown",
        "id": "9414ec78490ec62e",
        "text": "npm is some kind of installation environment which comes along with node (?) and that's how we will install wiki. (There's no man page for npm)"
      },
      "after": "9583efd91e3c9456",
      "date": 1619035790746
    },
    {
      "type": "edit",
      "id": "9583efd91e3c9456",
      "item": {
        "type": "markdown",
        "id": "9583efd91e3c9456",
        "text": "# Install using apt & npm\nOn a Debian or Ubuntu-based system you can use apt-get (or on Ubuntu, just apt) to install node aka NodeJS, which is an important prerequisite for wiki.\n"
      },
      "date": 1619035816138
    },
    {
      "item": {
        "type": "factory",
        "id": "dc3214ea5c85d803"
      },
      "id": "dc3214ea5c85d803",
      "type": "add",
      "after": "7547a0585c224eb3",
      "date": 1619035851940
    },
    {
      "type": "edit",
      "id": "dc3214ea5c85d803",
      "item": {
        "type": "markdown",
        "id": "dc3214ea5c85d803",
        "text": "# Command(s) to run wiki\nThe simplest way to run wiki is:\n- wiki --security_legacy\n"
      },
      "date": 1619035930963
    },
    {
      "type": "add",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will "
      },
      "after": "dc3214ea5c85d803",
      "date": 1619035941714
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by going to http://<ipaddress>:3000 and the security_legacy flag means that anybody will be able to edit the wiki; there is no login capability at all.\n"
      },
      "date": 1619036080359
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting '''http://<ipaddress>:3000''' and the security_legacy flag means that anybody will be able to edit the wiki; there is no login capability at all.\n"
      },
      "date": 1619036104549
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting '''http://<ipaddress>:3000''' and the security_legacy flag means that anybody will be able to edit the wiki; there is no login capability at all. \n"
      },
      "date": 1619036151692
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting **http://<ipaddress>:3000** and the security_legacy flag means that anybody will be able to edit the wiki; there is no login capability at all. \n"
      },
      "date": 1619036184128
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting **http://<ipaddress>:3000** and the **security_legacy** flag means that anybody will be able to edit the wiki; there is no login capability at all. \n"
      },
      "date": 1619036197473
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting **http://<ipaddress>:3000** and the **security_legacy** flag means that anybody will be able to edit the wiki; there is no login capability at all. \n\nAs a non-elevated user (that is, without using the **sudo** command), you can't use ports lower than (maybe?) 1000, which means you can't use port 80 (standard for web browsers)."
      },
      "date": 1619036258018
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting **http://<ipaddress>:3000** and the **security_legacy** flag means that anybody will be able to edit the wiki; there is no login capability at all. \n\nAs a non-elevated user (that is, without using the **sudo** command), you can't run services on ports lower than (maybe?) 1000, which means you can't use port 80 (standard for web browsers)."
      },
      "date": 1619036274704
    },
    {
      "type": "edit",
      "id": "5ef86947322d5ef0",
      "item": {
        "type": "markdown",
        "id": "5ef86947322d5ef0",
        "text": "This will run one wiki site on port 3000 (the default) on your local network; it will be accessible to other computers on your local network by visiting **http://<ipaddress>:3000** and the **security_legacy** flag means that anybody will be able to edit the wiki; there is no login capability at all. \n\nAs a non-elevated user (that is, without using the **sudo** command), you can't run services on ports lower than (maybe?) 1000, which means you can't use port 80 (standard for web browsers).\n"
      },
      "date": 1619036294199
    },
    {
      "type": "add",
      "id": "ae506e25da9096f4",
      "item": {
        "type": "markdown",
        "id": "ae506e25da9096f4",
        "text": "# Keeping it persistent\nIf you simply run the command as described above, the server is within your user's login session; so if that session gets interrupted, if you log out, etc., the server will stop running. A simple way to get around this is with the **screen** command.\n\n*Run screen, and give the session you're about to start the name \"wiki\":* \n- screen -S wiki"
      },
      "after": "5ef86947322d5ef0",
      "date": 1619036421763
    },
    {
      "type": "edit",
      "id": "ae506e25da9096f4",
      "item": {
        "type": "markdown",
        "id": "ae506e25da9096f4",
        "text": "# Keeping it persistent\nIf you simply run the command as described above, the server is within your user's login session; so if that session gets interrupted, if you log out, etc., the server will stop running. A simple way to get around this is with the **screen** command.\n\n*Run screen, and give the session you're about to start the name \"wiki\":* \n- screen -S wiki\n"
      },
      "date": 1619036426141
    },
    {
      "type": "add",
      "id": "e0b7a2480266a45c",
      "item": {
        "type": "markdown",
        "id": "e0b7a2480266a45c",
        "text": "*Run the wiki, using the command given above or any of several variants discussed below:*\n* wiki --security_legacy\n"
      },
      "after": "ae506e25da9096f4",
      "date": 1619036476162
    },
    {
      "type": "add",
      "id": "0201e8944da4f870",
      "item": {
        "type": "markdown",
        "id": "0201e8944da4f870",
        "text": "*Now \"detach\" that screen session, which means make it stay running without needing to keep your login session attached to it.*\n* *type* control-a *and then* d\n\n*If/when you want to get back to this session (re-attach the screen), you can call it back up with the following command:\n* screen -r\n*If you have more than one detached sessions running though, you will need to call it up by the name you gave the session in the first step:\n* screen -r wiki"
      },
      "after": "e0b7a2480266a45c",
      "date": 1619036627354
    },
    {
      "type": "edit",
      "id": "0201e8944da4f870",
      "item": {
        "type": "markdown",
        "id": "0201e8944da4f870",
        "text": "*Now \"detach\" that screen session, which means make it stay running without needing to keep your login session attached to it.*\n* *type* control-a *and then* d\n\n*If/when you want to get back to this session (re-attach the screen), you can call it back up with the following command:*\n* screen -r\n*If you have more than one detached sessions running though, you will need to call it up by the name you gave the session in the first step:*\n* screen -r wiki"
      },
      "date": 1619036639982
    },
    {
      "type": "edit",
      "id": "0201e8944da4f870",
      "item": {
        "type": "markdown",
        "id": "0201e8944da4f870",
        "text": "*Now \"detach\" that screen session, which means make it stay running without needing to keep your login session attached to it.*\n* *type* control-a *and then* d\n\n*If/when you want to get back to this session (re-attach the screen), you can call it back up with the following command:*\n* screen -r\n\n*If you have more than one detached sessions running though, you will need to call it up by the name you gave the session in the first step:*\n* screen -r wiki"
      },
      "date": 1619036650214
    },
    {
      "type": "edit",
      "id": "ae506e25da9096f4",
      "item": {
        "type": "markdown",
        "id": "ae506e25da9096f4",
        "text": "# Keeping it persistent\nIf you simply run the command as described above, the server is within your user's login session; so if that session gets interrupted, if you log out, etc., the server will stop running. A simple way to get around this is with the **screen** command. (There are more robust ways to do it; these instructions are likely good enough for testing and lightweight home use.)\n\n*Run screen, and give the session you're about to start the name \"wiki\":* \n- screen -S wiki\n"
      },
      "date": 1619036700201
    },
    {
      "type": "add",
      "id": "dc2674d215d0d4ad",
      "item": {
        "type": "factory",
        "id": "dc2674d215d0d4ad",
        "text": "[[Install]]"
      },
      "after": "5bdbf55ef9d9d162",
      "date": 1619037113890
    },
    {
      "type": "edit",
      "id": "dc2674d215d0d4ad",
      "item": {
        "type": "markdown",
        "id": "dc2674d215d0d4ad",
        "text": "[[Install FedWiki]]\n[[Commands to run FedWiki]]\n[[Putting FedWiki server in the background]]\n"
      },
      "date": 1619037169762
    },
    {
      "id": "9583efd91e3c9456",
      "type": "remove",
      "date": 1619037182805
    },
    {
      "id": "9414ec78490ec62e",
      "type": "remove",
      "date": 1619037185258
    },
    {
      "id": "7547a0585c224eb3",
      "type": "remove",
      "date": 1619037187835
    },
    {
      "id": "dc3214ea5c85d803",
      "type": "remove",
      "date": 1619037230242
    },
    {
      "id": "5ef86947322d5ef0",
      "type": "remove",
      "date": 1619037236759
    },
    {
      "id": "ae506e25da9096f4",
      "type": "remove",
      "date": 1619037253819
    },
    {
      "id": "e0b7a2480266a45c",
      "type": "remove",
      "date": 1619037259410
    },
    {
      "id": "0201e8944da4f870",
      "type": "remove",
      "date": 1619037267212
    },
    {
      "item": {
        "type": "factory",
        "id": "161445d130ec1da8"
      },
      "id": "161445d130ec1da8",
      "type": "add",
      "after": "dc2674d215d0d4ad",
      "date": 1619070517125
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "paragraph",
        "id": "161445d130ec1da8",
        "text": "(See [[2021-04-18 SSH Wizardry]] for the source for many of these notes)"
      },
      "date": 1619070591199
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "paragraph",
        "id": "161445d130ec1da8",
        "text": "([[2021-04-18 SSH Wizardry]]=source for much of this)"
      },
      "date": 1619070625105
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "paragraph",
        "id": "161445d130ec1da8",
        "text": "([[2021-04-18 SSH Wizardry]] has helpful info)"
      },
      "date": 1619070659293
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "paragraph",
        "id": "161445d130ec1da8",
        "text": "# See also"
      },
      "date": 1619114247887
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "factory",
        "id": "161445d130ec1da8",
        "text": "# See also([[2021-04-18 SSH Wizardry]] has helpful info)"
      },
      "date": 1619114253641
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc already took a stab at this, and has a more complete set of pages here: [[One Wiki Hosting Guide]]\n- [[2021-04-18 SSH Wizardry]] has helpful info (mostly organized into the pages above)"
      },
      "date": 1619114303134
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc already took a stab at this, and has a more complete set of pages here: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]"
      },
      "date": 1619114363031
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc wrote a guide, a more complete set of pages: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]"
      },
      "date": 1619114388801
    },
    {
      "type": "edit",
      "id": "dc2674d215d0d4ad",
      "item": {
        "type": "markdown",
        "id": "dc2674d215d0d4ad",
        "text": "[[Install FedWiki]]\n[[Commands to run FedWiki]]\n[[Putting FedWiki server in the background]]\n[[Installing and updating plugins]]\n"
      },
      "date": 1619114420132
    },
    {
      "type": "edit",
      "id": "dc2674d215d0d4ad",
      "item": {
        "type": "markdown",
        "id": "dc2674d215d0d4ad",
        "text": "* [[Install FedWiki]]\n* [[Commands to run FedWiki]]\n* [[Putting FedWiki server in the background]]\n* [[Installing and updating plugins]]\n"
      },
      "date": 1619114562745
    },
    {
      "type": "fork",
      "site": "pete.dojo.fed.wiki",
      "date": 1622069140151
    },
    {
      "type": "fork",
      "site": "nes.marc.tries.fed.wiki",
      "date": 1627000350131
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc wrote a guide, a more complete set of pages: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]\n- [[node2nix]] – Install the "
      },
      "date": 1633697043215
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc wrote a guide, a more complete set of pages: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]\n- [[node2nix]] – Install the [["
      },
      "date": 1633697055275
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc wrote a guide, a more complete set of pages: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]\n- [[node2nix]] – Install the [[Federated Wiki (Node.js server version)]] on nixos"
      },
      "date": 1633697074544
    },
    {
      "type": "edit",
      "id": "161445d130ec1da8",
      "item": {
        "type": "markdown",
        "id": "161445d130ec1da8",
        "text": "# See also\n- Marc wrote a guide, a more complete set of pages: [[One Wiki Hosting Guide]]\n- Eric's notes contain helpful info (mostly organized into the pages above): [[2021-04-18 SSH Wizardry]]\n- [[node2nix]] – Install the [[Federated Wiki (Node.js server version)]] on [[NixOS]]"
      },
      "date": 1633697099208
    },
    {
      "type": "edit",
      "id": "5bdbf55ef9d9d162",
      "item": {
        "type": "paragraph",
        "id": "5bdbf55ef9d9d162",
        "text": "This page is for notes on how to install and configure Federated Wiki."
      },
      "date": 1643924419858
    },
    {
      "type": "add",
      "id": "d91469da37253188",
      "item": {
        "type": "paragraph",
        "id": "d91469da37253188",
        "text": "See also [[Federated Wiki (Node.js server version)]]."
      },
      "after": "5bdbf55ef9d9d162",
      "date": 1643924454200
    },
    {
      "item": {
        "type": "factory",
        "id": "b53d6d3ee64eca2b"
      },
      "id": "b53d6d3ee64eca2b",
      "type": "add",
      "after": "161445d130ec1da8",
      "date": 1643924468001
    },
    {
      "type": "edit",
      "id": "b53d6d3ee64eca2b",
      "item": {
        "type": "code",
        "id": "b53d6d3ee64eca2b",
        "text": "$ npm install -g wiki\n$ wiki"
      },
      "date": 1643924471463
    },
    {
      "id": "b53d6d3ee64eca2b",
      "type": "move",
      "order": [
        "5bdbf55ef9d9d162",
        "d91469da37253188",
        "b53d6d3ee64eca2b",
        "dc2674d215d0d4ad",
        "161445d130ec1da8"
      ],
      "date": 1643924473733
    },
    {
      "type": "edit",
      "id": "dc2674d215d0d4ad",
      "item": {
        "type": "markdown",
        "id": "dc2674d215d0d4ad",
        "text": "\n* [[Commands to run FedWiki]]\n* [[Putting FedWiki server in the background]]\n* [[Installing and updating plugins]]\n"
      },
      "date": 1643924505730
    }
  ]
}