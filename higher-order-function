{
  "title": "Higher Order Function",
  "story": [
    {
      "type": "html",
      "text": "aka <b>HOF</b>.",
      "id": "490dc4c185a14b14d777581ae76f1cfb"
    },
    {
      "type": "html",
      "text": "\nA function that takes a function as an argument, or returns a function as a result; this latter use is just as important as functions-which-take-functional-arguments such as \"foreach\" or \"filter\" or \"reduce\". The latter requires insightful cleverness in languages such as [[Cee Plus Plus]] [c.f., [[Boost Bind]] which relies on using functional programming concepts as a by-product of C++'s templates]. [See also [[Functoids In Cpp]].]",
      "id": "8daf3f72c3dc586c4bf737b9d0dbef31"
    },
    {
      "type": "html",
      "text": "\nIt is just a [[Layer Of Indirection]] for function references.",
      "id": "039bbdbf2a7b6325423f971571990248"
    },
    {
      "type": "html",
      "text": " You may be thinking of [[Lexical Closure]]s, top, but never mind. Function pointers are <i>not</i> an adequate substitute, otherwise [[Cee Language]] would be a [[Functional Programming Language]].",
      "id": "fd3aba9fe3ed7e31bfa28ee8e186ceb8"
    },
    {
      "type": "html",
      "text": "<i>I've always thought that <b>qsort</b> and the like (in C/C++) which uses pointers to functions as arguments were higher order functions.</i> <b>Nope. See the next line as a better example of HOFs.</b>",
      "id": "20148eca35145ed3cc3e28db2cbe53dc"
    },
    {
      "type": "html",
      "text": " How, in C++, can one define a function <b>f</b> that takes an integer <b>n</b> and returns a function <b>g</b> that takes an integer <b>x</b> and returns <b>x+n</b>?",
      "id": "ecd8e6ce5fa7bcc963d2c4d3da222aa7"
    },
    {
      "type": "html",
      "text": "\nSomething like?:",
      "id": "cac653c043c67b2438f2887971add5aa"
    },
    {
      "type": "code",
      "text": "  std::binder1st<std::plus<int> > f(int n) {\n    return std::bind1st(std::plus<int>(), n);\n  }",
      "id": "b312c13ec72025c6f2b60bdcf1198fa1"
    },
    {
      "type": "html",
      "text": "This is standard C++, though some people regard it as ugly. Not so much the use of 'std::', but the code itself, especially the syntactically significant white space between the nested >'s. That is why some people prefer languages with true first class functions.",
      "id": "c1358c596735b24460c05c6fecea28e2"
    },
    {
      "type": "html",
      "text": "<i>[[Functoids In Cpp]] discusses FC++ which is a library implementing this and much more.</i> -- [[John Fletcher]]",
      "id": "c85422299ccb7309ae7b9f6a38486247"
    },
    {
      "type": "html",
      "text": "\nSome languages have built-in convenience mechanisms to do this. There are some examples in everyone's favorite languages below, as well as on the [[Common Higher Order Functions]] page.",
      "id": "da55b6aca62f47c793ce6746534cd055"
    },
    {
      "type": "html",
      "text": "\nIt is rather simple to accomplish this in the [[Python Language]]:",
      "id": "539e74809450751f497c05055f6ab5d6"
    },
    {
      "type": "code",
      "text": "  def f(n):\n      def g(x):\n          return x + n\n      return g",
      "id": "d54431c07402ce0e6e5c4fdc4d9f417a"
    },
    {
      "type": "html",
      "text": "[[Blocks In Ruby]] lists some great usages of higher order functions. In Ruby, they're called \"blocks\", they are a special language construct, and you cannot pass more than one to any routine.",
      "id": "ea9814088aacbd2b133006e70b03dfc0"
    },
    {
      "type": "html",
      "text": "<i>Incorrect, blocks are anonymous functions, not higher order functions. The higher order functions would be the function to which you pass the block. The combination of anonymous functions and higher order functions together are where you get the power from, the anonymous functions essentially specialize the higher order function. Any language that supports passing functions as parameters can support higher order functions, but without anonymous functions, they won't get used too often, [[Csharp Language]] is such a beast. -- [[Ramon Leon]]</i>",
      "id": "c386168cc5139fd105af38435a02622c"
    },
    {
      "type": "html",
      "text": "[Although not for much longer - version 2 of the language will feature anonymous functions (which are fully-fledged [[Lexical Closure]]s), along with a standard set of [[Higher Order Function]]-style methods on the collection classes (usual map/filter/forall/iter/etc, but with different names (presumably they don't want to \"confuse\" people who haven't seen them before... at the expense of confusing those of us who <i>have</i> seen them before...)). See [http://blogs.msdn.com/kcwalina/archive/2004/06/22/162533.aspx blogs.msdn.com] for some preliminary details of the collection methods. -- [[Mike Roome]]]",
      "id": "ce5df13f26dc5a80b36533b248f87063"
    },
    {
      "type": "html",
      "text": "<i>Not suprising, it is standard Microsoft practice to rename and reimplement and then pretend they invented something new. They'll be nice to have though. -- rl</i>",
      "id": "80dd5321c1dcf6f1dbd96b0f9fe351d2"
    },
    {
      "type": "html",
      "text": "\nNo, it's standard Microsoft practice to take something, rename it, <b>patent</b> it and pretend they invented something new.",
      "id": "b45a205638e6d5a423ac9a1a2e3237b7"
    },
    {
      "type": "html",
      "text": "<i>No, it's everyone else's practice to say \"look at all these languages with feature x - isn't it great that we all build on each other like that?\" unless someone at Microsoft does exactly the same thing.</i>",
      "id": "a5949388917f3333aca1c37120cb7ec9"
    },
    {
      "type": "html",
      "text": "(But you didn't grasp the anti-Microsoft complain. Patenting means to take control and to stop everyone else to \"build on that\" without consent, so the \"great we build on each other\" will become \"look, they have built on Microsoft's\", plus \"let's see if we can sue them\" when applicable... Microsoft does not want you to say \"we all build on each other\", but \"we all build on Microsoft's great original ideas\", though they have just build on the other. See the difference? Of course, it does not happen to be always like this, but the complain is about this MS general attitude, which tears MS away from a community behaviour where you, like everyone else, can say happily \"great that we build on each other\")",
      "id": "599e2073092229158ba1528c78c8e8fc"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "Sure. I program in [[Common Lisp]]. Using [[Higher Order Function]]s is so common that you don't even notice it. The built-in ones are: mapcar (and friends), apply, funcall, sort (it takes the comparison function object as argument), count-if, remove-if, delete-if, and a <i>whole</i> heap of functions which take the :test optional key argument (e.g. find).",
      "id": "eee9fc3914163f8dc28a32f4c212e33e"
    },
    {
      "type": "html",
      "text": "\nThe way you use these is in expressions like",
      "id": "475a8a81f29e69c48a6f5ac79142af1d"
    },
    {
      "type": "code",
      "text": "  (dolist (func (find-all-if #'suitable-p *my-objs-containing-a-func))\n    (funcall (object-function-slot func)))",
      "id": "9e80c3cd597747bb82d7be6b89ca5435"
    },
    {
      "type": "html",
      "text": "Without dolist it looks much better. ;-)",
      "id": "63f736b5a679c844ba01197b800ca407"
    },
    {
      "type": "code",
      "text": "  (mapc #'funcall (find-all-if #'suitable-p *my-objs-containing-a-func))",
      "id": "4e3bd688a0ae5f2f072a529ba2b6971d"
    },
    {
      "type": "html",
      "text": "But, as I say, that's just the built-ins. The <b>real</b> power comes from using this naturally in your own algorithms. For example, the [[Strategy Pattern]] totally disappears in such a language: you just pass the function to use instead of creating classes for the strategy.",
      "id": "b7cbdba7b49cfbe5448b522e9d56b5ec"
    },
    {
      "type": "html",
      "text": "(As a side note, many, if not most, of the patterns in the patterns book are unnecessary or considerably simpler in languages which support functions as first class objects. See [[Peter Norvig]]'s [[Design Patterns In Dynamic Programming]].",
      "id": "87f9860678fd95046aa44869e7d6c67f"
    },
    {
      "type": "html",
      "text": "-- [[Alain Picard]] (but feel free to [[Refactor Me]])",
      "id": "bb9b791194f2b329b0bf15a2a7375b39"
    },
    {
      "type": "html",
      "text": " This isn't much better than the [[Cee Plus Plus]] version of a [[Higher Order Function]]. They're both ugly, and which is less ugly just depends on which you're more used to looking at.",
      "id": "b6d56ec11d6723ac303502631e0f7a91"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "Here are three simple examples of [[Internal Iterator]]s (using the [[Map Function]]).",
      "id": "abac0e3b014143dd0628473b0ef4a622"
    },
    {
      "type": "html",
      "text": "\n[[Perl Language]] example:",
      "id": "ba86e0a9665092be02010d550d309829"
    },
    {
      "type": "code",
      "text": "  sub double\n  {\n    return 2 * shift;\n  }",
      "id": "3c9c2eebfc7d7ebd27fc1816c9508ceb"
    },
    {
      "type": "code",
      "text": "  @a = ( 1, 2, 3, 4, 5 );\n  @b = map { double( $_ ) } @a;",
      "id": "04e3727622305612d5ea23825d89e04e"
    },
    {
      "type": "code",
      "text": "  ... or perl's \"list-comprehension-ish\" 'gather' clause",
      "id": "846d91b09f5fb910a9f00520259d64d2"
    },
    {
      "type": "code",
      "text": "  use Perl6::Gather;\n  @b = gather { take $_ * 2 } foreach 1..5;",
      "id": "7ecbb42045759c882f8b6fa566030296"
    },
    {
      "type": "html",
      "text": "[[Ruby Language]] example:",
      "id": "f8d3d5c6d09c708e1f8aeb0cb51f0936"
    },
    {
      "type": "code",
      "text": "  def double ( num )\n    return 2 * num\n  end",
      "id": "a65c5ef290dd58d34242ff9d7d02af88"
    },
    {
      "type": "code",
      "text": "  a = [ 1, 2, 3, 4, 5 ]\n  b = a.collect { |value| double( value ) }",
      "id": "83da3db5f21d68cea23f99c82b307d18"
    },
    {
      "type": "html",
      "text": "Alternative Ruby version(s):",
      "id": "cd6716625bfd9cde0ef2afafa3a0a69f"
    },
    {
      "type": "code",
      "text": "  double = lambda { |num| 2 * num }\n  b = a.map(&double)",
      "id": "2c6bbdbddc9b0dde9d60025a8f281fe0"
    },
    {
      "type": "html",
      "text": "or even",
      "id": "d1e5fc821459dbb86943b11bf14fc453"
    },
    {
      "type": "code",
      "text": "  b = a.map { |num| 2 * num }",
      "id": "e142e44ee34fea4d24260d55bd2047a9"
    },
    {
      "type": "html",
      "text": "[[Smalltalk Language]] example: (very similar to the [[Ruby Language]] example)",
      "id": "ae7ecabd09085f20ad2a6d8f87ec2daa"
    },
    {
      "type": "code",
      "text": "  Number>>double\n    ^ 2 * self",
      "id": "89e3d67e62d180d563ecb525de47808b"
    },
    {
      "type": "code",
      "text": "  a := #(1 2 3 4 5).\n  b := a collect: [ :value | value double].",
      "id": "d5fab1251d06fc9fc796e51aa90ba8b4"
    },
    {
      "type": "html",
      "text": "\nor",
      "id": "1a7d36c8258df2c9569e17d9808a632c"
    },
    {
      "type": "html",
      "text": "(1 to:<br>5) collect: [ :i | 2 * i ]",
      "id": "454e5470cd67063c6b087cd566276b8f"
    },
    {
      "type": "html",
      "text": "\n[[Python Language]] example:",
      "id": "a2e1a230d9f33ee778236f996da56a58"
    },
    {
      "type": "code",
      "text": "  ... with explicit function declaration",
      "id": "7ec395865b27273898d736af9dcfeea0"
    },
    {
      "type": "code",
      "text": "  def doubleit( num ):\n    return 2*num\n  a = ( 1, 2, 3, 4, 5 )\n  b = map( doubleit, a )",
      "id": "5302a949a2e2eb1c8e338ea9a5c59eeb"
    },
    {
      "type": "code",
      "text": "  ... or with lambda",
      "id": "27214b7947180cd3928a851c73c5431e"
    },
    {
      "type": "html",
      "text": "b = map(lambda num:<br>2 * num, a)",
      "id": "4ce9f3307e6360172d88e55df2bcdac9"
    },
    {
      "type": "code",
      "text": "  ... or with ListComprehension:",
      "id": "f5521d92076c0b246a952f32cbf3fb32"
    },
    {
      "type": "code",
      "text": "  b = [ 2 * num for num in a ]",
      "id": "67d61c394e8bf72549548685b3183ed0"
    },
    {
      "type": "html",
      "text": "[[Scheme Language]] example:",
      "id": "c7d5d53e9d908bc3f9b09cfe3abe2bf0"
    },
    {
      "type": "code",
      "text": "  (define (double num) (* 2 num))\n  (define a '(1 2 3 4 5))\n  (define b (map double a))",
      "id": "b8492777521c1a29577f43a247021cba"
    },
    {
      "type": "html",
      "text": "or",
      "id": "0ca44d9911af568e303d493d3e615b5f"
    },
    {
      "type": "code",
      "text": "  (define b (map (lambda (x) (* 2 x)) a))",
      "id": "90b4920fecff78c2be7fd706207ea610"
    },
    {
      "type": "html",
      "text": "[[Common Lisp]] example:",
      "id": "c238f29828730a5dd22d3661bb2d42be"
    },
    {
      "type": "code",
      "text": "  (defun double (num) (* 2 num))\n  (defvar *a* (list 1 2 3 4 5))\n  (defvar *b* (mapcar #'double *a*))",
      "id": "670e898727a8db5e7cd168ae0e35dc3d"
    },
    {
      "type": "html",
      "text": "or",
      "id": "0ca44d9911af568e303d493d3e615b5f"
    },
    {
      "type": "code",
      "text": "  (defvar *b* (mapcar #'(lambda (x) (* 2 x)) *a*)",
      "id": "6eac7a068ab2c8652607419850d99b16"
    },
    {
      "type": "html",
      "text": "[[Objective Caml]] example:",
      "id": "6b2f00ae185f00a194906db12a300754"
    },
    {
      "type": "code",
      "text": "  let b = \n    let a = [1;2;3;4;5] in List.map (( * ) 2) a;;",
      "id": "d84fa2355e0afa834c6fc27c880e05a3"
    },
    {
      "type": "html",
      "text": "[[Haskell Language]] example:",
      "id": "44a3cd917dd546539ad698359fb55fab"
    },
    {
      "type": "code",
      "text": "  b = map (*2) [1..5]",
      "id": "2f0526756cea7f9be91cfeffeda745ab"
    },
    {
      "type": "html",
      "text": "In all cases, array b equals [ 2, 4, 6, 8, 10 ].",
      "id": "c129ca2e4907fa370deaa27a961b5faa"
    },
    {
      "type": "html",
      "text": "\n[[Erlang Language]] example:",
      "id": "4cb559b50843bff1e5ea22cdb7840de5"
    },
    {
      "type": "code",
      "text": "  ... with higher-order map and a LambdaExpression",
      "id": "4bddda0c0691abf45152044dbebbe384"
    },
    {
      "type": "code",
      "text": "  lists:map(fun(X) -> 2*X end, lists:seq(1,5)).",
      "id": "0210076164ba0764a9ca5d56758b0249"
    },
    {
      "type": "code",
      "text": "  ... or with a ListComprehension:",
      "id": "447825ec2a95be425b0b2689fccd35d7"
    },
    {
      "type": "code",
      "text": "  [ 2*X || X <- lists:seq(1,5) ].",
      "id": "53ab2b2940af31c961d449ca9a689e55"
    },
    {
      "type": "html",
      "text": "[[Cee Plus Plus]] example:",
      "id": "e66c014e0798214e2026cd833b3f5414"
    },
    {
      "type": "code",
      "text": "  vector<double> a, b;\n  // set a values to whatever\n  transform (\n  a.begin(), a.end(),  // take this range\n  back_inserter(b),  // append to b\n  bind1st(multiplies<double>(), 2)); // after multiplying by 2.",
      "id": "fec70f18ad23030b50253d154f709f25"
    },
    {
      "type": "html",
      "text": "or with boost::lambda <i>([[Boost Lambda Library]])</i>:",
      "id": "fa40f834b79a8d4c90a4485c91d8cbe4"
    },
    {
      "type": "code",
      "text": "  transform (a.begin(), a.end(), back_inserter(b), _1 * 2);",
      "id": "07c7b310f075159a860618134923fa4f"
    },
    {
      "type": "html",
      "text": "You can use a template function that uses one or more of its arguments as a [[Functor Object]] in [[Cee Plus Plus]] to make a Higher Order Function.",
      "id": "6a8c72b10908a109c4431ef7fa16f254"
    },
    {
      "type": "html",
      "text": "\n[[Groovy Language]] example: (basically the same as [[Ruby Language]] and [[Smalltalk Language]])",
      "id": "43fcabc1f1c520f4b19a92f5a9ef4dbb"
    },
    {
      "type": "code",
      "text": "  a = [1,2,3,4,5]\n  b = a.collect { 2 * it}",
      "id": "8a35cbbcfeb167d6ed8eb04a239db012"
    },
    {
      "type": "html",
      "text": "[[Csharp Language]] v2 example: ",
      "id": "57b257cfbc70bb8053997d0feab9d57b"
    },
    {
      "type": "code",
      "text": " int[] a = { 1, 2, 3, 4, 5 };\n int[] b = Array.Convert''''''All(a, delegate(int x) { return 2 * x; });",
      "id": "5252c9e9e6490843ed31abae6641403f"
    },
    {
      "type": "html",
      "text": "or using the List collection class:",
      "id": "73de206e683f92611725f1182eabaaf1"
    },
    {
      "type": "code",
      "text": " List<int> a = new List<int>(new int[] { 1, 2, 3, 4, 5 });\n List<int> b = a.Convert''''''All(delegate(int x) { return 2 * x; });",
      "id": "6b46a756cab874c3b265aa159a16b6ed"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "Also, [[Java Script]]<b></b>'s treatment of functions as first class objects makes it very simple to write [[Higher Order Function]]s, to use the above example we have to write map, but it's pretty simple:",
      "id": "62ff1184aa0908fd7f6f3f6cd8aad4ca"
    },
    {
      "type": "code",
      "text": "  Array.prototype.map=function(aBlock){\n    var result=new Array();\n    for(var index=0;index<this.length;index++)\n    result.push(aBlock(this[index]));\n    return result;\n  }",
      "id": "b75ef623a0e10a249a942b99e99aea4f"
    },
    {
      "type": "html",
      "text": "usage...",
      "id": "ccc0869b245f536ad925ac72bd02aba3"
    },
    {
      "type": "code",
      "text": "  var a = [1,2,3,4,5];\n  var b = a.map(function(x){return x*2;});",
      "id": "0fe6caf5f6fb52f12baaee9b8212ad3a"
    },
    {
      "type": "html",
      "text": "or",
      "id": "0ca44d9911af568e303d493d3e615b5f"
    },
    {
      "type": "code",
      "text": "  var b=[1,2,3,4,5].map(function(x){return x*2});",
      "id": "8ebbd1e91985c5687652a7c90afa074f"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "[[John Hughes]]'s paper \"[[Why Functional Programming Matters]]\" describes Higher Order Functions as functions that apply some policy to other functions in order to produce new functions. Functions are composed in this way to produce anonymous functions that do the work of the program. So, in order to use a Higher Order Function you would pass another function as a parameter. A couple of examples given of Higher Order Functions are reduce, which applies a function to every element of a collection and some running total which is then replaced by the output of the function, and map, which creates a new collection by applying some function to every element in a collection and adding the result to a new collection. -- [[Phil Goodwin]]",
      "id": "cc64f0b76225f8240a27bb8f1986c5e1"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "\nOcaml's ([[Objective Caml]]) [[My Sql]]-bindings provide nice practical examples of usage of higher order functions: it contains a routine iter, which takes a query result, a function that operates on an array of values of fields, and evaluates the function for every row that was returned in the result. Another routine is opt f v, which is meant to be used with values that might be null; for non-null values, it returns f applied to v, for null values, it returns null. So you don't have to write null handling into the function f itself.",
      "id": "2b2d592decb55c92bb327a9d0cb5084b"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "\nIs an ordinary function (one which neither takes a function as an argument, nor returns one as a result) a 0th order function, or a 1st order function? (Or do we even care?)",
      "id": "b9d0a931edd61857a0ca0c1eba452c51"
    },
    {
      "type": "html",
      "text": "\nAlso, is it ever useful to distinguish between different orders of functions? (Say, a second order function is one which either accepts or returns a first-order function, but no higher; a third-order function can accept or return a second-order function, etc.)",
      "id": "6b8b603a7ebd7ed485dd0c9079b0da17"
    },
    {
      "type": "html",
      "text": "<i>Not that I'm an authority, but I think it'd just be a regular function or a higher order function. Higher order isn't meant to be a numerical designation, but a way to describe functions that are specialized by, or produce other functions.</i>",
      "id": "e9336c4cfea9eae2f0548fc9beafe1ec"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "\n[[Php Language]] example:",
      "id": "3d84406484e2767f13208bb7bf326465"
    },
    {
      "type": "code",
      "text": "  function double($number)\n  {\n    return $number * 2;\n  }",
      "id": "d90db1eb370ec930b5ef86e523cc8feb"
    },
    {
      "type": "code",
      "text": "  $array = array(1,2,3,4,5);\n  $result = array_map(\"double\", $array); // perhaps using the array_map function is cheating? ;)",
      "id": "b60a102b7dca73ec4b433b6ef865d799"
    },
    {
      "type": "html",
      "text": "[[Php Language]] has a few interesting built-in functions to deal with higher-order functions. is_callable() will tell you if the given var is in fact a string containing a callable function name, an array containing an object and method name, or an array containing the class name and method name (for static methods). You can also quite easily use the contents of a variable to call a function....",
      "id": "91324d31af17cdd6a5912e4c360a6a69"
    },
    {
      "type": "code",
      "text": "  $foo = \"myFunkyFunc\";\n  $foo($arg, $arg1); // Calls myFunkyFunk.",
      "id": "0e355c98605122f2156f22b32ef77bc1"
    },
    {
      "type": "html",
      "text": "Although it works, I prefer to use the following method, as it is a little more readable",
      "id": "7aa7ebead4728d698ff7d46909f9275d"
    },
    {
      "type": "code",
      "text": "  $foo = \"myFunkyFunc\";\n  call_user_func($foo, $arg, $arg1);",
      "id": "d46267e3ded4d96400a30e0d91a555fb"
    },
    {
      "type": "html",
      "text": "<i>So, php has () as a postfix [[Evil Eval]]</i>",
      "id": "98c400ac4c349e5d38909813a54cc77a"
    },
    {
      "type": "html",
      "text": "\nPHP has variable variable names and variable function names. I believe it is called <i>reflection</i> in OO terms. So, for example, you can say",
      "id": "5887115699c8ff3df325ffc6bf7fca42"
    },
    {
      "type": "code",
      "text": "  $foo = \"myVar\";\n  $x = $$foo;     // $x contains the same value as $myVar;",
      "id": "84082baaff2c54f7a39b919fd1f6d020"
    },
    {
      "type": "html",
      "text": "<i>Getting PHP to <b>return</b> functions is somewhat more problematic. There is the \"create_function()\" function, to which you pass the parameter list and source of the function body, but its return value is pretty much unusable for creating further functions without a lot of grief (it contains a NUL character that really messes things about when you try and embed it in the source code of a new function). Even a function to implement function composition is problematic.</i>",
      "id": "fa51684aa93c70b872997b28b8b665a9"
    },
    {
      "type": "html",
      "text": "\nNot since PHP 5.3, which provides syntax for first-order functions (as another type of \"callable\" thing). As a side effect of the implementation, one can also write objects with a method that is called when the object is called as a function (i.e., as $obj('foo')).",
      "id": "553459188686e1c542e22a5f8ddb723e"
    },
    {
      "type": "code",
      "text": "  $array = [1,2,3,4,5];\n  $result = array_map(function($number)\n  {\n    return $number * 2;\n  }, $array);",
      "id": "4cef71c10e746e74435f27c8d645442e"
    },
    {
      "type": "html",
      "text": "\nA function to implement function composition would be",
      "id": "489f24bf3f073e026e4cd73d81c50fb5"
    },
    {
      "type": "code",
      "text": "  function o($f, $g)\n  {\n    // Variables in the outer scope have to be imported explicitly\n    return function($x)use($f, $g)\n    {\n      return $f($g($x));\n    };\n  }",
      "id": "6056c8419d320a2869101927f0beafc6"
    },
    {
      "type": "html",
      "text": "Of course, for proper generality you'd want o() to be curried:",
      "id": "d941669d2273c679fa8c83b45a94eef7"
    },
    {
      "type": "code",
      "text": "  function o($f)\n  {\n    return function($g)use($f)\n    {\n      return function($x)use($f, $g)\n      {\n        return $f($g($x));\n      };\n    };\n  }",
      "id": "7638af1fcfa4b4eb385844b7096248ca"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "Skeptical view of HOF's: [[Dynamic Strings Vs Functional]], [[Array Deletion Example]]",
      "id": "b889f740298a2e870392fdcd39829384"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": " This was moved from [[Array Deletion Example]] ",
      "id": "c3ddb7804803a8817b754350c1018a42"
    },
    {
      "type": "html",
      "text": "\nTo clarify it for me, does the [[Higher Order Function]] enable the second example?",
      "id": "6ed52ceadf98ec5c38646d2e882d95da"
    },
    {
      "type": "html",
      "text": " Less than [[Higher Order Function]] (First example)",
      "id": "e8331b89c05a55d66e16b83c33167a70"
    },
    {
      "type": "code",
      "text": " Keys = Select.Data(Entity.Name)\n Loop\n  Key = Remove.Field(Keys); * Removes Key from Keys\n Until Key = EOF",
      "id": "5b9b023b02b48627b73ae8bf3e66520e"
    },
    {
      "type": "html",
      "text": " Code for each key",
      "id": "5266ca0fe8f0c20a53813bfb64c50f79"
    },
    {
      "type": "code",
      "text": " Repeat",
      "id": "84bcec6f9a41ed64aabe1eea332475d4"
    },
    {
      "type": "html",
      "text": " [[Higher Order Function]] (Second example)",
      "id": "845954e3e934a1135c46ceba63f4383d"
    },
    {
      "type": "code",
      "text": " Keys = Create.Array.Iterator(Select.Data(Entity.Name))\n Iterate(Keys, Get.Object.Code(\"** Code for each key\"))",
      "id": "29e49cd8521fceac53915ebfb9affda8"
    },
    {
      "type": "html",
      "text": " And I notice this becomes a one-liner\t",
      "id": "e07c9195e354c0e896fa7e02da0b19ca"
    },
    {
      "type": "code",
      "text": " Iterate(Create.Array.Iterator(Select.Data(Entity.Name)), Get.Object.Code(\"** Code for each key\"))",
      "id": "58e24f6fa96a1231fc845622fe6d1f9e"
    },
    {
      "type": "html",
      "text": "-- [[Peter Lynch]]",
      "id": "57b39eb3bbb620d35df39662cc7e9b3b"
    },
    {
      "type": "html",
      "text": "<i>That is a rather long \"line\". I find code easier to read if parts are divided on multiple lines.</i>",
      "id": "ad7454057a0581f57182afd5ad869920"
    },
    {
      "type": "html",
      "text": "\nI think C programmers prefer this version -",
      "id": "f18b92130aeabbda53078ef3618a825f"
    },
    {
      "type": "html",
      "text": " It(CAI(SD(E)), GOC(\"** Code for each key\"))",
      "id": "16655d2db15bf5750e3f8d5bbe4caad4"
    },
    {
      "type": "html",
      "text": "\nBut I prefer the first version. Because it lays out the logic clearly. The admittedly smaller versions hide the fact that there is a loop, and scanning the code, I could easily miss the significance of that. -- [[Peter Lynch]]",
      "id": "8b2f7706babd5f898a0f43b96f9234fd"
    },
    {
      "type": "html",
      "text": "\nAs I read further about [[Functional Programming]], I think I get the difference between [[Higher Order Function]]s and [[Procedural Function]]s. While many languages provide an eval-like facility, those that are [[Higher Order]] parse and interpret scope at compile time - your 'generated' code is parsed at compile time. Other languages compile the 'generated' code at run-time, like an interpreter.",
      "id": "bd64761829c6295315555e66ddaec073"
    },
    {
      "type": "html",
      "text": "\nSo the above -",
      "id": "753957e844f1819fb5b1a71cf8668358"
    },
    {
      "type": "code",
      "text": " Iterate(Create.Array.Iterator(Select.Data(Entity.Name)), Get.Object.Code(\"** Code for each key\"))",
      "id": "58e24f6fa96a1231fc845622fe6d1f9e"
    },
    {
      "type": "html",
      "text": "Would read -",
      "id": "ce58b0f0e92abdfe3c60c4dea26d05eb"
    },
    {
      "type": "code",
      "text": " Iterate(Create.Array.Iterator(Select.Data(Entity.Name)), -\n       {Code.Compiler.Directive}\"** Code for each key\"{/Code.Compiler.Directive})",
      "id": "93eb2c4353e1e813164bdf09d6f3ca5d"
    },
    {
      "type": "html",
      "text": "(where the Code.Compile.Directive is whatever language specific syntax is used to indicate code.)",
      "id": "480671de52bcac9f837aa67d4ae45938"
    },
    {
      "type": "html",
      "text": "\nIs this correct? -- [[Peter Lynch]]",
      "id": "a63499bcc31320dde3f8abb3dcf90698"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "See also: [[Currying Schonfinkelling]] (now why didn't I guess from the name that's what it was about?), [[Eval Vs Polymorphism]], [[Switch Case List Versus Hof]]",
      "id": "40eea95ef5f1822b5f006b3c082f562d"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "dd5d07a31e6687731513641cfc2e1338"
    },
    {
      "type": "html",
      "text": "[[Category Functional Programming]] [[Category In Many Programming Languages]]",
      "id": "026238ec94ee5069659931e23102225c"
    },
    {
      "type": "html",
      "text": "See original on  [http://c2.com/cgi/wiki?HigherOrderFunction c2.com]",
      "id": "81f80ac496e57a8249a7bec623a0770e"
    }
  ],
  "journal": [
    {
      "date": 1407053929000,
      "id": "c012037f6ec2d1fabd6df44b4f8fb6bc",
      "type": "create",
      "item": {
        "title": "Higher Order Function",
        "story": [
          {
            "type": "html",
            "text": "aka <b>HOF</b>.",
            "id": "490dc4c185a14b14d777581ae76f1cfb"
          },
          {
            "type": "html",
            "text": "\nA function that takes a function as an argument, or returns a function as a result; this latter use is just as important as functions-which-take-functional-arguments such as \"foreach\" or \"filter\" or \"reduce\". The latter requires insightful cleverness in languages such as [[Cee Plus Plus]] [c.f., [[Boost Bind]] which relies on using functional programming concepts as a by-product of C++'s templates]. [See also [[Functoids In Cpp]].]",
            "id": "8daf3f72c3dc586c4bf737b9d0dbef31"
          },
          {
            "type": "html",
            "text": "\nIt is just a [[Layer Of Indirection]] for function references.",
            "id": "039bbdbf2a7b6325423f971571990248"
          },
          {
            "type": "html",
            "text": " You may be thinking of [[Lexical Closure]]s, top, but never mind. Function pointers are <i>not</i> an adequate substitute, otherwise [[Cee Language]] would be a [[Functional Programming Language]].",
            "id": "fd3aba9fe3ed7e31bfa28ee8e186ceb8"
          },
          {
            "type": "html",
            "text": "<i>I've always thought that <b>qsort</b> and the like (in C/C++) which uses pointers to functions as arguments were higher order functions.</i> <b>Nope. See the next line as a better example of HOFs.</b>",
            "id": "20148eca35145ed3cc3e28db2cbe53dc"
          },
          {
            "type": "html",
            "text": " How, in C++, can one define a function <b>f</b> that takes an integer <b>n</b> and returns a function <b>g</b> that takes an integer <b>x</b> and returns <b>x+n</b>?",
            "id": "ecd8e6ce5fa7bcc963d2c4d3da222aa7"
          },
          {
            "type": "html",
            "text": "\nSomething like?:",
            "id": "cac653c043c67b2438f2887971add5aa"
          },
          {
            "type": "code",
            "text": "  std::binder1st<std::plus<int> > f(int n) {\n    return std::bind1st(std::plus<int>(), n);\n  }",
            "id": "b312c13ec72025c6f2b60bdcf1198fa1"
          },
          {
            "type": "html",
            "text": "This is standard C++, though some people regard it as ugly. Not so much the use of 'std::', but the code itself, especially the syntactically significant white space between the nested >'s. That is why some people prefer languages with true first class functions.",
            "id": "c1358c596735b24460c05c6fecea28e2"
          },
          {
            "type": "html",
            "text": "<i>[[Functoids In Cpp]] discusses FC++ which is a library implementing this and much more.</i> -- [[John Fletcher]]",
            "id": "c85422299ccb7309ae7b9f6a38486247"
          },
          {
            "type": "html",
            "text": "\nSome languages have built-in convenience mechanisms to do this. There are some examples in everyone's favorite languages below, as well as on the [[Common Higher Order Functions]] page.",
            "id": "da55b6aca62f47c793ce6746534cd055"
          },
          {
            "type": "html",
            "text": "\nIt is rather simple to accomplish this in the [[Python Language]]:",
            "id": "539e74809450751f497c05055f6ab5d6"
          },
          {
            "type": "code",
            "text": "  def f(n):\n      def g(x):\n          return x + n\n      return g",
            "id": "d54431c07402ce0e6e5c4fdc4d9f417a"
          },
          {
            "type": "html",
            "text": "[[Blocks In Ruby]] lists some great usages of higher order functions. In Ruby, they're called \"blocks\", they are a special language construct, and you cannot pass more than one to any routine.",
            "id": "ea9814088aacbd2b133006e70b03dfc0"
          },
          {
            "type": "html",
            "text": "<i>Incorrect, blocks are anonymous functions, not higher order functions. The higher order functions would be the function to which you pass the block. The combination of anonymous functions and higher order functions together are where you get the power from, the anonymous functions essentially specialize the higher order function. Any language that supports passing functions as parameters can support higher order functions, but without anonymous functions, they won't get used too often, [[Csharp Language]] is such a beast. -- [[Ramon Leon]]</i>",
            "id": "c386168cc5139fd105af38435a02622c"
          },
          {
            "type": "html",
            "text": "[Although not for much longer - version 2 of the language will feature anonymous functions (which are fully-fledged [[Lexical Closure]]s), along with a standard set of [[Higher Order Function]]-style methods on the collection classes (usual map/filter/forall/iter/etc, but with different names (presumably they don't want to \"confuse\" people who haven't seen them before... at the expense of confusing those of us who <i>have</i> seen them before...)). See [http://blogs.msdn.com/kcwalina/archive/2004/06/22/162533.aspx blogs.msdn.com] for some preliminary details of the collection methods. -- [[Mike Roome]]]",
            "id": "ce5df13f26dc5a80b36533b248f87063"
          },
          {
            "type": "html",
            "text": "<i>Not suprising, it is standard Microsoft practice to rename and reimplement and then pretend they invented something new. They'll be nice to have though. -- rl</i>",
            "id": "80dd5321c1dcf6f1dbd96b0f9fe351d2"
          },
          {
            "type": "html",
            "text": "\nNo, it's standard Microsoft practice to take something, rename it, <b>patent</b> it and pretend they invented something new.",
            "id": "b45a205638e6d5a423ac9a1a2e3237b7"
          },
          {
            "type": "html",
            "text": "<i>No, it's everyone else's practice to say \"look at all these languages with feature x - isn't it great that we all build on each other like that?\" unless someone at Microsoft does exactly the same thing.</i>",
            "id": "a5949388917f3333aca1c37120cb7ec9"
          },
          {
            "type": "html",
            "text": "(But you didn't grasp the anti-Microsoft complain. Patenting means to take control and to stop everyone else to \"build on that\" without consent, so the \"great we build on each other\" will become \"look, they have built on Microsoft's\", plus \"let's see if we can sue them\" when applicable... Microsoft does not want you to say \"we all build on each other\", but \"we all build on Microsoft's great original ideas\", though they have just build on the other. See the difference? Of course, it does not happen to be always like this, but the complain is about this MS general attitude, which tears MS away from a community behaviour where you, like everyone else, can say happily \"great that we build on each other\")",
            "id": "599e2073092229158ba1528c78c8e8fc"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "Sure. I program in [[Common Lisp]]. Using [[Higher Order Function]]s is so common that you don't even notice it. The built-in ones are: mapcar (and friends), apply, funcall, sort (it takes the comparison function object as argument), count-if, remove-if, delete-if, and a <i>whole</i> heap of functions which take the :test optional key argument (e.g. find).",
            "id": "eee9fc3914163f8dc28a32f4c212e33e"
          },
          {
            "type": "html",
            "text": "\nThe way you use these is in expressions like",
            "id": "475a8a81f29e69c48a6f5ac79142af1d"
          },
          {
            "type": "code",
            "text": "  (dolist (func (find-all-if #'suitable-p *my-objs-containing-a-func))\n    (funcall (object-function-slot func)))",
            "id": "9e80c3cd597747bb82d7be6b89ca5435"
          },
          {
            "type": "html",
            "text": "Without dolist it looks much better. ;-)",
            "id": "63f736b5a679c844ba01197b800ca407"
          },
          {
            "type": "code",
            "text": "  (mapc #'funcall (find-all-if #'suitable-p *my-objs-containing-a-func))",
            "id": "4e3bd688a0ae5f2f072a529ba2b6971d"
          },
          {
            "type": "html",
            "text": "But, as I say, that's just the built-ins. The <b>real</b> power comes from using this naturally in your own algorithms. For example, the [[Strategy Pattern]] totally disappears in such a language: you just pass the function to use instead of creating classes for the strategy.",
            "id": "b7cbdba7b49cfbe5448b522e9d56b5ec"
          },
          {
            "type": "html",
            "text": "(As a side note, many, if not most, of the patterns in the patterns book are unnecessary or considerably simpler in languages which support functions as first class objects. See [[Peter Norvig]]'s [[Design Patterns In Dynamic Programming]].",
            "id": "87f9860678fd95046aa44869e7d6c67f"
          },
          {
            "type": "html",
            "text": "-- [[Alain Picard]] (but feel free to [[Refactor Me]])",
            "id": "bb9b791194f2b329b0bf15a2a7375b39"
          },
          {
            "type": "html",
            "text": " This isn't much better than the [[Cee Plus Plus]] version of a [[Higher Order Function]]. They're both ugly, and which is less ugly just depends on which you're more used to looking at.",
            "id": "b6d56ec11d6723ac303502631e0f7a91"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "Here are three simple examples of [[Internal Iterator]]s (using the [[Map Function]]).",
            "id": "abac0e3b014143dd0628473b0ef4a622"
          },
          {
            "type": "html",
            "text": "\n[[Perl Language]] example:",
            "id": "ba86e0a9665092be02010d550d309829"
          },
          {
            "type": "code",
            "text": "  sub double\n  {\n    return 2 * shift;\n  }",
            "id": "3c9c2eebfc7d7ebd27fc1816c9508ceb"
          },
          {
            "type": "code",
            "text": "  @a = ( 1, 2, 3, 4, 5 );\n  @b = map { double( $_ ) } @a;",
            "id": "04e3727622305612d5ea23825d89e04e"
          },
          {
            "type": "code",
            "text": "  ... or perl's \"list-comprehension-ish\" 'gather' clause",
            "id": "846d91b09f5fb910a9f00520259d64d2"
          },
          {
            "type": "code",
            "text": "  use Perl6::Gather;\n  @b = gather { take $_ * 2 } foreach 1..5;",
            "id": "7ecbb42045759c882f8b6fa566030296"
          },
          {
            "type": "html",
            "text": "[[Ruby Language]] example:",
            "id": "f8d3d5c6d09c708e1f8aeb0cb51f0936"
          },
          {
            "type": "code",
            "text": "  def double ( num )\n    return 2 * num\n  end",
            "id": "a65c5ef290dd58d34242ff9d7d02af88"
          },
          {
            "type": "code",
            "text": "  a = [ 1, 2, 3, 4, 5 ]\n  b = a.collect { |value| double( value ) }",
            "id": "83da3db5f21d68cea23f99c82b307d18"
          },
          {
            "type": "html",
            "text": "Alternative Ruby version(s):",
            "id": "cd6716625bfd9cde0ef2afafa3a0a69f"
          },
          {
            "type": "code",
            "text": "  double = lambda { |num| 2 * num }\n  b = a.map(&double)",
            "id": "2c6bbdbddc9b0dde9d60025a8f281fe0"
          },
          {
            "type": "html",
            "text": "or even",
            "id": "d1e5fc821459dbb86943b11bf14fc453"
          },
          {
            "type": "code",
            "text": "  b = a.map { |num| 2 * num }",
            "id": "e142e44ee34fea4d24260d55bd2047a9"
          },
          {
            "type": "html",
            "text": "[[Smalltalk Language]] example: (very similar to the [[Ruby Language]] example)",
            "id": "ae7ecabd09085f20ad2a6d8f87ec2daa"
          },
          {
            "type": "code",
            "text": "  Number>>double\n    ^ 2 * self",
            "id": "89e3d67e62d180d563ecb525de47808b"
          },
          {
            "type": "code",
            "text": "  a := #(1 2 3 4 5).\n  b := a collect: [ :value | value double].",
            "id": "d5fab1251d06fc9fc796e51aa90ba8b4"
          },
          {
            "type": "html",
            "text": "\nor",
            "id": "1a7d36c8258df2c9569e17d9808a632c"
          },
          {
            "type": "html",
            "text": "(1 to:<br>5) collect: [ :i | 2 * i ]",
            "id": "454e5470cd67063c6b087cd566276b8f"
          },
          {
            "type": "html",
            "text": "\n[[Python Language]] example:",
            "id": "a2e1a230d9f33ee778236f996da56a58"
          },
          {
            "type": "code",
            "text": "  ... with explicit function declaration",
            "id": "7ec395865b27273898d736af9dcfeea0"
          },
          {
            "type": "code",
            "text": "  def doubleit( num ):\n    return 2*num\n  a = ( 1, 2, 3, 4, 5 )\n  b = map( doubleit, a )",
            "id": "5302a949a2e2eb1c8e338ea9a5c59eeb"
          },
          {
            "type": "code",
            "text": "  ... or with lambda",
            "id": "27214b7947180cd3928a851c73c5431e"
          },
          {
            "type": "html",
            "text": "b = map(lambda num:<br>2 * num, a)",
            "id": "4ce9f3307e6360172d88e55df2bcdac9"
          },
          {
            "type": "code",
            "text": "  ... or with ListComprehension:",
            "id": "f5521d92076c0b246a952f32cbf3fb32"
          },
          {
            "type": "code",
            "text": "  b = [ 2 * num for num in a ]",
            "id": "67d61c394e8bf72549548685b3183ed0"
          },
          {
            "type": "html",
            "text": "[[Scheme Language]] example:",
            "id": "c7d5d53e9d908bc3f9b09cfe3abe2bf0"
          },
          {
            "type": "code",
            "text": "  (define (double num) (* 2 num))\n  (define a '(1 2 3 4 5))\n  (define b (map double a))",
            "id": "b8492777521c1a29577f43a247021cba"
          },
          {
            "type": "html",
            "text": "or",
            "id": "0ca44d9911af568e303d493d3e615b5f"
          },
          {
            "type": "code",
            "text": "  (define b (map (lambda (x) (* 2 x)) a))",
            "id": "90b4920fecff78c2be7fd706207ea610"
          },
          {
            "type": "html",
            "text": "[[Common Lisp]] example:",
            "id": "c238f29828730a5dd22d3661bb2d42be"
          },
          {
            "type": "code",
            "text": "  (defun double (num) (* 2 num))\n  (defvar *a* (list 1 2 3 4 5))\n  (defvar *b* (mapcar #'double *a*))",
            "id": "670e898727a8db5e7cd168ae0e35dc3d"
          },
          {
            "type": "html",
            "text": "or",
            "id": "0ca44d9911af568e303d493d3e615b5f"
          },
          {
            "type": "code",
            "text": "  (defvar *b* (mapcar #'(lambda (x) (* 2 x)) *a*)",
            "id": "6eac7a068ab2c8652607419850d99b16"
          },
          {
            "type": "html",
            "text": "[[Objective Caml]] example:",
            "id": "6b2f00ae185f00a194906db12a300754"
          },
          {
            "type": "code",
            "text": "  let b = \n    let a = [1;2;3;4;5] in List.map (( * ) 2) a;;",
            "id": "d84fa2355e0afa834c6fc27c880e05a3"
          },
          {
            "type": "html",
            "text": "[[Haskell Language]] example:",
            "id": "44a3cd917dd546539ad698359fb55fab"
          },
          {
            "type": "code",
            "text": "  b = map (*2) [1..5]",
            "id": "2f0526756cea7f9be91cfeffeda745ab"
          },
          {
            "type": "html",
            "text": "In all cases, array b equals [ 2, 4, 6, 8, 10 ].",
            "id": "c129ca2e4907fa370deaa27a961b5faa"
          },
          {
            "type": "html",
            "text": "\n[[Erlang Language]] example:",
            "id": "4cb559b50843bff1e5ea22cdb7840de5"
          },
          {
            "type": "code",
            "text": "  ... with higher-order map and a LambdaExpression",
            "id": "4bddda0c0691abf45152044dbebbe384"
          },
          {
            "type": "code",
            "text": "  lists:map(fun(X) -> 2*X end, lists:seq(1,5)).",
            "id": "0210076164ba0764a9ca5d56758b0249"
          },
          {
            "type": "code",
            "text": "  ... or with a ListComprehension:",
            "id": "447825ec2a95be425b0b2689fccd35d7"
          },
          {
            "type": "code",
            "text": "  [ 2*X || X <- lists:seq(1,5) ].",
            "id": "53ab2b2940af31c961d449ca9a689e55"
          },
          {
            "type": "html",
            "text": "[[Cee Plus Plus]] example:",
            "id": "e66c014e0798214e2026cd833b3f5414"
          },
          {
            "type": "code",
            "text": "  vector<double> a, b;\n  // set a values to whatever\n  transform (\n  a.begin(), a.end(),  // take this range\n  back_inserter(b),  // append to b\n  bind1st(multiplies<double>(), 2)); // after multiplying by 2.",
            "id": "fec70f18ad23030b50253d154f709f25"
          },
          {
            "type": "html",
            "text": "or with boost::lambda <i>([[Boost Lambda Library]])</i>:",
            "id": "fa40f834b79a8d4c90a4485c91d8cbe4"
          },
          {
            "type": "code",
            "text": "  transform (a.begin(), a.end(), back_inserter(b), _1 * 2);",
            "id": "07c7b310f075159a860618134923fa4f"
          },
          {
            "type": "html",
            "text": "You can use a template function that uses one or more of its arguments as a [[Functor Object]] in [[Cee Plus Plus]] to make a Higher Order Function.",
            "id": "6a8c72b10908a109c4431ef7fa16f254"
          },
          {
            "type": "html",
            "text": "\n[[Groovy Language]] example: (basically the same as [[Ruby Language]] and [[Smalltalk Language]])",
            "id": "43fcabc1f1c520f4b19a92f5a9ef4dbb"
          },
          {
            "type": "code",
            "text": "  a = [1,2,3,4,5]\n  b = a.collect { 2 * it}",
            "id": "8a35cbbcfeb167d6ed8eb04a239db012"
          },
          {
            "type": "html",
            "text": "[[Csharp Language]] v2 example: ",
            "id": "57b257cfbc70bb8053997d0feab9d57b"
          },
          {
            "type": "code",
            "text": " int[] a = { 1, 2, 3, 4, 5 };\n int[] b = Array.Convert''''''All(a, delegate(int x) { return 2 * x; });",
            "id": "5252c9e9e6490843ed31abae6641403f"
          },
          {
            "type": "html",
            "text": "or using the List collection class:",
            "id": "73de206e683f92611725f1182eabaaf1"
          },
          {
            "type": "code",
            "text": " List<int> a = new List<int>(new int[] { 1, 2, 3, 4, 5 });\n List<int> b = a.Convert''''''All(delegate(int x) { return 2 * x; });",
            "id": "6b46a756cab874c3b265aa159a16b6ed"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "Also, [[Java Script]]<b></b>'s treatment of functions as first class objects makes it very simple to write [[Higher Order Function]]s, to use the above example we have to write map, but it's pretty simple:",
            "id": "62ff1184aa0908fd7f6f3f6cd8aad4ca"
          },
          {
            "type": "code",
            "text": "  Array.prototype.map=function(aBlock){\n    var result=new Array();\n    for(var index=0;index<this.length;index++)\n    result.push(aBlock(this[index]));\n    return result;\n  }",
            "id": "b75ef623a0e10a249a942b99e99aea4f"
          },
          {
            "type": "html",
            "text": "usage...",
            "id": "ccc0869b245f536ad925ac72bd02aba3"
          },
          {
            "type": "code",
            "text": "  var a = [1,2,3,4,5];\n  var b = a.map(function(x){return x*2;});",
            "id": "0fe6caf5f6fb52f12baaee9b8212ad3a"
          },
          {
            "type": "html",
            "text": "or",
            "id": "0ca44d9911af568e303d493d3e615b5f"
          },
          {
            "type": "code",
            "text": "  var b=[1,2,3,4,5].map(function(x){return x*2});",
            "id": "8ebbd1e91985c5687652a7c90afa074f"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "[[John Hughes]]'s paper \"[[Why Functional Programming Matters]]\" describes Higher Order Functions as functions that apply some policy to other functions in order to produce new functions. Functions are composed in this way to produce anonymous functions that do the work of the program. So, in order to use a Higher Order Function you would pass another function as a parameter. A couple of examples given of Higher Order Functions are reduce, which applies a function to every element of a collection and some running total which is then replaced by the output of the function, and map, which creates a new collection by applying some function to every element in a collection and adding the result to a new collection. -- [[Phil Goodwin]]",
            "id": "cc64f0b76225f8240a27bb8f1986c5e1"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "\nOcaml's ([[Objective Caml]]) [[My Sql]]-bindings provide nice practical examples of usage of higher order functions: it contains a routine iter, which takes a query result, a function that operates on an array of values of fields, and evaluates the function for every row that was returned in the result. Another routine is opt f v, which is meant to be used with values that might be null; for non-null values, it returns f applied to v, for null values, it returns null. So you don't have to write null handling into the function f itself.",
            "id": "2b2d592decb55c92bb327a9d0cb5084b"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "\nIs an ordinary function (one which neither takes a function as an argument, nor returns one as a result) a 0th order function, or a 1st order function? (Or do we even care?)",
            "id": "b9d0a931edd61857a0ca0c1eba452c51"
          },
          {
            "type": "html",
            "text": "\nAlso, is it ever useful to distinguish between different orders of functions? (Say, a second order function is one which either accepts or returns a first-order function, but no higher; a third-order function can accept or return a second-order function, etc.)",
            "id": "6b8b603a7ebd7ed485dd0c9079b0da17"
          },
          {
            "type": "html",
            "text": "<i>Not that I'm an authority, but I think it'd just be a regular function or a higher order function. Higher order isn't meant to be a numerical designation, but a way to describe functions that are specialized by, or produce other functions.</i>",
            "id": "e9336c4cfea9eae2f0548fc9beafe1ec"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "\n[[Php Language]] example:",
            "id": "3d84406484e2767f13208bb7bf326465"
          },
          {
            "type": "code",
            "text": "  function double($number)\n  {\n    return $number * 2;\n  }",
            "id": "d90db1eb370ec930b5ef86e523cc8feb"
          },
          {
            "type": "code",
            "text": "  $array = array(1,2,3,4,5);\n  $result = array_map(\"double\", $array); // perhaps using the array_map function is cheating? ;)",
            "id": "b60a102b7dca73ec4b433b6ef865d799"
          },
          {
            "type": "html",
            "text": "[[Php Language]] has a few interesting built-in functions to deal with higher-order functions. is_callable() will tell you if the given var is in fact a string containing a callable function name, an array containing an object and method name, or an array containing the class name and method name (for static methods). You can also quite easily use the contents of a variable to call a function....",
            "id": "91324d31af17cdd6a5912e4c360a6a69"
          },
          {
            "type": "code",
            "text": "  $foo = \"myFunkyFunc\";\n  $foo($arg, $arg1); // Calls myFunkyFunk.",
            "id": "0e355c98605122f2156f22b32ef77bc1"
          },
          {
            "type": "html",
            "text": "Although it works, I prefer to use the following method, as it is a little more readable",
            "id": "7aa7ebead4728d698ff7d46909f9275d"
          },
          {
            "type": "code",
            "text": "  $foo = \"myFunkyFunc\";\n  call_user_func($foo, $arg, $arg1);",
            "id": "d46267e3ded4d96400a30e0d91a555fb"
          },
          {
            "type": "html",
            "text": "<i>So, php has () as a postfix [[Evil Eval]]</i>",
            "id": "98c400ac4c349e5d38909813a54cc77a"
          },
          {
            "type": "html",
            "text": "\nPHP has variable variable names and variable function names. I believe it is called <i>reflection</i> in OO terms. So, for example, you can say",
            "id": "5887115699c8ff3df325ffc6bf7fca42"
          },
          {
            "type": "code",
            "text": "  $foo = \"myVar\";\n  $x = $$foo;     // $x contains the same value as $myVar;",
            "id": "84082baaff2c54f7a39b919fd1f6d020"
          },
          {
            "type": "html",
            "text": "<i>Getting PHP to <b>return</b> functions is somewhat more problematic. There is the \"create_function()\" function, to which you pass the parameter list and source of the function body, but its return value is pretty much unusable for creating further functions without a lot of grief (it contains a NUL character that really messes things about when you try and embed it in the source code of a new function). Even a function to implement function composition is problematic.</i>",
            "id": "fa51684aa93c70b872997b28b8b665a9"
          },
          {
            "type": "html",
            "text": "\nNot since PHP 5.3, which provides syntax for first-order functions (as another type of \"callable\" thing). As a side effect of the implementation, one can also write objects with a method that is called when the object is called as a function (i.e., as $obj('foo')).",
            "id": "553459188686e1c542e22a5f8ddb723e"
          },
          {
            "type": "code",
            "text": "  $array = [1,2,3,4,5];\n  $result = array_map(function($number)\n  {\n    return $number * 2;\n  }, $array);",
            "id": "4cef71c10e746e74435f27c8d645442e"
          },
          {
            "type": "html",
            "text": "\nA function to implement function composition would be",
            "id": "489f24bf3f073e026e4cd73d81c50fb5"
          },
          {
            "type": "code",
            "text": "  function o($f, $g)\n  {\n    // Variables in the outer scope have to be imported explicitly\n    return function($x)use($f, $g)\n    {\n      return $f($g($x));\n    };\n  }",
            "id": "6056c8419d320a2869101927f0beafc6"
          },
          {
            "type": "html",
            "text": "Of course, for proper generality you'd want o() to be curried:",
            "id": "d941669d2273c679fa8c83b45a94eef7"
          },
          {
            "type": "code",
            "text": "  function o($f)\n  {\n    return function($g)use($f)\n    {\n      return function($x)use($f, $g)\n      {\n        return $f($g($x));\n      };\n    };\n  }",
            "id": "7638af1fcfa4b4eb385844b7096248ca"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "Skeptical view of HOF's: [[Dynamic Strings Vs Functional]], [[Array Deletion Example]]",
            "id": "b889f740298a2e870392fdcd39829384"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": " This was moved from [[Array Deletion Example]] ",
            "id": "c3ddb7804803a8817b754350c1018a42"
          },
          {
            "type": "html",
            "text": "\nTo clarify it for me, does the [[Higher Order Function]] enable the second example?",
            "id": "6ed52ceadf98ec5c38646d2e882d95da"
          },
          {
            "type": "html",
            "text": " Less than [[Higher Order Function]] (First example)",
            "id": "e8331b89c05a55d66e16b83c33167a70"
          },
          {
            "type": "code",
            "text": " Keys = Select.Data(Entity.Name)\n Loop\n  Key = Remove.Field(Keys); * Removes Key from Keys\n Until Key = EOF",
            "id": "5b9b023b02b48627b73ae8bf3e66520e"
          },
          {
            "type": "html",
            "text": " Code for each key",
            "id": "5266ca0fe8f0c20a53813bfb64c50f79"
          },
          {
            "type": "code",
            "text": " Repeat",
            "id": "84bcec6f9a41ed64aabe1eea332475d4"
          },
          {
            "type": "html",
            "text": " [[Higher Order Function]] (Second example)",
            "id": "845954e3e934a1135c46ceba63f4383d"
          },
          {
            "type": "code",
            "text": " Keys = Create.Array.Iterator(Select.Data(Entity.Name))\n Iterate(Keys, Get.Object.Code(\"** Code for each key\"))",
            "id": "29e49cd8521fceac53915ebfb9affda8"
          },
          {
            "type": "html",
            "text": " And I notice this becomes a one-liner\t",
            "id": "e07c9195e354c0e896fa7e02da0b19ca"
          },
          {
            "type": "code",
            "text": " Iterate(Create.Array.Iterator(Select.Data(Entity.Name)), Get.Object.Code(\"** Code for each key\"))",
            "id": "58e24f6fa96a1231fc845622fe6d1f9e"
          },
          {
            "type": "html",
            "text": "-- [[Peter Lynch]]",
            "id": "57b39eb3bbb620d35df39662cc7e9b3b"
          },
          {
            "type": "html",
            "text": "<i>That is a rather long \"line\". I find code easier to read if parts are divided on multiple lines.</i>",
            "id": "ad7454057a0581f57182afd5ad869920"
          },
          {
            "type": "html",
            "text": "\nI think C programmers prefer this version -",
            "id": "f18b92130aeabbda53078ef3618a825f"
          },
          {
            "type": "html",
            "text": " It(CAI(SD(E)), GOC(\"** Code for each key\"))",
            "id": "16655d2db15bf5750e3f8d5bbe4caad4"
          },
          {
            "type": "html",
            "text": "\nBut I prefer the first version. Because it lays out the logic clearly. The admittedly smaller versions hide the fact that there is a loop, and scanning the code, I could easily miss the significance of that. -- [[Peter Lynch]]",
            "id": "8b2f7706babd5f898a0f43b96f9234fd"
          },
          {
            "type": "html",
            "text": "\nAs I read further about [[Functional Programming]], I think I get the difference between [[Higher Order Function]]s and [[Procedural Function]]s. While many languages provide an eval-like facility, those that are [[Higher Order]] parse and interpret scope at compile time - your 'generated' code is parsed at compile time. Other languages compile the 'generated' code at run-time, like an interpreter.",
            "id": "bd64761829c6295315555e66ddaec073"
          },
          {
            "type": "html",
            "text": "\nSo the above -",
            "id": "753957e844f1819fb5b1a71cf8668358"
          },
          {
            "type": "code",
            "text": " Iterate(Create.Array.Iterator(Select.Data(Entity.Name)), Get.Object.Code(\"** Code for each key\"))",
            "id": "58e24f6fa96a1231fc845622fe6d1f9e"
          },
          {
            "type": "html",
            "text": "Would read -",
            "id": "ce58b0f0e92abdfe3c60c4dea26d05eb"
          },
          {
            "type": "code",
            "text": " Iterate(Create.Array.Iterator(Select.Data(Entity.Name)), -\n       {Code.Compiler.Directive}\"** Code for each key\"{/Code.Compiler.Directive})",
            "id": "93eb2c4353e1e813164bdf09d6f3ca5d"
          },
          {
            "type": "html",
            "text": "(where the Code.Compile.Directive is whatever language specific syntax is used to indicate code.)",
            "id": "480671de52bcac9f837aa67d4ae45938"
          },
          {
            "type": "html",
            "text": "\nIs this correct? -- [[Peter Lynch]]",
            "id": "a63499bcc31320dde3f8abb3dcf90698"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "See also: [[Currying Schonfinkelling]] (now why didn't I guess from the name that's what it was about?), [[Eval Vs Polymorphism]], [[Switch Case List Versus Hof]]",
            "id": "40eea95ef5f1822b5f006b3c082f562d"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "dd5d07a31e6687731513641cfc2e1338"
          },
          {
            "type": "html",
            "text": "[[Category Functional Programming]] [[Category In Many Programming Languages]]",
            "id": "026238ec94ee5069659931e23102225c"
          },
          {
            "type": "html",
            "text": "See original on  [http://c2.com/cgi/wiki?HigherOrderFunction c2.com]",
            "id": "81f80ac496e57a8249a7bec623a0770e"
          }
        ]
      }
    },
    {
      "type": "fork",
      "site": "language.sfw.c2.com",
      "date": 1674055994923
    }
  ]
}