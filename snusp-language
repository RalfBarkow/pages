{
  "title": "Snusp Language",
  "story": [
    {
      "type": "html",
      "text": "<b>S</b>NUSP's <b>N</b>ot <b>U</b>nix, but a <b>S</b>tructured <b>P</b>ath: A revised version of [[Path Language]], by [[Daniel Brockman]]. The advantages of SNUSP include well-defined semantics (like [[Brainfuck Language]], PATH is semantically ambiguous in many ways), an arguably cleaner instruction set, and optional support for advanced features such as subroutines and concurrency.",
      "id": "aa334fe7ae533e425101a77d9a760a09"
    },
    {
      "type": "html",
      "text": "\nThe SNUSP instruction set is divided into three levels, each adding to the previous level.",
      "id": "df2c0b5ade09dd662cd36b05db4e123f"
    },
    {
      "type": "html",
      "text": "<b>Core SNUSP</b> is basically [[Brainfuck Language]] with a two-dimensional code space. This instruction set is as powerful as any of the variants normally used in PATH, but contains fewer instructions. Core SNUSP trades Brainfuck's two looping instructions, <b>]</b> and <b>[</b>, for the four basic flow-control instructions:",
      "id": "412d7d6a9628af858f8fa842944bbab9"
    },
    {
      "type": "html",
      "text": " <b>\\</b> (LURD)",
      "id": "bb75cde00234f3f40f4e6b67bc4c5570"
    },
    {
      "type": "html",
      "text": " <b>/</b> (RULD)",
      "id": "faa2ebce969f83b7a3775bc94ba691bc"
    },
    {
      "type": "html",
      "text": " <b>!</b> (SKIP)",
      "id": "e708df0c401beaacf20a8ee2c4d38f27"
    },
    {
      "type": "html",
      "text": " <b>?</b> (SKIPZ)\nThe remaining Brainfuck instructions are equivalent to the Core SNUSP instructions:",
      "id": "96c56036e02f0f967b63d9b764d4d0e4"
    },
    {
      "type": "html",
      "text": " <b><</b> (LEFT)",
      "id": "b5fc251f6d0cfab78a995e4c977053b3"
    },
    {
      "type": "html",
      "text": " <b>></b> (RIGHT)",
      "id": "d6e35894c9c329610e25c40c0fe372d8"
    },
    {
      "type": "html",
      "text": " <b>+</b> (INCR)",
      "id": "618db9e9266495f9fdbf26abc140671f"
    },
    {
      "type": "html",
      "text": " <b>-</b> (DECR)",
      "id": "b8d2718669c84dadb23035cc6ecbec5c"
    },
    {
      "type": "html",
      "text": " <b>,</b> (READ)",
      "id": "3bc636f73e3fa73dd3be1e40b7902175"
    },
    {
      "type": "html",
      "text": " <b>.</b> (WRITE)",
      "id": "4f160262222e06328a2ab76800b74868"
    },
    {
      "type": "html",
      "text": "<b>Modular SNUSP</b> adds a subroutine mechanism in the form of two instructions:",
      "id": "fd98ff72ef6dde9546680da2e37fddfa"
    },
    {
      "type": "html",
      "text": " <b>@</b> (ENTER)",
      "id": "fc708bbac546159f6dd929587e3a8c15"
    },
    {
      "type": "html",
      "text": " <b>#</b> (LEAVE)\nSee [[Snusp Calling Conventions]].",
      "id": "487e47e35dc3ca6aeef476eba2ac7535"
    },
    {
      "type": "html",
      "text": "<b>Bloated SNUSP</b> adds a second data memory dimension, concurrency, and random direction:",
      "id": "a6633c9f8c5629a67b79ace19a0795cf"
    },
    {
      "type": "html",
      "text": " <b>:</b> (UP)",
      "id": "0810259ccdb3ca69d3a864889b96ae3b"
    },
    {
      "type": "html",
      "text": " <b>;</b> (DOWN)",
      "id": "10eb4d3fa97076addadb150c6adbb458"
    },
    {
      "type": "html",
      "text": " <b>&</b> (SPLIT)",
      "id": "5950836cd0c01a2c226aba246df55f76"
    },
    {
      "type": "html",
      "text": " <b>%</b> (RAND)",
      "id": "17755ad9b68463a3d9060f5b41f56900"
    },
    {
      "type": "html",
      "text": "\nThe language is officially documented on the [[Esoteric Programming Language]] wiki:",
      "id": "7bcbb86f947004fc06fbd99386b246e6"
    },
    {
      "type": "html",
      "text": " [http://esoteric.voxelperfect.net/wiki/SNUSP esoteric.voxelperfect.net]",
      "id": "b8bda4742e71737bd66f63e5056120ad"
    },
    {
      "type": "html",
      "text": "\nA nearly complete specification is here: [http://www.quirkster.com/iano/snusp/snusp-1.0-spec-wd1.pdf www.quirkster.com] . There's a couple of things that are still undefined for basically no reason.",
      "id": "7ce01636b7898672fca89d8e5532cd61"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "[[Ingy Dot Net]] released (spring 2013) a SNUSP processor, complete with a curses-based debugger!  To install, get cpanm:",
      "id": "96137ccd6dc3c339d177d06128e1aa77"
    },
    {
      "type": "html",
      "text": " Get cpanm: curl -L [http://cpanmin.us cpanmin.us] | perl - App::cpanminus && cpanm --local-lib=~/perl5 local::lib && eval `perl -I ~/perl5/lib/perl5/ -Mlocal::lib`",
      "id": "7e1db3e7dc4ce52de8719db04f66ca90"
    },
    {
      "type": "html",
      "text": " Install: cpanm Language::SNUSP Curses",
      "id": "5d4d194b6e98ce61c0b04b6452ee4709"
    },
    {
      "type": "html",
      "text": " Have fun!: cpanm --look Language::SNUSP && snusp --debug examples/fizzbuzz.snusp",
      "id": "a23b36cc2f5833e30f9226c44280be90"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>[[Convert Spaces To Tabs Not For Code]]!!!</b>",
      "id": "83a2661d1978704f43c47fd7b2eb37f1"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<i>In the spirit of [[Befunge Language]], SNUSP could be described as a cross between Brainfuck and Lemmings. My favorite thing about these Path-derived languages is that loops really look like </i>loops<i>. And the modular features make function calls look like boxed annotations. -- [[Ian Osgood]]</i>",
      "id": "b8bd9d16442daabf8659d26ef6a68e21"
    },
    {
      "type": "html",
      "text": "<i>There is a Perl interpreter and a Perl tracer (using curses) further down the page. For the full IDE experience, one could write an interpreter/tracer in one's favorite editor's macro language. This would be a snap in [[Emacs Lisp]], for instance. For maximum pain, one could develop an editor where SNUSP </i>was<i> the macro language!</i>",
      "id": "d54d065df21764a22d6499a41be459f6"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Here's an example of a Modular SNUSP program that multiplies two single-digit numbers. The pipes (|) and equality signs (=) are designated no-op instructions used to keep track of the flow of the program (such staked-out paths are termed <i>wires</i>). The asterisks are used here to separate the library functions from the main program. The at signs (@) are the starting points of subroutine calls (mnemonic: the at sign looks like a round-trip).",
      "id": "789f2e403682e327fb82f10f18649775"
    },
    {
      "type": "code",
      "text": "  read two characters    ,>,==\\  *    /=================== ATOI   ----------\\ \n  convert to integers /=/@</@=/  *   // /===== ITOA  ++++++++++\\ /----------/\n             multiply @ \\=!\\=========/ //           /++++++++++/ \\----------\\ \n         convert back !/@!\\============/            \\++++++++++\\ /----------/\n and print the result \\/  \\.#    *                  /++++++++++/ \\--------#\n /====================/          *                  \\++++++++#\n |\n |    /-<+>\\                    #/?=<<<<\\!>>>>\\                   />>+<+<-\\ \n |   #\\?===/! BMOV1 =====\\       \\->>>>+/    //  /======== BSPL2 !\\======?/#\n |    /->+<\\         /===|=========== FMOV4 =/  //                /<<+>+>-\\ \n |   #\\?===/! FMOV1 =|===|==============\\  /====/  /====== FSPL2 !\\======?/#\n |                /==|===|==============|==|=======/\n |           * * *|* | * | * * * * * * *|* | * * *                /+<-\\ \n |           * />@/<@/>>@/>>===\\ /====>>\\@<\\@<\\  *   /==== ADD2  !\\>=?/<#\n \\===== MUL2 =?/>@\\==<#<<<==\\  \\!\\<<<<@\\>>>>-?/\\ *  //            /-\\ \n             *    \\\\        \\/@========|======</ * //  /== ZERO  !\\?/#\n             * * * \\\\* * * * | * * * * | * * * * *//  //\n                    \\\\       |         \\==========/  //\n                     \\======!\\=======================/",
      "id": "8a43585f9bda20c1b2c22b40484e62fa"
    },
    {
      "type": "html",
      "text": "<i>I realized one thing while looking at this code. It's similar to a silicon chip's design. So how does Snusp/[[Be Funge]]/Path/Biota compare to Verilog and VHDL?</i>",
      "id": "6ef77f9db2b2a8ad3995e36568cbc251"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Implementations</b>",
      "id": "ff2f6ac08d8c297584086b3671875cca"
    },
    {
      "type": "html",
      "text": "\nCopy the following program into 'snusp.pl'. The SNUSP code is in STDIN, and the READ instruction takes data from the arguments.\nRun it like this:",
      "id": "9e0150e3b4666b53f0b18cd6bd64de2f"
    },
    {
      "type": "code",
      "text": " perl snusp.pl < multiply.snusp 2 3  # to multiply 2 by 3",
      "id": "5054952d18dce836afb567a6a305187d"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "code",
      "text": " #!/usr/bin/perl",
      "id": "1190310f76578ec534f21999b37376c5"
    },
    {
      "type": "code",
      "text": " # A Modular SNUSP Interpreter\n # Copyright (C) 2004  Rick Klement",
      "id": "93b17e4d33689c558c4c7a3699c4791b"
    },
    {
      "type": "code",
      "text": " use strict;",
      "id": "612af35d56864a867185bfb216467a7f"
    },
    {
      "type": "code",
      "text": " my ($dy, $p, $dir, $run, $code, @data, @stack, $op) = (1, 0, 1, 1, '', 0);\n $code .= $_, $dy < 2 + length and $dy = 2 + length while <STDIN>;\n $code =~ s/^.*/$& . ' ' x ($dy - 2 - length $&) . \"\\n\"/gem;\n my $ip = index $code, '$'; # find first $ or first char\n $ip = 0 if $ip < 0;\n my %instructions = (\n   '>'  => sub { ++$p },                                             # RIGHT\n   '<'  => sub { $run-- if --$p < 0 },                               # LEFT\n   '+'  => sub { ++$data[$p] },                                      # INCR\n   '-'  => sub { --$data[$p] },                                      # DECR\n   ','  => sub { $data[$p] = ord shift @ARGV },                      # READ\n   '.'  => sub { print chr $data[$p], \"\\n\" },                        # WRITE\n   '/'  => sub { $dir = abs $dir == 1 ? -$dy * $dir : $dir / -$dy},  # RULD\n   '\\\\' => sub { $dir = abs $dir == 1 ? $dy * $dir : $dir / $dy},    # LURD\n   '!'  => sub { $ip += $dir },                                      # SKIP\n   '?'  => sub { $ip += $dir unless $data[$p] },                     # SKIPZ\n   '@'  => sub { push @stack, [ $ip + $dir, $dir ] },                # ENTER\n   '#'  => sub { @stack ? ($ip, $dir) = @{pop @stack} : $run-- },    # LEAVE\n   \"\\n\" => sub { $run-- });                                          # STOP",
      "id": "dc1c3d62d1b1b73ef20616ae272db110"
    },
    {
      "type": "code",
      "text": " while($run and $ip >= 0 and $ip < length $code)\n   {\n   $op = $instructions{my $ch = substr $code, $ip, 1} and &$op;\n   #print \"op: $ch (@data)[$p]\\n\"; # uncomment for trace\n   $ip += $dir;\n   }\n exit $data[$p];",
      "id": "13ad2e35a5c7d8f6c5b1ee4d64f465e2"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<i>Simpler logic for '/' and '\\':</i>",
      "id": "b09730464684d2af1fa7cd1c66344ca4"
    },
    {
      "type": "code",
      "text": "   '/'  => sub { $dir = -$dy / $dir },                             # RULD\n   '\\\\' => sub { $dir =  $dy / $dir },                             # LURD",
      "id": "42ff6091da8691e3f2da7a9a8e682626"
    },
    {
      "type": "html",
      "text": "<i>-- [[Ian Osgood]]</i>",
      "id": "6fc87a960ba872cade780e2c4c4b88da"
    },
    {
      "type": "html",
      "text": "\nBMOV1, FMOV1, and FSPL2 have been corrected. These fixes were found using\nthe following interactive tracing program <i>(now new and improved (+ some fixes) :)</i>:",
      "id": "6d4342fd3c03a6967b01411b6de815c1"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "code",
      "text": " #!/usr/bin/perl",
      "id": "1190310f76578ec534f21999b37376c5"
    },
    {
      "type": "code",
      "text": " # A Modular SNUSP Debugger\n # Copyright (C) 2004  Rick Klement\n # Copyright (C) 2013  Rick Klement",
      "id": "5b2662819b060867f2d57a8bcffe8be2"
    },
    {
      "type": "code",
      "text": " use Curses;\n use Term::ReadKey;\n use strict; # animate.pl - show calculation using Curses\n # allow backing up out of STOP",
      "id": "fc6db21bc83a09802a294e3bb184a03a"
    },
    {
      "type": "code",
      "text": " my @restart = ( $^X, $0, @ARGV );\n my $filename = shift;\n open IN, $filename or die \"$! opening $filename\";\n my $input = do{ local $/; <IN> };\n close IN;",
      "id": "75e3fd9e8bf93e62a500b348cbfb5214"
    },
    {
      "type": "code",
      "text": " my ($dy, $dir, $p, @data, @stack, $op, $code, $ch) = (1, 1, 0, 0);\n $code .= $_, $dy < length and $dy = length for $input =~ /^.*\\n/gm;\n $code =~ s/^.*/$& . ' ' x ($dy - length $&) . \"\\n\"/gem;\n $dy += 2;\n my %lurd = (-1, -$dy, -$dy, -1, 1, $dy, $dy, 1);\n my $ip = $code =~ /\\$/ * $-[0]; # find first $ or first char\n my @out = ();\n my %instructions = (\n   '>'  => sub { $data[++$p] += 0 },                                  # RIGHT\n   '<'  => sub { --$p >= 0 or $dir = 0 },                             # LEFT\n   '+'  => sub { ++$data[$p] },                                       # INCR\n   '-'  => sub { --$data[$p] },                                       # DECR\n   ','  => sub { $data[$p] = ord shift @ARGV },                       # READ\n   '.'  => sub { push @out, chr $data[$p] },                          # WRITE\n   '/'  => sub { $dir = -$lurd{$dir} },                               # RULD\n   '\\\\' => sub { $dir =  $lurd{$dir} },                               # LURD\n   '!'  => sub { $ip += $dir },                                       # SKIP\n   '?'  => sub { $ip += $dir if $data[$p] == 0 },                     # SKIPZ\n   '@'  => sub { push @stack, [ $ip + $dir, $dir ] },                 # ENTER\n   '#'  => sub { @stack ? ($ip, $dir) = @{pop @stack} : ($dir = 0) }, # LEAVE\n   \"\\n\" => sub { $dir = 0 });                                         # STOP",
      "id": "b669eb13ee997605174b842c8eca0af3"
    },
    {
      "type": "code",
      "text": " initscr();\n ReadMode cbreak;",
      "id": "7ee8ef8a3fa553ed0348acf9c41dac27"
    },
    {
      "type": "code",
      "text": " my $count = 0;\n my @history;\n my $key;\n my $sleep = 0.1;\n my $pause = 0;\n my $number = 0;\n my $y = 0;",
      "id": "343e40156dbf936fefe5b86f350541c0"
    },
    {
      "type": "code",
      "text": " eval # here so crashes will still restore ReadMode and window\n   {\n   addstr($y++, 0, $&) while $code =~ /.+/g;\n   addstr(++$y, 0, \"(space)togglepause (g)oto n (CR)step (BS)backstep (ESC)clear n\");\n   addstr(++$y, 0, \"(r)estart (q)uit (+)faster (-)slower\");\n   $y += 2;",
      "id": "cc0651f40d2e7bf99328bd06f08a7245"
    },
    {
      "type": "code",
      "text": "   while(1)\n     {\n     if($ip < 0) {$ip = 0; $dir = 0}\n     if($ip >= length $code) {$ip = length($code) - 1; $dir = 0}\n     $pause = 1 if $dir == 0;\n     if($dir and (not $pause or $key eq \"\\n\"))\n       {\n       $pause = 1 if $number and $count == $number - 1 or $key eq \"\\n\";\n       $op = $instructions{$ch = substr $code, $ip, 1} and &$op;\n       $ip += $dir;\n       $history[$count++] ||= [$ip, $dir, $p, [@data], [@stack], [@ARGV], [@out] ];\n       }\n     my $n = 0;\n     $#data > $p and $data[-1] == 0 and pop @data;\n     my $brace = join '', map { $n++ == $p ? \"[$_]\" : \" $_ \" } @data;\n     my $s = \"out: @out  t: $count  n: $number  sleep: $sleep\\ndata: $brace   \";\n     addstr($y, 0, $s);\n     clrtoeol();\n     move( int($ip / $dy), $ip % $dy);\n     refresh;\n     $key = ReadKey($pause ? 0 : $sleep);\n     $key =~ tr/\\r/\\n/; # raw mode :)\n     if($key eq 'q' or $key eq 'r') {last}\n     elsif($key eq '+') {$sleep /= 2}\n     elsif($key eq '-'){$sleep *= 2}\n     elsif($key eq \"\\e\"){$number = 0}\n     elsif($key =~ /\\d/){$number = 10 * $number + $key}\n     elsif($key eq ' '){$pause = not $pause}\n     elsif($key eq 'g' || $key eq \"\\x08\" and $number < @history)\n       {\n       $count = $key eq 'g' ? $number : $count - 2;\n       $count < 0 and $count = 0;\n       ($ip, $dir, $p, my $data, my $stack, my $argv, my $out) =\n         @{$history[$count++]};\n       @data = @$data;\n       @stack = @$stack;\n       @ARGV = @$argv;\n       @out = @$out;\n       }\n     }\n   };",
      "id": "43b2a6125a74e584e449284292081ab8"
    },
    {
      "type": "code",
      "text": " ReadMode 0;\n endwin();\n exec @restart if $key eq 'r';",
      "id": "dbd01b7c08c206edf2581be6d450331e"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<i>How about a Bloated SNUSP interpreter and Modular SNUSP compiler at [http://www.baumanfamily.com/john/esoteric.html www.baumanfamily.com]. Too bad it only works in Windows. (update: a new version that compiles to C, might be faster, and should be portable is on the website)</i>",
      "id": "7056438257babee1ce4ecd398d6bd07d"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "\nAs a learning exercise, I've created a pure [[Java Script]] implementation for Modular SNUSP that lives entirely within a web page: [http://www.quirkster.com/snusp/snusp-js.html www.quirkster.com]. I'm also working on a similar interpreter for Ward's [[Biota Language]]. -- [[Ian Osgood]]",
      "id": "5fec9ff7593f90dac20266b239583274"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Multiplication</b>",
      "id": "1bb6982e133e40238e6c09de2835ee77"
    },
    {
      "type": "html",
      "text": "\nHere's another multiplier (SNUSP rules require starting at the $ if there):",
      "id": "3f5e195ec7c853707905d52f69d3305e"
    },
    {
      "type": "code",
      "text": "                                                        /-\\ wiki protection\n                    #==========================.======<=\\?/!=>===============\\ wiki protection\n                                                                             |\n start here -->$ ,@\\>,@\\< !/=========================?\\ >>> !/=======?\\ <<<@\\/\n                   |   |   \\<< /?===\\! > /?======\\! >-/      \\>>>+<<<-/     |\n                   |   |       \\-<+>/    \\->+>+<</                          |\n         /=========/!==/                                                    |\n         |/=================================================================/\n         ||\n         |\\= ItoA ++++++++++++++++++++++++++++++++++++++++++++++++#\n         \\== AtoI ------------------------------------------------#",
      "id": "c44e0f89b090dae5239038bb16ac9045"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "And another... This one has some more compact loops; it finishes in half the steps of the one above. (Great, I'm spending my time optimizing useless languages; I need a life...)",
      "id": "48cfe951ec5064beabe64343909d518d"
    },
    {
      "type": "html",
      "text": "\nNote: wiki doesn't like having <b>\\</b> on the end of a line. I've fixed some other examples above. -- [[Ian Osgood]]",
      "id": "b0b3d7d1ac7578a061d44564e6116900"
    },
    {
      "type": "code",
      "text": " \\    [a][b]  [c]      [a]  [b]  [c]     [a]  [_][b]\n |    [0][a+b][a+c]    [a+c][b+c][0]     [a+b][_][0]\n |   #/?<<+>+>-==\\     /==-<+<+>>?\\#    /==-<<+>>?\\#\n |    \\->+>+<<!/?/#   #\\?\\!>>+<+<-/    #\\?\\!>>+<<-/\n |          /==|=========|=====\\   /-\\    |\n \\,@\\>,@\\<?!/>@/<-?!\\>>>@/<<<-?\\=>!\\?/>!/@/<<=itoa=\\ wiki protect\n    |   |   \\=======|==========/   /-\\  |          |\n    |   |           \\done======>>>!\\?/<=/          |\n    \\==!\\atoi--------------------------------------|----------#\n #.++++++++++++++++++++++++++++++++++++++++++++++++/",
      "id": "00cba47d10d65589dac845b3c18c6e48"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Division</b>",
      "id": "b2da964214bfb658f8def7d5f1a8028b"
    },
    {
      "type": "html",
      "text": "\nI could barely understand the DIV routine below, so I designed my own. The stack effect is [a][b]->[a/b][a%b].",
      "id": "d5f2a292da6d6c0ac1a3f3e934cfd31c"
    },
    {
      "type": "code",
      "text": "    /==!/!#------------------------\\!\\ atoi\n    |   |   /==!/!#++++\\           \\=/\n $,@/>,@/@\\@/.<@/.#   /+\\ itoa\n          |       /=\\/+++\\ wiki\n /==div===/       \\!\\++++/\n |                   \\++/\n |    /-\\             \\/\n \\?\\<!\\?/#!===+<<<\\      /-\\ wiki\n   \\<==@\\>@\\>>!/?!/=<?\\>!\\?/<<#\n        |  |  #\\->->+</\n        \\=!\\=?!/->>+<<?\\#\n              #\\?<<+>>-/",
      "id": "5b3cea15d7a631ac3ad584ce1ed7404a"
    },
    {
      "type": "html",
      "text": "The algorithm is repeated decrement. In the following equivalent pseudo-code, cells 0-3 are represented by variables a-d respectively.",
      "id": "21757a285cf0b67ada7d51bd8d9cefc9"
    },
    {
      "type": "code",
      "text": " c=a (a=0)\n loop:\n   d=b (b=0)\n   while (d!=0):\n     if (c==0) d=0 return a,b\n     b++ c-- d--\n   a++",
      "id": "00dab1f077937e03466228aa27d1cdfc"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "\nReally, this language is <i>designed</i> to implement the [[Ackermann Function]], so here it is in all its glory. I tested that A(3,1) = 13 and A(3,2) = 29, but you'll have to be the one to try A(3,3). ;-) <i>I did, and it works just fine :-)</i>",
      "id": "c61511eee8b410b6771d4e123cdfc1d0"
    },
    {
      "type": "code",
      "text": " \\  /==!/atoi------------------------------------------------#\n |  |   |       /=========\\!==\\!====\\   (recursion)\n \\,@/>,@/=ACK==!\\?\\<+#    |   |     |   A(0,j) -> j+1\n  j   i           \\<?\\+>-@/#  |     |   A(i,0) -> A(i-1,1)\n                     \\@\\>@\\->@/@\\<-@/#  A(i,j) -> A(i-1, A(i, j-1))\n           [0]->[2]    |  |     |\n          #/?<<+>>-\\!==/  |     \\==!/-<<+>>?\\#  [2]->[0]\n           \\->>+<<?/#     |        #\\?>>+<<-/\n                          |\n                          \\@\\>>>@\\<<#    copy [1]->[3] and advance\n           [1]->[3][4]      |    |\n          #/?<<<+>+>>-\\!====/    \\==!/-<<<+>>>?\\#    [4]->[1]\n           \\->>+>+<<<?/#            #\\?>>>+<<<-/",
      "id": "6259566ee1fbd662d0c3398fd59375ec"
    },
    {
      "type": "html",
      "text": "<i>We could employ [[Tail Recursion Elimination]] by replacing <b>@/#</b> with <b>/</b>.</i>",
      "id": "5e4ce39eeb9d238055e61db4deab15d6"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Another interesting property of this language is bi-directional flow of control. It is like DNA transcription in this regard. For example, consider the loops which move a value up and down one cell:",
      "id": "5c1d6406aa7f44c046e469e9d06bb36e"
    },
    {
      "type": "code",
      "text": "       #                 #\n up1=?!/->+<?\\#  down1=?!/-<+>?\\#\n      #\\?<+>-/          #\\?>+<-/",
      "id": "aa24e438ea66ce9ea9d34409d12d2313"
    },
    {
      "type": "html",
      "text": "Note how similar they are. Wouldn't it be nice to eliminate the duplication? We can! We can make a single loop with multiple entry points, each one circulating in a different direction:",
      "id": "dab44be25f47381edb354b2cd5f170ff"
    },
    {
      "type": "code",
      "text": "         #    #\n up1===?!/->+<\\ wiki protection\n         ?    ?\n down1=?!\\<+>-/\n         #    #",
      "id": "806f7bb813d8cc653cd79abbd91cb2e4"
    },
    {
      "type": "code",
      "text": "    /==!/==atoi=@@@-@-----#                                        \n    |   |                                                          \n    |   | [j]{i} -> {A(i,j)}, where A is the Ackermann function    \n    |   |       /=========\\!==\\!====\\   ** recursion **\n $,@/>,@/==ack=!\\?\\<+#    |   |     |   A(0,j) -> j+1              \n  j   i           \\<?\\+>-@/#  |     |   A(i,0) -> A(i-1,1)         \n                     \\@\\>@\\->@/@\\<-@/#  A(i,j) -> A(i-1,A(i,j-1))  \n                       |  |     |                                  \n  {a}[ ][0]  #      #  |  |     |             /+<<<-\\              \n  {0}[ ][a]  /-<<+>>\\!=/  \\=====|==!/========?\\>>>=?/<<#  {a}[ ][0]\n   (a > 0)   ?      ?           |   \\<<<+>+>>-/           [a]{ }[a]\n  [0][ ]{a}  \\>>+<<-/!==========/                                  \n  [a][ ]{0}  #      #                                              ",
      "id": "87abca4070ae76115fc9712ebf6fb4c9"
    },
    {
      "type": "html",
      "text": "\nThis technique can also be used to optimize runs of + or -. For example here are some progressively optimized versions of the itoa and atoi routines frequently used for I/O.",
      "id": "e6abc9d7385aa1a1f9ad021b85d64906"
    },
    {
      "type": "code",
      "text": " itoa++++++++++++++++++++++++++++++++++++++++++++++++#  n+1 = 49",
      "id": "92198301dca01cd81af8bbcd8f15384c"
    },
    {
      "type": "html",
      "text": "We can halve the number of operations by adding a reflector at the end and a valve at the beginning:",
      "id": "fa88cf9b93c3efb0ad27fdaf6aa16dbd"
    },
    {
      "type": "code",
      "text": " atoi!/------------------------=!\\\\ n/2 + 9 = 33 (9 overhead)\n      #                          \\/",
      "id": "c2317923540b5e1c1628931070557afc"
    },
    {
      "type": "html",
      "text": "If we are space constrained, we can fold once.",
      "id": "b161052338b317044ccf97a731f70b7b"
    },
    {
      "type": "code",
      "text": " atoi!/------------\\ n/2 + 11 (12 overhead)\n   //!=------------/\n   \\/ #",
      "id": "c2eabdaf730a0041c7aa8135db067d4a"
    },
    {
      "type": "html",
      "text": "Still too constrained? Bi-directional doesn't just have to be back and forth, it could be horizontal vs. vertical:",
      "id": "639873d30465c5f225aab332337a9fec"
    },
    {
      "type": "code",
      "text": "     /\\/\\/\\ wiki\n itoa++++++\\ n/2 + 2a + 2b = 44 (2a+2b=20 overhead)\n    /++++++/\n    \\++++++\\ wiki protection\n    /++++++/\n    \\/\\/\\/#",
      "id": "0ea3a24539f6767bc7fc4e10e151d0c9"
    },
    {
      "type": "html",
      "text": "Even better, these two methods can be combined, so that each + does quadruple duty! Each + is executed once from each direction of the compass.",
      "id": "3817b7e184f98ab7faab6defed9c3778"
    },
    {
      "type": "code",
      "text": "      #/\\/\\ wiki\n itoa!\\++++\\ n/4 + 2a + 2b + 6 = 32 (4a+4b+8=36 overhead)\n      /++++/\n    /=\\++++\\ wiki protection\n    \\!\\/\\/\\/",
      "id": "55f2f421cac33da5d759571f104c7dd3"
    },
    {
      "type": "html",
      "text": "If you want four times a triangular number, you can eliminate some reflections with a diamond-shaped container:",
      "id": "e34c86534bc66cad246c5b5fea121fd8"
    },
    {
      "type": "code",
      "text": " itoa!#++\\   40/4 + 8/2 + 10 + 8 = 32 (26 overhead)\n        /+\\ wiki\n  /=\\  /+++\\ wiki\n  \\!\\++++++/\n       \\++/\n        \\/",
      "id": "e06fef4b86e40b6279ff30088620f83f"
    },
    {
      "type": "html",
      "text": "You can also play tricks with the call stack:",
      "id": "781ec3d3bc5a800f8c05f46c7fca4e89"
    },
    {
      "type": "code",
      "text": " itoa=@=@=@=++++++#\n atoi=@@@@=@@=--#\n itoa=@@@+@+++++#",
      "id": "11485769522bf0cee22dedd66c6442c9"
    },
    {
      "type": "html",
      "text": "Exercise: what sequence is this describing?",
      "id": "dbb9e28730eee26168e1b5c1731854af"
    },
    {
      "type": "code",
      "text": " =+#\n =++#\n =+++#\n =@+++#\n =@@+++#\n =@@@+++#\n =@@@@+++#\n =@@@@@+++#\n =@@@@@@+++#\n =@@@@@@@+++#\n =@@@@@@@@+++#\n =@@@@@@@@@+++#",
      "id": "7645ff10684c27b3968a428544d254ad"
    },
    {
      "type": "html",
      "text": "Truly, Snusp is a language for [[Real Programmer]]s! -- [[Ian Osgood]]",
      "id": "2dcb4041c67651d807a66ac877c4aa79"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Another canonical example: [[Ninety Nine Bottles Of Beer On The Wall]]!",
      "id": "f4696c8ac6594d9ee3d733ae304ed953"
    },
    {
      "type": "code",
      "text": "   /=!/===========!/+++++++++# +9\n   |  |  /=!/='9'=@/!/!/++++++++++++++++++++++++++++++++++++++++++++++++# +48 (itoa)\n   |  |  |  |  /+++++|+|++++++++++++++++++++++++++# space (32)\n   |  |  |  |  |     \\=\\@++\\!+++++++++++++\\!+++++\\ wiki\n   9  9 '9''9' space      'b'            'o'    't'\n $@/>@/>@/>@/>@/>=========@/>============@/>====@/>++++++++++\\n  setup\n   /====================================loop==>\\!>\\!=<<<<<<<</\n   \\@\\@\\>cr.@\\<?\\<->+++++++++>->+++++++++\\     |  |\n     ! |     |  \\===-========>=>-==BCD==!\\<@\\<?/<?/# no more beer!\n     /=|=====|==============================/\n     | |     \\<++t.<<----a.>----k.<++++e.<_.>>++++o.-n.<e.<_.>-d.>+o.>+++w.<-n.<<_.\\ wiki\n     | |     /                                                                     /\n     | |     \\>---a.>n.<+++d.<_.>>++p.<---a.>>----s.s.<<<_.>>-------i.>+t.<<<_.\\ wiki\n     | |     /                                                                 /\n     | |     \\>a.>>--r.<++++++o.>+++u.<-n.<+++d.>>>cr.<-T<+O<--B<<<#\n     | !\n     \\@\\<<<_.>>o.-n.<<_.>>>++t.<<+++h.---e.<_.>>>+++w.<<----a.>--l.l.>>CR.<---T<+++O<+B<<<#\n       |\n       \\9.>9.>_.>B.>O.>T.t.<---l.<+++e.>>-s.<<<_.>>+++O.<+f.<_.>----b.+++e.E.>>-R.#",
      "id": "2efca8d5daa07733f702189a1007153a"
    },
    {
      "type": "html",
      "text": "\nMuch shorter than the Brainf**k version. -- [[Ian Osgood]]",
      "id": "83c7019d2755b476f7ffbd8f76371095"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "They shouldn't have mentioned BrainF*** on the [[Odd Word Problem Solutions]] page, 'cause I had to do this:",
      "id": "a11f453bc6a32d1506194d349a49e255"
    },
    {
      "type": "code",
      "text": " ,@\\=\\   Odd word problem in SNUSP\n   | !\n   | /=====\\ loop\n   | @     |  /====,.<\\                 even words: verbatim\n   | \\=======!\\@\\@\\>?!/-<#\n   | |     |    | |\n   | | /=\\ |    | | /<.!/?\\>!/-<+>?\\<#  odd words: reversed\n   | | | @ |  /=!=!=\\!@,\\-/#<\\?>+<-/     (recursion)\n   | | | \\===!\\@\\@\\==>?!/-<#\n   | | | | |    | |\n   | @ | @ |    | |  /=,<-\\             eat spaces\n   \\!\\==!\\======|=|=!\\@\\>?/<#\n     | | | |    | |    |      /======@@@@=----# \n     | | | |    | \\===!\\=====@/?\\>+<\\   test for space (32)\n     | | | |    |               \\==!\\@@@@=++++#\n     | | | |    |\n     @ | @ |    |         /======@=@@@-----#\n     \\==!\\=====!\\========@/?\\>+<\\       test for a '.' (ASCII 46)\n     > | > |                \\==!\\@=@@@+++++#\n     ? | ? |\n     \\==!\\===-<.#    done? emit '.' and quit\n     @ | @ |     /-\\                    emit a space\n     \\==!\\===@\\.!\\?/<#\n     | | | |  \\@@@@=++++# (ASCII 32)\n     \\=/ \\=/ loop upwards",
      "id": "87c496d1995848c623a3daf9107fc9df"
    },
    {
      "type": "html",
      "text": "\nUsing the perl script, each letter is an argument, like this:",
      "id": "0ceb106b8c2df8d0e7bd58d7ea6a6d46"
    },
    {
      "type": "code",
      "text": " perl snusp.pl < oddword.snusp f i r s t ' ' s e c o n d ' ' t h i r d .",
      "id": "240c1dc8fcec3ccef0ca9fcc5933aae9"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Thanks, Daniel, for coming up with such a nice minimal 2D language!",
      "id": "3cb73afeee47dff4ca4cff8c1d5e4c84"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Is there a simple way to translate an arbitrary Brainfuck program into Core SNUSP?</b>",
      "id": "61c69b69e11945d4195390fb2a730e29"
    },
    {
      "type": "html",
      "text": "\nWell,",
      "id": "d6a7ec4447b20dde424035a28709845d"
    },
    {
      "type": "code",
      "text": " a[bc]d",
      "id": "82fe8dce2701bf8cd44eee41d645c604"
    },
    {
      "type": "html",
      "text": "translates to",
      "id": "ee64bc9bd30b5a7a9f8495189e2b894a"
    },
    {
      "type": "code",
      "text": " a!/=?\\d\n   \\cb/ ",
      "id": "8923a9dacb988bd08be804c9726f18e0"
    },
    {
      "type": "html",
      "text": "so since the rest of the Brainfuck instructions are equivalent in Core SNUSP, it appears all you have to do is start with the innermost bracket pair and add loops as you walk out.",
      "id": "45221292ef76420896ad7057eb7c96d7"
    },
    {
      "type": "html",
      "text": "\nAs a slightly more complex example,",
      "id": "2469584121470d1568f599929021a335"
    },
    {
      "type": "code",
      "text": " a[b[c]d]e",
      "id": "3af44c2b309a964ecf4a388fbb324fdc"
    },
    {
      "type": "html",
      "text": "would be",
      "id": "3e25805f83829807049f7cebec0fcc02"
    },
    {
      "type": "code",
      "text": " a!/=====?\\e\n   \\d/?\\!b/\n     \\c/",
      "id": "098eda2506934f8ae9c1e93a2d63eafb"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Does the second data memory dimension add enough convenience to motivate its existence?</b>",
      "id": "0a6ae1eeea6ad365a9fd55c2fd5a9852"
    },
    {
      "type": "html",
      "text": "\nThe second data memory dimension enables each thread to have its own infinitely growing stack -- something that would not be possible using only one dimension without fragmenting the stacks and severely complicating subroutine interfaces.",
      "id": "39a0a2f2b41d5ce53cf65afa31a93583"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Would it make sense to pull the second data memory dimension instructions up into Modular SNUSP?</b>",
      "id": "4d2aa3fc0984772f07616042d9fce973"
    },
    {
      "type": "html",
      "text": "\nWhen using just one thread, the other data memory dimension does not seem to add anything of value. Some have suggested that subroutines use lower memory strips for local data, but this is unnecessary since conventionally they can allocate as much memory as they want rightwards (this works just like the C stack).",
      "id": "b730b353be50e2174209895e61067041"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Subroutine wishlist</b>",
      "id": "8d34999cc3986316565ef010aebefe8d"
    },
    {
      "type": "html",
      "text": " Multi-digit PRINT; decimal would be cool, but hexadecimal might be easier and still almost as cool. <i>[Done, see below.]</i>",
      "id": "392b03addcb7a61f3d52b5b27bf06663"
    },
    {
      "type": "html",
      "text": " Square root",
      "id": "07a7113a81449a354a063dcc1e3fcf73"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>Multi-digit PRINT</b>",
      "id": "cca31fadd3c0d5b19c641d32b2c2d2b6"
    },
    {
      "type": "html",
      "text": "\nHere you go:",
      "id": "9c38a3e1931a848dc1df2444102ef945"
    },
    {
      "type": "code",
      "text": "        /======recurse======\\    #/?\\ zero\n print=!\\>++++++++++@\\@\\?!\\@/<@\\.!\\-/\n                     | |  \\=/  \\=itoa=@=@@@@=+++#\n                     | |\n        /===divmod===/ \\=swap=<@\\>@\\>@\\<#/?>+<-\\ down1\n        |           #           |  \\=!\\?!\\-<+>?/#\n        |    /=!/=?!/->>+<<?\\#  |        #\n        |    |  |  #\\?<<+>>-/!?=/ up2\n        |    |  |           #\n        |    |  |   /->->+<\\  /-\\ zero\n        \\==<@/>@/>>!\\?!\\=<?/>!\\?/<<#\n             \\=====+<<</",
      "id": "2995c45b96eb0092fb261e45c5fb80ff"
    },
    {
      "type": "html",
      "text": "For best results, edit the perl scripts above not to print a newline for '.'.",
      "id": "54a5d0951c7b9386132a1d02200b47da"
    },
    {
      "type": "html",
      "text": "\nThis one is more efficient, using a specialized routine for the mod and div by the base, i.e. 10:",
      "id": "9d5bc975e9dc4befbf15959cf9616c6e"
    },
    {
      "type": "code",
      "text": "        /recurse\\    #/?\\ zero\n print=!\\@\\>?!\\@/<@\\.!\\-/\n          |   \\=/  \\=itoa=@@@+@+++++#\n          !     /+ !/+ !/+ !/+   \\    mod10\n          /<+> -\\!?-\\!?-\\!?-\\!?-\\!\n          \\?!\\-?!\\-?!\\-?!\\-?!\\-?/\\    div10\n             #  +/! +/! +/! +/! +/",
      "id": "a756741b2fd78ea512f229ea46f0fc9a"
    },
    {
      "type": "html",
      "text": "-- [[Ian Osgood]]",
      "id": "78e07aff30e700e39ebb93e3f9533afb"
    },
    {
      "type": "html",
      "text": "<i>Awesome, Ian, thanks! I like how the former can easily be adapted to output in any base; at the same time, I'm amazed by the beauty of the latter. -- [[Daniel Brockman]]</i>",
      "id": "16668ccb3fb4abcf8e5e40e6bd140d09"
    },
    {
      "type": "html",
      "text": "\nI adapted it from the [[Path Language]] example.",
      "id": "fb1fb43cc086880ba827ab529588b5e0"
    },
    {
      "type": "html",
      "text": "<b>Square root</b>",
      "id": "0e27ed43d2b3bcd8e5f311f4d2056abc"
    },
    {
      "type": "code",
      "text": "              />!/?\\>=!/?\\>!/=======?\\<<<#\n              |  \\-/<-=\\-/  \\>>>+<<<-/\n sqrt=>+<=!/?!/->-?\\+>?/\\ wiki\n           \\\\!=<<+>/<<+>/\n            \\===<++/",
      "id": "3613a01a53e145d06847a1f9ea9c5b96"
    },
    {
      "type": "html",
      "text": "-- [[Ian Osgood]]",
      "id": "78e07aff30e700e39ebb93e3f9533afb"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "<b>[[Bubble Sort]]</b>",
      "id": "99c33a528c41c821e97d5c2c07dec339"
    },
    {
      "type": "html",
      "text": "\nFrom notzeb on the [[Xk Cd]] forums, I present this rectangle of awe:",
      "id": "425e5e3149230d0f4cc6ba1ac5f02407"
    },
    {
      "type": "code",
      "text": " /.\\/,\\/<=\\#>/?<<<+\\/\\   wiki\n !-</\\?</!\\@!\\->+>>/-|\n /\\\\?>\\//<\\/=!/<=?\\<//\n ?-?>||?<\\</<\\\\->-//!=\n \\/<\\/#|<|+?/-<+<<\\|/\\   wiki\n \\=/!/</|#\\-\\?>>>+/!/|\n $@!\\\\!?/!<\\>/>+<<\\\\/-\n /\\\\/\\+>,=?/#\\>-=?/<</",
      "id": "2e64a6d9b14423f10aa1e46fb645c3a0"
    },
    {
      "type": "html",
      "text": "It should sort the characters in the input stream and output them in ascending order. I've modified my interpreter to return zero on EOF to allow this program to run. -- [[Ian Osgood]]",
      "id": "5653711a3142c458fbcdbc391002bdc9"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "What would happen if we added the two remaining Brainfuck instructions (i.e., the looping brackets) to SNUSP? Granted, that still wouldn't make it copy-and-paste-compatible -- since the SNUSP interpretation of newline is quite different from that of Brainfuck -- but it might still be a useful addition to the language.",
      "id": "a76957126a3a78ae8492e483f99b77b5"
    },
    {
      "type": "html",
      "text": "\nWith Brainfuck brackets, the following very common and bulky SNUSP construct (the simple loop)",
      "id": "9651556c61ace03f7c21e96265d3e507"
    },
    {
      "type": "code",
      "text": " ==!/=======?\\#\n    \\hgfedcba/",
      "id": "6bd5b555b45c8734748ad33083dc9e27"
    },
    {
      "type": "html",
      "text": "could be reduced to the much simpler",
      "id": "b112d114f29f50309861b388700579d1"
    },
    {
      "type": "code",
      "text": " [abcdefgh]#",
      "id": "6b847521039f84abf83ad8fd1bb2f637"
    },
    {
      "type": "html",
      "text": "I haven't really thought about how it would interact with the subroutine mechanism, and I can't immediately see how it would affect SNUSP programming in general:",
      "id": "e04db4e19875986379157eb70273de12"
    },
    {
      "type": "html",
      "text": " Would it displace any of the current control flow instructions, or can they work together to make a more powerful and expressive language?",
      "id": "6e7f905435b389f576060a0a02708137"
    },
    {
      "type": "html",
      "text": " Would any new cool idioms emerge? (I'm still in complete awe at Ian's call-stack tricks.)",
      "id": "b19832dc9529a0b2068c7368270e7a11"
    },
    {
      "type": "html",
      "text": " Yeah, I've discovered a weird base 1.6 number system using @ and + for digits. I wrote a little Forth program to help me search for short and efficient representations for big constants.",
      "id": "857d1bec6fa2a57d6888cf78e57db5be"
    },
    {
      "type": "html",
      "text": " Other thoughts?",
      "id": "01fd19de3bc763d3ea5994d6670d1d91"
    },
    {
      "type": "html",
      "text": "\nOne thing adding the looping brackets clearly would do is render the two-dimensional control flow instructions essentially superfluous. However, that doesn't really bother me, since they no doubt still serve a very useful purpose. (Indeed, without them, subroutines are practically useless.)",
      "id": "d813b1e9635799d8a6eacc1324751d0b"
    },
    {
      "type": "html",
      "text": "\nIt would also introduce the first SNUSP run-time error: unmatched right square bracket.",
      "id": "bb1eebf107998d70a0b2b08b84a49705"
    },
    {
      "type": "html",
      "text": "<i>Are the semantics of '[' and ']' defined when executed from any direction? What happens if you come at one of the brackets in your example from the top, bottom, or right? Down with the oppression of directionality!!</i>",
      "id": "7516d4aef3ef7a179669d23fdd123077"
    },
    {
      "type": "html",
      "text": "\nThe simple way of implementing them would be to not have the approach direction matter.\nWhen right bracket is encountered, return to top left bracket on stack.\nThen it becomes like @ and # with the added power of conditionals.\nIndeed, you could replace @ and # with these, but it would make a lot of the above tricky programs much longer. -- [[David Rutter]]",
      "id": "60c09f804361a3046ed48f256c2696a5"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Have you considered adding a SNUSP variant which would utilize repeating instructions? It's not as beautiful as pure Brainfuck,\nbut it can greatly simplify some programs. I created a Brainfuck variant that followed these rules:\nAll 8 Brainfuck instructions are executed normally, however the instructions +,-,<, and > can be followed by a single hexadecimal.\nA short example CNBF (Constant Number Brainfuck program):",
      "id": "dc04943a65c2a0de77da393753b9db77"
    },
    {
      "type": "code",
      "text": " >+++++[<++++++>-]< Would calculate the value of 30.\n >+5[<+6>-]<        Also calculates the value of 30.",
      "id": "8d94c9837784f217c6f401ea8e98a8ae"
    },
    {
      "type": "html",
      "text": "\n[[Brian Thompson]]",
      "id": "d7308340c7fa5c2a4325bad9d292a5be"
    },
    {
      "type": "html",
      "text": "<i>I'm leary of adding meaning to characters that could otherwise be used as inline comments. 30 could be calculated by +@@@@++++# in Modular SNUSP.</i>",
      "id": "7d2565a31f7b4a2020fe405dfb50cd60"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Since the Bloated SNUSP concept doesn't scale very well, I'd like to scrap it and move to SRFI-style extensions. Under this scheme (no pun intended), SNUSP would be the minimal turing-complete language, while everything else would be defined as coherent extensions: SNURFIs. Every logical unit of functionality in Modular SNUSP and Bloated SNUSP would be isolated. Even the <b>skip</b> instruction could be pulled out of the basic language and into, say, SNURFI 1 -- though that would probably be overdoing it.",
      "id": "dd47ccd3c39b8d398903cf3a41e2da8f"
    },
    {
      "type": "html",
      "text": "\nPossible SNURFIs:",
      "id": "35af90a72d1afa5fcaf9a3e202da44c6"
    },
    {
      "type": "html",
      "text": " <b>modularity</b>:<br>Adds the same things as Modular SNUSP currently does.",
      "id": "0dd0d7a2538f100f290a9098791f2d7d"
    },
    {
      "type": "html",
      "text": " <b>concurrency</b>:<br>Adds the thread primitives currently residing in Bloated SNUSP.",
      "id": "001cdee6f248fc04d425cc7908d8ad2e"
    },
    {
      "type": "html",
      "text": " <b>non-determinism</b>:<br>Adds the <b>rand</b> (%) instruction currently residing in Bloated SNUSP.",
      "id": "b0b09272de817a676015ca433cd75b29"
    },
    {
      "type": "html",
      "text": " <b>brainfuck looping</b>:<br>Adds the Brainfuck looping instructions (i.e., [ and ]).",
      "id": "11f5056dfb3fd5a0fa917d18523a252b"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "Here's a proposed notation for stack effect:",
      "id": "29f7688dcb770f465a70c226f928e430"
    },
    {
      "type": "code",
      "text": "    /==!/==atoi=@@@@=@@=--#\n    |   |\n    |   | (Did I get this right?)\n    |   | [j]{i} -> {A(i,j)}, where A is Ackermann's function\n    |   |       /=========\\!==\\!====\\   ** recursion **\n $,@/>,@/==ack=!\\?\\<+#    |   |     |   A(0,j) -> j+1\n  j   i           \\<?\\+>-@/#  |     |   A(i,0) -> A(i-1,1)\n                     \\@\\>@\\->@/@\\<-@/#  A(i,j) -> A(i-1,A(i,j-1))\n  {a}[ ][0]  #      #  |  |     |\n  {0}[ ][a]  /-<<+>>\\!=/  \\=====|==@\\>>>@\\<<#  {a}[ ][0]\n   (a > 0)   ?      ?           |   |    |     [a]{ }[a]\n  [0][ ]{a}  \\>>+<<-/!==========/   |    |\n  [a][ ]{0}  #      #               |    |\n                      {a}[ ][0][0]  |    |  [0][ ][ ]{a}\n                      {0}[ ][a][a]  |    |  [a][ ][ ]{0}\n                     #/?========\\!==/    \\==!/=======?\\#\n                      \\->>+>+<<</            \\>>>+<<<-/",
      "id": "1da234d2c502dbf39fecbe7c3e72fc77"
    },
    {
      "type": "html",
      "text": "(Code stolen from above.)",
      "id": "8e7265631b9e295e9e4fcc4bb254a79c"
    },
    {
      "type": "html",
      "text": "\nEach bracketed expression represents a memory cell. Curly brackets are used around the current memory cell; square brackets are used elsewhere.",
      "id": "41bf5adab2eb1b192fd8e89ae63896ce"
    },
    {
      "type": "html",
      "text": "\nThe first array of cells represents the situation before the subroutine call; the second array the situation after the subroutine has returned. The two arrays are separated by an arrow which can be omitted when the arrays are written on separate lines.",
      "id": "cd78c17042ab23cc91f67c1714ec9714"
    },
    {
      "type": "html",
      "text": "\nEmpty cells (i.e., [ ] or, alternatively, [_]) can contain anything and will not be touched by the subroutine. (Thus, {a}[ ][b] -> {b}[ ][a] is sugar for {a}[x][b] -> {b}[x][a].) Trailing [0] cells are implied and can be omitted (see [[Snusp Calling Conventions]]).",
      "id": "385c248e97d40c6b4ed62e3c37e9d20b"
    },
    {
      "type": "html",
      "text": "<i>I prefer to use the long established stack effect notation from [[Forth Language]]: ( before -- after ) where the top of stack (higher address) is to the right. In this notation, my div routine has effect ( numerator denominator -- div mod ) or more tersely ( n d -- n/d n%d ). -- [[Ian Osgood]]</i>",
      "id": "1cc2d7773afb1a79ac1d3c17ceed4a16"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "See also: [[Path Language]], [[Brainfuck Language]], [[Befunge Language]], [[Esoteric Programming Language]]",
      "id": "5fe2edd871e9eb04688ed4e54a5a3c5c"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "1723b0f825c9a9bbd71b8597022c1ec8"
    },
    {
      "type": "html",
      "text": "[[Category Programming Language]]",
      "id": "138b3b4a7de51424104bf10d50ac9e94"
    },
    {
      "type": "html",
      "text": "See original on  [http://c2.com/cgi/wiki?SnuspLanguage c2.com]",
      "id": "e710bb196cb1f8de413b76e5994795bd"
    }
  ],
  "journal": [
    {
      "date": 1370823761000,
      "id": "42fa796f4ce297ab58906222a6d9a443",
      "type": "create",
      "item": {
        "title": "Snusp Language",
        "story": [
          {
            "type": "html",
            "text": "<b>S</b>NUSP's <b>N</b>ot <b>U</b>nix, but a <b>S</b>tructured <b>P</b>ath: A revised version of [[Path Language]], by [[Daniel Brockman]]. The advantages of SNUSP include well-defined semantics (like [[Brainfuck Language]], PATH is semantically ambiguous in many ways), an arguably cleaner instruction set, and optional support for advanced features such as subroutines and concurrency.",
            "id": "aa334fe7ae533e425101a77d9a760a09"
          },
          {
            "type": "html",
            "text": "\nThe SNUSP instruction set is divided into three levels, each adding to the previous level.",
            "id": "df2c0b5ade09dd662cd36b05db4e123f"
          },
          {
            "type": "html",
            "text": "<b>Core SNUSP</b> is basically [[Brainfuck Language]] with a two-dimensional code space. This instruction set is as powerful as any of the variants normally used in PATH, but contains fewer instructions. Core SNUSP trades Brainfuck's two looping instructions, <b>]</b> and <b>[</b>, for the four basic flow-control instructions:",
            "id": "412d7d6a9628af858f8fa842944bbab9"
          },
          {
            "type": "html",
            "text": " <b>\\</b> (LURD)",
            "id": "bb75cde00234f3f40f4e6b67bc4c5570"
          },
          {
            "type": "html",
            "text": " <b>/</b> (RULD)",
            "id": "faa2ebce969f83b7a3775bc94ba691bc"
          },
          {
            "type": "html",
            "text": " <b>!</b> (SKIP)",
            "id": "e708df0c401beaacf20a8ee2c4d38f27"
          },
          {
            "type": "html",
            "text": " <b>?</b> (SKIPZ)\nThe remaining Brainfuck instructions are equivalent to the Core SNUSP instructions:",
            "id": "96c56036e02f0f967b63d9b764d4d0e4"
          },
          {
            "type": "html",
            "text": " <b><</b> (LEFT)",
            "id": "b5fc251f6d0cfab78a995e4c977053b3"
          },
          {
            "type": "html",
            "text": " <b>></b> (RIGHT)",
            "id": "d6e35894c9c329610e25c40c0fe372d8"
          },
          {
            "type": "html",
            "text": " <b>+</b> (INCR)",
            "id": "618db9e9266495f9fdbf26abc140671f"
          },
          {
            "type": "html",
            "text": " <b>-</b> (DECR)",
            "id": "b8d2718669c84dadb23035cc6ecbec5c"
          },
          {
            "type": "html",
            "text": " <b>,</b> (READ)",
            "id": "3bc636f73e3fa73dd3be1e40b7902175"
          },
          {
            "type": "html",
            "text": " <b>.</b> (WRITE)",
            "id": "4f160262222e06328a2ab76800b74868"
          },
          {
            "type": "html",
            "text": "<b>Modular SNUSP</b> adds a subroutine mechanism in the form of two instructions:",
            "id": "fd98ff72ef6dde9546680da2e37fddfa"
          },
          {
            "type": "html",
            "text": " <b>@</b> (ENTER)",
            "id": "fc708bbac546159f6dd929587e3a8c15"
          },
          {
            "type": "html",
            "text": " <b>#</b> (LEAVE)\nSee [[Snusp Calling Conventions]].",
            "id": "487e47e35dc3ca6aeef476eba2ac7535"
          },
          {
            "type": "html",
            "text": "<b>Bloated SNUSP</b> adds a second data memory dimension, concurrency, and random direction:",
            "id": "a6633c9f8c5629a67b79ace19a0795cf"
          },
          {
            "type": "html",
            "text": " <b>:</b> (UP)",
            "id": "0810259ccdb3ca69d3a864889b96ae3b"
          },
          {
            "type": "html",
            "text": " <b>;</b> (DOWN)",
            "id": "10eb4d3fa97076addadb150c6adbb458"
          },
          {
            "type": "html",
            "text": " <b>&</b> (SPLIT)",
            "id": "5950836cd0c01a2c226aba246df55f76"
          },
          {
            "type": "html",
            "text": " <b>%</b> (RAND)",
            "id": "17755ad9b68463a3d9060f5b41f56900"
          },
          {
            "type": "html",
            "text": "\nThe language is officially documented on the [[Esoteric Programming Language]] wiki:",
            "id": "7bcbb86f947004fc06fbd99386b246e6"
          },
          {
            "type": "html",
            "text": " [http://esoteric.voxelperfect.net/wiki/SNUSP esoteric.voxelperfect.net]",
            "id": "b8bda4742e71737bd66f63e5056120ad"
          },
          {
            "type": "html",
            "text": "\nA nearly complete specification is here: [http://www.quirkster.com/iano/snusp/snusp-1.0-spec-wd1.pdf www.quirkster.com] . There's a couple of things that are still undefined for basically no reason.",
            "id": "7ce01636b7898672fca89d8e5532cd61"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "[[Ingy Dot Net]] released (spring 2013) a SNUSP processor, complete with a curses-based debugger!  To install, get cpanm:",
            "id": "96137ccd6dc3c339d177d06128e1aa77"
          },
          {
            "type": "html",
            "text": " Get cpanm: curl -L [http://cpanmin.us cpanmin.us] | perl - App::cpanminus && cpanm --local-lib=~/perl5 local::lib && eval `perl -I ~/perl5/lib/perl5/ -Mlocal::lib`",
            "id": "7e1db3e7dc4ce52de8719db04f66ca90"
          },
          {
            "type": "html",
            "text": " Install: cpanm Language::SNUSP Curses",
            "id": "5d4d194b6e98ce61c0b04b6452ee4709"
          },
          {
            "type": "html",
            "text": " Have fun!: cpanm --look Language::SNUSP && snusp --debug examples/fizzbuzz.snusp",
            "id": "a23b36cc2f5833e30f9226c44280be90"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>[[Convert Spaces To Tabs Not For Code]]!!!</b>",
            "id": "83a2661d1978704f43c47fd7b2eb37f1"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<i>In the spirit of [[Befunge Language]], SNUSP could be described as a cross between Brainfuck and Lemmings. My favorite thing about these Path-derived languages is that loops really look like </i>loops<i>. And the modular features make function calls look like boxed annotations. -- [[Ian Osgood]]</i>",
            "id": "b8bd9d16442daabf8659d26ef6a68e21"
          },
          {
            "type": "html",
            "text": "<i>There is a Perl interpreter and a Perl tracer (using curses) further down the page. For the full IDE experience, one could write an interpreter/tracer in one's favorite editor's macro language. This would be a snap in [[Emacs Lisp]], for instance. For maximum pain, one could develop an editor where SNUSP </i>was<i> the macro language!</i>",
            "id": "d54d065df21764a22d6499a41be459f6"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Here's an example of a Modular SNUSP program that multiplies two single-digit numbers. The pipes (|) and equality signs (=) are designated no-op instructions used to keep track of the flow of the program (such staked-out paths are termed <i>wires</i>). The asterisks are used here to separate the library functions from the main program. The at signs (@) are the starting points of subroutine calls (mnemonic: the at sign looks like a round-trip).",
            "id": "789f2e403682e327fb82f10f18649775"
          },
          {
            "type": "code",
            "text": "  read two characters    ,>,==\\  *    /=================== ATOI   ----------\\ \n  convert to integers /=/@</@=/  *   // /===== ITOA  ++++++++++\\ /----------/\n             multiply @ \\=!\\=========/ //           /++++++++++/ \\----------\\ \n         convert back !/@!\\============/            \\++++++++++\\ /----------/\n and print the result \\/  \\.#    *                  /++++++++++/ \\--------#\n /====================/          *                  \\++++++++#\n |\n |    /-<+>\\                    #/?=<<<<\\!>>>>\\                   />>+<+<-\\ \n |   #\\?===/! BMOV1 =====\\       \\->>>>+/    //  /======== BSPL2 !\\======?/#\n |    /->+<\\         /===|=========== FMOV4 =/  //                /<<+>+>-\\ \n |   #\\?===/! FMOV1 =|===|==============\\  /====/  /====== FSPL2 !\\======?/#\n |                /==|===|==============|==|=======/\n |           * * *|* | * | * * * * * * *|* | * * *                /+<-\\ \n |           * />@/<@/>>@/>>===\\ /====>>\\@<\\@<\\  *   /==== ADD2  !\\>=?/<#\n \\===== MUL2 =?/>@\\==<#<<<==\\  \\!\\<<<<@\\>>>>-?/\\ *  //            /-\\ \n             *    \\\\        \\/@========|======</ * //  /== ZERO  !\\?/#\n             * * * \\\\* * * * | * * * * | * * * * *//  //\n                    \\\\       |         \\==========/  //\n                     \\======!\\=======================/",
            "id": "8a43585f9bda20c1b2c22b40484e62fa"
          },
          {
            "type": "html",
            "text": "<i>I realized one thing while looking at this code. It's similar to a silicon chip's design. So how does Snusp/[[Be Funge]]/Path/Biota compare to Verilog and VHDL?</i>",
            "id": "6ef77f9db2b2a8ad3995e36568cbc251"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Implementations</b>",
            "id": "ff2f6ac08d8c297584086b3671875cca"
          },
          {
            "type": "html",
            "text": "\nCopy the following program into 'snusp.pl'. The SNUSP code is in STDIN, and the READ instruction takes data from the arguments.\nRun it like this:",
            "id": "9e0150e3b4666b53f0b18cd6bd64de2f"
          },
          {
            "type": "code",
            "text": " perl snusp.pl < multiply.snusp 2 3  # to multiply 2 by 3",
            "id": "5054952d18dce836afb567a6a305187d"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "code",
            "text": " #!/usr/bin/perl",
            "id": "1190310f76578ec534f21999b37376c5"
          },
          {
            "type": "code",
            "text": " # A Modular SNUSP Interpreter\n # Copyright (C) 2004  Rick Klement",
            "id": "93b17e4d33689c558c4c7a3699c4791b"
          },
          {
            "type": "code",
            "text": " use strict;",
            "id": "612af35d56864a867185bfb216467a7f"
          },
          {
            "type": "code",
            "text": " my ($dy, $p, $dir, $run, $code, @data, @stack, $op) = (1, 0, 1, 1, '', 0);\n $code .= $_, $dy < 2 + length and $dy = 2 + length while <STDIN>;\n $code =~ s/^.*/$& . ' ' x ($dy - 2 - length $&) . \"\\n\"/gem;\n my $ip = index $code, '$'; # find first $ or first char\n $ip = 0 if $ip < 0;\n my %instructions = (\n   '>'  => sub { ++$p },                                             # RIGHT\n   '<'  => sub { $run-- if --$p < 0 },                               # LEFT\n   '+'  => sub { ++$data[$p] },                                      # INCR\n   '-'  => sub { --$data[$p] },                                      # DECR\n   ','  => sub { $data[$p] = ord shift @ARGV },                      # READ\n   '.'  => sub { print chr $data[$p], \"\\n\" },                        # WRITE\n   '/'  => sub { $dir = abs $dir == 1 ? -$dy * $dir : $dir / -$dy},  # RULD\n   '\\\\' => sub { $dir = abs $dir == 1 ? $dy * $dir : $dir / $dy},    # LURD\n   '!'  => sub { $ip += $dir },                                      # SKIP\n   '?'  => sub { $ip += $dir unless $data[$p] },                     # SKIPZ\n   '@'  => sub { push @stack, [ $ip + $dir, $dir ] },                # ENTER\n   '#'  => sub { @stack ? ($ip, $dir) = @{pop @stack} : $run-- },    # LEAVE\n   \"\\n\" => sub { $run-- });                                          # STOP",
            "id": "dc1c3d62d1b1b73ef20616ae272db110"
          },
          {
            "type": "code",
            "text": " while($run and $ip >= 0 and $ip < length $code)\n   {\n   $op = $instructions{my $ch = substr $code, $ip, 1} and &$op;\n   #print \"op: $ch (@data)[$p]\\n\"; # uncomment for trace\n   $ip += $dir;\n   }\n exit $data[$p];",
            "id": "13ad2e35a5c7d8f6c5b1ee4d64f465e2"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<i>Simpler logic for '/' and '\\':</i>",
            "id": "b09730464684d2af1fa7cd1c66344ca4"
          },
          {
            "type": "code",
            "text": "   '/'  => sub { $dir = -$dy / $dir },                             # RULD\n   '\\\\' => sub { $dir =  $dy / $dir },                             # LURD",
            "id": "42ff6091da8691e3f2da7a9a8e682626"
          },
          {
            "type": "html",
            "text": "<i>-- [[Ian Osgood]]</i>",
            "id": "6fc87a960ba872cade780e2c4c4b88da"
          },
          {
            "type": "html",
            "text": "\nBMOV1, FMOV1, and FSPL2 have been corrected. These fixes were found using\nthe following interactive tracing program <i>(now new and improved (+ some fixes) :)</i>:",
            "id": "6d4342fd3c03a6967b01411b6de815c1"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "code",
            "text": " #!/usr/bin/perl",
            "id": "1190310f76578ec534f21999b37376c5"
          },
          {
            "type": "code",
            "text": " # A Modular SNUSP Debugger\n # Copyright (C) 2004  Rick Klement\n # Copyright (C) 2013  Rick Klement",
            "id": "5b2662819b060867f2d57a8bcffe8be2"
          },
          {
            "type": "code",
            "text": " use Curses;\n use Term::ReadKey;\n use strict; # animate.pl - show calculation using Curses\n # allow backing up out of STOP",
            "id": "fc6db21bc83a09802a294e3bb184a03a"
          },
          {
            "type": "code",
            "text": " my @restart = ( $^X, $0, @ARGV );\n my $filename = shift;\n open IN, $filename or die \"$! opening $filename\";\n my $input = do{ local $/; <IN> };\n close IN;",
            "id": "75e3fd9e8bf93e62a500b348cbfb5214"
          },
          {
            "type": "code",
            "text": " my ($dy, $dir, $p, @data, @stack, $op, $code, $ch) = (1, 1, 0, 0);\n $code .= $_, $dy < length and $dy = length for $input =~ /^.*\\n/gm;\n $code =~ s/^.*/$& . ' ' x ($dy - length $&) . \"\\n\"/gem;\n $dy += 2;\n my %lurd = (-1, -$dy, -$dy, -1, 1, $dy, $dy, 1);\n my $ip = $code =~ /\\$/ * $-[0]; # find first $ or first char\n my @out = ();\n my %instructions = (\n   '>'  => sub { $data[++$p] += 0 },                                  # RIGHT\n   '<'  => sub { --$p >= 0 or $dir = 0 },                             # LEFT\n   '+'  => sub { ++$data[$p] },                                       # INCR\n   '-'  => sub { --$data[$p] },                                       # DECR\n   ','  => sub { $data[$p] = ord shift @ARGV },                       # READ\n   '.'  => sub { push @out, chr $data[$p] },                          # WRITE\n   '/'  => sub { $dir = -$lurd{$dir} },                               # RULD\n   '\\\\' => sub { $dir =  $lurd{$dir} },                               # LURD\n   '!'  => sub { $ip += $dir },                                       # SKIP\n   '?'  => sub { $ip += $dir if $data[$p] == 0 },                     # SKIPZ\n   '@'  => sub { push @stack, [ $ip + $dir, $dir ] },                 # ENTER\n   '#'  => sub { @stack ? ($ip, $dir) = @{pop @stack} : ($dir = 0) }, # LEAVE\n   \"\\n\" => sub { $dir = 0 });                                         # STOP",
            "id": "b669eb13ee997605174b842c8eca0af3"
          },
          {
            "type": "code",
            "text": " initscr();\n ReadMode cbreak;",
            "id": "7ee8ef8a3fa553ed0348acf9c41dac27"
          },
          {
            "type": "code",
            "text": " my $count = 0;\n my @history;\n my $key;\n my $sleep = 0.1;\n my $pause = 0;\n my $number = 0;\n my $y = 0;",
            "id": "343e40156dbf936fefe5b86f350541c0"
          },
          {
            "type": "code",
            "text": " eval # here so crashes will still restore ReadMode and window\n   {\n   addstr($y++, 0, $&) while $code =~ /.+/g;\n   addstr(++$y, 0, \"(space)togglepause (g)oto n (CR)step (BS)backstep (ESC)clear n\");\n   addstr(++$y, 0, \"(r)estart (q)uit (+)faster (-)slower\");\n   $y += 2;",
            "id": "cc0651f40d2e7bf99328bd06f08a7245"
          },
          {
            "type": "code",
            "text": "   while(1)\n     {\n     if($ip < 0) {$ip = 0; $dir = 0}\n     if($ip >= length $code) {$ip = length($code) - 1; $dir = 0}\n     $pause = 1 if $dir == 0;\n     if($dir and (not $pause or $key eq \"\\n\"))\n       {\n       $pause = 1 if $number and $count == $number - 1 or $key eq \"\\n\";\n       $op = $instructions{$ch = substr $code, $ip, 1} and &$op;\n       $ip += $dir;\n       $history[$count++] ||= [$ip, $dir, $p, [@data], [@stack], [@ARGV], [@out] ];\n       }\n     my $n = 0;\n     $#data > $p and $data[-1] == 0 and pop @data;\n     my $brace = join '', map { $n++ == $p ? \"[$_]\" : \" $_ \" } @data;\n     my $s = \"out: @out  t: $count  n: $number  sleep: $sleep\\ndata: $brace   \";\n     addstr($y, 0, $s);\n     clrtoeol();\n     move( int($ip / $dy), $ip % $dy);\n     refresh;\n     $key = ReadKey($pause ? 0 : $sleep);\n     $key =~ tr/\\r/\\n/; # raw mode :)\n     if($key eq 'q' or $key eq 'r') {last}\n     elsif($key eq '+') {$sleep /= 2}\n     elsif($key eq '-'){$sleep *= 2}\n     elsif($key eq \"\\e\"){$number = 0}\n     elsif($key =~ /\\d/){$number = 10 * $number + $key}\n     elsif($key eq ' '){$pause = not $pause}\n     elsif($key eq 'g' || $key eq \"\\x08\" and $number < @history)\n       {\n       $count = $key eq 'g' ? $number : $count - 2;\n       $count < 0 and $count = 0;\n       ($ip, $dir, $p, my $data, my $stack, my $argv, my $out) =\n         @{$history[$count++]};\n       @data = @$data;\n       @stack = @$stack;\n       @ARGV = @$argv;\n       @out = @$out;\n       }\n     }\n   };",
            "id": "43b2a6125a74e584e449284292081ab8"
          },
          {
            "type": "code",
            "text": " ReadMode 0;\n endwin();\n exec @restart if $key eq 'r';",
            "id": "dbd01b7c08c206edf2581be6d450331e"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<i>How about a Bloated SNUSP interpreter and Modular SNUSP compiler at [http://www.baumanfamily.com/john/esoteric.html www.baumanfamily.com]. Too bad it only works in Windows. (update: a new version that compiles to C, might be faster, and should be portable is on the website)</i>",
            "id": "7056438257babee1ce4ecd398d6bd07d"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "\nAs a learning exercise, I've created a pure [[Java Script]] implementation for Modular SNUSP that lives entirely within a web page: [http://www.quirkster.com/snusp/snusp-js.html www.quirkster.com]. I'm also working on a similar interpreter for Ward's [[Biota Language]]. -- [[Ian Osgood]]",
            "id": "5fec9ff7593f90dac20266b239583274"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Multiplication</b>",
            "id": "1bb6982e133e40238e6c09de2835ee77"
          },
          {
            "type": "html",
            "text": "\nHere's another multiplier (SNUSP rules require starting at the $ if there):",
            "id": "3f5e195ec7c853707905d52f69d3305e"
          },
          {
            "type": "code",
            "text": "                                                        /-\\ wiki protection\n                    #==========================.======<=\\?/!=>===============\\ wiki protection\n                                                                             |\n start here -->$ ,@\\>,@\\< !/=========================?\\ >>> !/=======?\\ <<<@\\/\n                   |   |   \\<< /?===\\! > /?======\\! >-/      \\>>>+<<<-/     |\n                   |   |       \\-<+>/    \\->+>+<</                          |\n         /=========/!==/                                                    |\n         |/=================================================================/\n         ||\n         |\\= ItoA ++++++++++++++++++++++++++++++++++++++++++++++++#\n         \\== AtoI ------------------------------------------------#",
            "id": "c44e0f89b090dae5239038bb16ac9045"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "And another... This one has some more compact loops; it finishes in half the steps of the one above. (Great, I'm spending my time optimizing useless languages; I need a life...)",
            "id": "48cfe951ec5064beabe64343909d518d"
          },
          {
            "type": "html",
            "text": "\nNote: wiki doesn't like having <b>\\</b> on the end of a line. I've fixed some other examples above. -- [[Ian Osgood]]",
            "id": "b0b3d7d1ac7578a061d44564e6116900"
          },
          {
            "type": "code",
            "text": " \\    [a][b]  [c]      [a]  [b]  [c]     [a]  [_][b]\n |    [0][a+b][a+c]    [a+c][b+c][0]     [a+b][_][0]\n |   #/?<<+>+>-==\\     /==-<+<+>>?\\#    /==-<<+>>?\\#\n |    \\->+>+<<!/?/#   #\\?\\!>>+<+<-/    #\\?\\!>>+<<-/\n |          /==|=========|=====\\   /-\\    |\n \\,@\\>,@\\<?!/>@/<-?!\\>>>@/<<<-?\\=>!\\?/>!/@/<<=itoa=\\ wiki protect\n    |   |   \\=======|==========/   /-\\  |          |\n    |   |           \\done======>>>!\\?/<=/          |\n    \\==!\\atoi--------------------------------------|----------#\n #.++++++++++++++++++++++++++++++++++++++++++++++++/",
            "id": "00cba47d10d65589dac845b3c18c6e48"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Division</b>",
            "id": "b2da964214bfb658f8def7d5f1a8028b"
          },
          {
            "type": "html",
            "text": "\nI could barely understand the DIV routine below, so I designed my own. The stack effect is [a][b]->[a/b][a%b].",
            "id": "d5f2a292da6d6c0ac1a3f3e934cfd31c"
          },
          {
            "type": "code",
            "text": "    /==!/!#------------------------\\!\\ atoi\n    |   |   /==!/!#++++\\           \\=/\n $,@/>,@/@\\@/.<@/.#   /+\\ itoa\n          |       /=\\/+++\\ wiki\n /==div===/       \\!\\++++/\n |                   \\++/\n |    /-\\             \\/\n \\?\\<!\\?/#!===+<<<\\      /-\\ wiki\n   \\<==@\\>@\\>>!/?!/=<?\\>!\\?/<<#\n        |  |  #\\->->+</\n        \\=!\\=?!/->>+<<?\\#\n              #\\?<<+>>-/",
            "id": "5b3cea15d7a631ac3ad584ce1ed7404a"
          },
          {
            "type": "html",
            "text": "The algorithm is repeated decrement. In the following equivalent pseudo-code, cells 0-3 are represented by variables a-d respectively.",
            "id": "21757a285cf0b67ada7d51bd8d9cefc9"
          },
          {
            "type": "code",
            "text": " c=a (a=0)\n loop:\n   d=b (b=0)\n   while (d!=0):\n     if (c==0) d=0 return a,b\n     b++ c-- d--\n   a++",
            "id": "00dab1f077937e03466228aa27d1cdfc"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "\nReally, this language is <i>designed</i> to implement the [[Ackermann Function]], so here it is in all its glory. I tested that A(3,1) = 13 and A(3,2) = 29, but you'll have to be the one to try A(3,3). ;-) <i>I did, and it works just fine :-)</i>",
            "id": "c61511eee8b410b6771d4e123cdfc1d0"
          },
          {
            "type": "code",
            "text": " \\  /==!/atoi------------------------------------------------#\n |  |   |       /=========\\!==\\!====\\   (recursion)\n \\,@/>,@/=ACK==!\\?\\<+#    |   |     |   A(0,j) -> j+1\n  j   i           \\<?\\+>-@/#  |     |   A(i,0) -> A(i-1,1)\n                     \\@\\>@\\->@/@\\<-@/#  A(i,j) -> A(i-1, A(i, j-1))\n           [0]->[2]    |  |     |\n          #/?<<+>>-\\!==/  |     \\==!/-<<+>>?\\#  [2]->[0]\n           \\->>+<<?/#     |        #\\?>>+<<-/\n                          |\n                          \\@\\>>>@\\<<#    copy [1]->[3] and advance\n           [1]->[3][4]      |    |\n          #/?<<<+>+>>-\\!====/    \\==!/-<<<+>>>?\\#    [4]->[1]\n           \\->>+>+<<<?/#            #\\?>>>+<<<-/",
            "id": "6259566ee1fbd662d0c3398fd59375ec"
          },
          {
            "type": "html",
            "text": "<i>We could employ [[Tail Recursion Elimination]] by replacing <b>@/#</b> with <b>/</b>.</i>",
            "id": "5e4ce39eeb9d238055e61db4deab15d6"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Another interesting property of this language is bi-directional flow of control. It is like DNA transcription in this regard. For example, consider the loops which move a value up and down one cell:",
            "id": "5c1d6406aa7f44c046e469e9d06bb36e"
          },
          {
            "type": "code",
            "text": "       #                 #\n up1=?!/->+<?\\#  down1=?!/-<+>?\\#\n      #\\?<+>-/          #\\?>+<-/",
            "id": "aa24e438ea66ce9ea9d34409d12d2313"
          },
          {
            "type": "html",
            "text": "Note how similar they are. Wouldn't it be nice to eliminate the duplication? We can! We can make a single loop with multiple entry points, each one circulating in a different direction:",
            "id": "dab44be25f47381edb354b2cd5f170ff"
          },
          {
            "type": "code",
            "text": "         #    #\n up1===?!/->+<\\ wiki protection\n         ?    ?\n down1=?!\\<+>-/\n         #    #",
            "id": "806f7bb813d8cc653cd79abbd91cb2e4"
          },
          {
            "type": "code",
            "text": "    /==!/==atoi=@@@-@-----#                                        \n    |   |                                                          \n    |   | [j]{i} -> {A(i,j)}, where A is the Ackermann function    \n    |   |       /=========\\!==\\!====\\   ** recursion **\n $,@/>,@/==ack=!\\?\\<+#    |   |     |   A(0,j) -> j+1              \n  j   i           \\<?\\+>-@/#  |     |   A(i,0) -> A(i-1,1)         \n                     \\@\\>@\\->@/@\\<-@/#  A(i,j) -> A(i-1,A(i,j-1))  \n                       |  |     |                                  \n  {a}[ ][0]  #      #  |  |     |             /+<<<-\\              \n  {0}[ ][a]  /-<<+>>\\!=/  \\=====|==!/========?\\>>>=?/<<#  {a}[ ][0]\n   (a > 0)   ?      ?           |   \\<<<+>+>>-/           [a]{ }[a]\n  [0][ ]{a}  \\>>+<<-/!==========/                                  \n  [a][ ]{0}  #      #                                              ",
            "id": "87abca4070ae76115fc9712ebf6fb4c9"
          },
          {
            "type": "html",
            "text": "\nThis technique can also be used to optimize runs of + or -. For example here are some progressively optimized versions of the itoa and atoi routines frequently used for I/O.",
            "id": "e6abc9d7385aa1a1f9ad021b85d64906"
          },
          {
            "type": "code",
            "text": " itoa++++++++++++++++++++++++++++++++++++++++++++++++#  n+1 = 49",
            "id": "92198301dca01cd81af8bbcd8f15384c"
          },
          {
            "type": "html",
            "text": "We can halve the number of operations by adding a reflector at the end and a valve at the beginning:",
            "id": "fa88cf9b93c3efb0ad27fdaf6aa16dbd"
          },
          {
            "type": "code",
            "text": " atoi!/------------------------=!\\\\ n/2 + 9 = 33 (9 overhead)\n      #                          \\/",
            "id": "c2317923540b5e1c1628931070557afc"
          },
          {
            "type": "html",
            "text": "If we are space constrained, we can fold once.",
            "id": "b161052338b317044ccf97a731f70b7b"
          },
          {
            "type": "code",
            "text": " atoi!/------------\\ n/2 + 11 (12 overhead)\n   //!=------------/\n   \\/ #",
            "id": "c2eabdaf730a0041c7aa8135db067d4a"
          },
          {
            "type": "html",
            "text": "Still too constrained? Bi-directional doesn't just have to be back and forth, it could be horizontal vs. vertical:",
            "id": "639873d30465c5f225aab332337a9fec"
          },
          {
            "type": "code",
            "text": "     /\\/\\/\\ wiki\n itoa++++++\\ n/2 + 2a + 2b = 44 (2a+2b=20 overhead)\n    /++++++/\n    \\++++++\\ wiki protection\n    /++++++/\n    \\/\\/\\/#",
            "id": "0ea3a24539f6767bc7fc4e10e151d0c9"
          },
          {
            "type": "html",
            "text": "Even better, these two methods can be combined, so that each + does quadruple duty! Each + is executed once from each direction of the compass.",
            "id": "3817b7e184f98ab7faab6defed9c3778"
          },
          {
            "type": "code",
            "text": "      #/\\/\\ wiki\n itoa!\\++++\\ n/4 + 2a + 2b + 6 = 32 (4a+4b+8=36 overhead)\n      /++++/\n    /=\\++++\\ wiki protection\n    \\!\\/\\/\\/",
            "id": "55f2f421cac33da5d759571f104c7dd3"
          },
          {
            "type": "html",
            "text": "If you want four times a triangular number, you can eliminate some reflections with a diamond-shaped container:",
            "id": "e34c86534bc66cad246c5b5fea121fd8"
          },
          {
            "type": "code",
            "text": " itoa!#++\\   40/4 + 8/2 + 10 + 8 = 32 (26 overhead)\n        /+\\ wiki\n  /=\\  /+++\\ wiki\n  \\!\\++++++/\n       \\++/\n        \\/",
            "id": "e06fef4b86e40b6279ff30088620f83f"
          },
          {
            "type": "html",
            "text": "You can also play tricks with the call stack:",
            "id": "781ec3d3bc5a800f8c05f46c7fca4e89"
          },
          {
            "type": "code",
            "text": " itoa=@=@=@=++++++#\n atoi=@@@@=@@=--#\n itoa=@@@+@+++++#",
            "id": "11485769522bf0cee22dedd66c6442c9"
          },
          {
            "type": "html",
            "text": "Exercise: what sequence is this describing?",
            "id": "dbb9e28730eee26168e1b5c1731854af"
          },
          {
            "type": "code",
            "text": " =+#\n =++#\n =+++#\n =@+++#\n =@@+++#\n =@@@+++#\n =@@@@+++#\n =@@@@@+++#\n =@@@@@@+++#\n =@@@@@@@+++#\n =@@@@@@@@+++#\n =@@@@@@@@@+++#",
            "id": "7645ff10684c27b3968a428544d254ad"
          },
          {
            "type": "html",
            "text": "Truly, Snusp is a language for [[Real Programmer]]s! -- [[Ian Osgood]]",
            "id": "2dcb4041c67651d807a66ac877c4aa79"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Another canonical example: [[Ninety Nine Bottles Of Beer On The Wall]]!",
            "id": "f4696c8ac6594d9ee3d733ae304ed953"
          },
          {
            "type": "code",
            "text": "   /=!/===========!/+++++++++# +9\n   |  |  /=!/='9'=@/!/!/++++++++++++++++++++++++++++++++++++++++++++++++# +48 (itoa)\n   |  |  |  |  /+++++|+|++++++++++++++++++++++++++# space (32)\n   |  |  |  |  |     \\=\\@++\\!+++++++++++++\\!+++++\\ wiki\n   9  9 '9''9' space      'b'            'o'    't'\n $@/>@/>@/>@/>@/>=========@/>============@/>====@/>++++++++++\\n  setup\n   /====================================loop==>\\!>\\!=<<<<<<<</\n   \\@\\@\\>cr.@\\<?\\<->+++++++++>->+++++++++\\     |  |\n     ! |     |  \\===-========>=>-==BCD==!\\<@\\<?/<?/# no more beer!\n     /=|=====|==============================/\n     | |     \\<++t.<<----a.>----k.<++++e.<_.>>++++o.-n.<e.<_.>-d.>+o.>+++w.<-n.<<_.\\ wiki\n     | |     /                                                                     /\n     | |     \\>---a.>n.<+++d.<_.>>++p.<---a.>>----s.s.<<<_.>>-------i.>+t.<<<_.\\ wiki\n     | |     /                                                                 /\n     | |     \\>a.>>--r.<++++++o.>+++u.<-n.<+++d.>>>cr.<-T<+O<--B<<<#\n     | !\n     \\@\\<<<_.>>o.-n.<<_.>>>++t.<<+++h.---e.<_.>>>+++w.<<----a.>--l.l.>>CR.<---T<+++O<+B<<<#\n       |\n       \\9.>9.>_.>B.>O.>T.t.<---l.<+++e.>>-s.<<<_.>>+++O.<+f.<_.>----b.+++e.E.>>-R.#",
            "id": "2efca8d5daa07733f702189a1007153a"
          },
          {
            "type": "html",
            "text": "\nMuch shorter than the Brainf**k version. -- [[Ian Osgood]]",
            "id": "83c7019d2755b476f7ffbd8f76371095"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "They shouldn't have mentioned BrainF*** on the [[Odd Word Problem Solutions]] page, 'cause I had to do this:",
            "id": "a11f453bc6a32d1506194d349a49e255"
          },
          {
            "type": "code",
            "text": " ,@\\=\\   Odd word problem in SNUSP\n   | !\n   | /=====\\ loop\n   | @     |  /====,.<\\                 even words: verbatim\n   | \\=======!\\@\\@\\>?!/-<#\n   | |     |    | |\n   | | /=\\ |    | | /<.!/?\\>!/-<+>?\\<#  odd words: reversed\n   | | | @ |  /=!=!=\\!@,\\-/#<\\?>+<-/     (recursion)\n   | | | \\===!\\@\\@\\==>?!/-<#\n   | | | | |    | |\n   | @ | @ |    | |  /=,<-\\             eat spaces\n   \\!\\==!\\======|=|=!\\@\\>?/<#\n     | | | |    | |    |      /======@@@@=----# \n     | | | |    | \\===!\\=====@/?\\>+<\\   test for space (32)\n     | | | |    |               \\==!\\@@@@=++++#\n     | | | |    |\n     @ | @ |    |         /======@=@@@-----#\n     \\==!\\=====!\\========@/?\\>+<\\       test for a '.' (ASCII 46)\n     > | > |                \\==!\\@=@@@+++++#\n     ? | ? |\n     \\==!\\===-<.#    done? emit '.' and quit\n     @ | @ |     /-\\                    emit a space\n     \\==!\\===@\\.!\\?/<#\n     | | | |  \\@@@@=++++# (ASCII 32)\n     \\=/ \\=/ loop upwards",
            "id": "87c496d1995848c623a3daf9107fc9df"
          },
          {
            "type": "html",
            "text": "\nUsing the perl script, each letter is an argument, like this:",
            "id": "0ceb106b8c2df8d0e7bd58d7ea6a6d46"
          },
          {
            "type": "code",
            "text": " perl snusp.pl < oddword.snusp f i r s t ' ' s e c o n d ' ' t h i r d .",
            "id": "240c1dc8fcec3ccef0ca9fcc5933aae9"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Thanks, Daniel, for coming up with such a nice minimal 2D language!",
            "id": "3cb73afeee47dff4ca4cff8c1d5e4c84"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Is there a simple way to translate an arbitrary Brainfuck program into Core SNUSP?</b>",
            "id": "61c69b69e11945d4195390fb2a730e29"
          },
          {
            "type": "html",
            "text": "\nWell,",
            "id": "d6a7ec4447b20dde424035a28709845d"
          },
          {
            "type": "code",
            "text": " a[bc]d",
            "id": "82fe8dce2701bf8cd44eee41d645c604"
          },
          {
            "type": "html",
            "text": "translates to",
            "id": "ee64bc9bd30b5a7a9f8495189e2b894a"
          },
          {
            "type": "code",
            "text": " a!/=?\\d\n   \\cb/ ",
            "id": "8923a9dacb988bd08be804c9726f18e0"
          },
          {
            "type": "html",
            "text": "so since the rest of the Brainfuck instructions are equivalent in Core SNUSP, it appears all you have to do is start with the innermost bracket pair and add loops as you walk out.",
            "id": "45221292ef76420896ad7057eb7c96d7"
          },
          {
            "type": "html",
            "text": "\nAs a slightly more complex example,",
            "id": "2469584121470d1568f599929021a335"
          },
          {
            "type": "code",
            "text": " a[b[c]d]e",
            "id": "3af44c2b309a964ecf4a388fbb324fdc"
          },
          {
            "type": "html",
            "text": "would be",
            "id": "3e25805f83829807049f7cebec0fcc02"
          },
          {
            "type": "code",
            "text": " a!/=====?\\e\n   \\d/?\\!b/\n     \\c/",
            "id": "098eda2506934f8ae9c1e93a2d63eafb"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Does the second data memory dimension add enough convenience to motivate its existence?</b>",
            "id": "0a6ae1eeea6ad365a9fd55c2fd5a9852"
          },
          {
            "type": "html",
            "text": "\nThe second data memory dimension enables each thread to have its own infinitely growing stack -- something that would not be possible using only one dimension without fragmenting the stacks and severely complicating subroutine interfaces.",
            "id": "39a0a2f2b41d5ce53cf65afa31a93583"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Would it make sense to pull the second data memory dimension instructions up into Modular SNUSP?</b>",
            "id": "4d2aa3fc0984772f07616042d9fce973"
          },
          {
            "type": "html",
            "text": "\nWhen using just one thread, the other data memory dimension does not seem to add anything of value. Some have suggested that subroutines use lower memory strips for local data, but this is unnecessary since conventionally they can allocate as much memory as they want rightwards (this works just like the C stack).",
            "id": "b730b353be50e2174209895e61067041"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Subroutine wishlist</b>",
            "id": "8d34999cc3986316565ef010aebefe8d"
          },
          {
            "type": "html",
            "text": " Multi-digit PRINT; decimal would be cool, but hexadecimal might be easier and still almost as cool. <i>[Done, see below.]</i>",
            "id": "392b03addcb7a61f3d52b5b27bf06663"
          },
          {
            "type": "html",
            "text": " Square root",
            "id": "07a7113a81449a354a063dcc1e3fcf73"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>Multi-digit PRINT</b>",
            "id": "cca31fadd3c0d5b19c641d32b2c2d2b6"
          },
          {
            "type": "html",
            "text": "\nHere you go:",
            "id": "9c38a3e1931a848dc1df2444102ef945"
          },
          {
            "type": "code",
            "text": "        /======recurse======\\    #/?\\ zero\n print=!\\>++++++++++@\\@\\?!\\@/<@\\.!\\-/\n                     | |  \\=/  \\=itoa=@=@@@@=+++#\n                     | |\n        /===divmod===/ \\=swap=<@\\>@\\>@\\<#/?>+<-\\ down1\n        |           #           |  \\=!\\?!\\-<+>?/#\n        |    /=!/=?!/->>+<<?\\#  |        #\n        |    |  |  #\\?<<+>>-/!?=/ up2\n        |    |  |           #\n        |    |  |   /->->+<\\  /-\\ zero\n        \\==<@/>@/>>!\\?!\\=<?/>!\\?/<<#\n             \\=====+<<</",
            "id": "2995c45b96eb0092fb261e45c5fb80ff"
          },
          {
            "type": "html",
            "text": "For best results, edit the perl scripts above not to print a newline for '.'.",
            "id": "54a5d0951c7b9386132a1d02200b47da"
          },
          {
            "type": "html",
            "text": "\nThis one is more efficient, using a specialized routine for the mod and div by the base, i.e. 10:",
            "id": "9d5bc975e9dc4befbf15959cf9616c6e"
          },
          {
            "type": "code",
            "text": "        /recurse\\    #/?\\ zero\n print=!\\@\\>?!\\@/<@\\.!\\-/\n          |   \\=/  \\=itoa=@@@+@+++++#\n          !     /+ !/+ !/+ !/+   \\    mod10\n          /<+> -\\!?-\\!?-\\!?-\\!?-\\!\n          \\?!\\-?!\\-?!\\-?!\\-?!\\-?/\\    div10\n             #  +/! +/! +/! +/! +/",
            "id": "a756741b2fd78ea512f229ea46f0fc9a"
          },
          {
            "type": "html",
            "text": "-- [[Ian Osgood]]",
            "id": "78e07aff30e700e39ebb93e3f9533afb"
          },
          {
            "type": "html",
            "text": "<i>Awesome, Ian, thanks! I like how the former can easily be adapted to output in any base; at the same time, I'm amazed by the beauty of the latter. -- [[Daniel Brockman]]</i>",
            "id": "16668ccb3fb4abcf8e5e40e6bd140d09"
          },
          {
            "type": "html",
            "text": "\nI adapted it from the [[Path Language]] example.",
            "id": "fb1fb43cc086880ba827ab529588b5e0"
          },
          {
            "type": "html",
            "text": "<b>Square root</b>",
            "id": "0e27ed43d2b3bcd8e5f311f4d2056abc"
          },
          {
            "type": "code",
            "text": "              />!/?\\>=!/?\\>!/=======?\\<<<#\n              |  \\-/<-=\\-/  \\>>>+<<<-/\n sqrt=>+<=!/?!/->-?\\+>?/\\ wiki\n           \\\\!=<<+>/<<+>/\n            \\===<++/",
            "id": "3613a01a53e145d06847a1f9ea9c5b96"
          },
          {
            "type": "html",
            "text": "-- [[Ian Osgood]]",
            "id": "78e07aff30e700e39ebb93e3f9533afb"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "<b>[[Bubble Sort]]</b>",
            "id": "99c33a528c41c821e97d5c2c07dec339"
          },
          {
            "type": "html",
            "text": "\nFrom notzeb on the [[Xk Cd]] forums, I present this rectangle of awe:",
            "id": "425e5e3149230d0f4cc6ba1ac5f02407"
          },
          {
            "type": "code",
            "text": " /.\\/,\\/<=\\#>/?<<<+\\/\\   wiki\n !-</\\?</!\\@!\\->+>>/-|\n /\\\\?>\\//<\\/=!/<=?\\<//\n ?-?>||?<\\</<\\\\->-//!=\n \\/<\\/#|<|+?/-<+<<\\|/\\   wiki\n \\=/!/</|#\\-\\?>>>+/!/|\n $@!\\\\!?/!<\\>/>+<<\\\\/-\n /\\\\/\\+>,=?/#\\>-=?/<</",
            "id": "2e64a6d9b14423f10aa1e46fb645c3a0"
          },
          {
            "type": "html",
            "text": "It should sort the characters in the input stream and output them in ascending order. I've modified my interpreter to return zero on EOF to allow this program to run. -- [[Ian Osgood]]",
            "id": "5653711a3142c458fbcdbc391002bdc9"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "What would happen if we added the two remaining Brainfuck instructions (i.e., the looping brackets) to SNUSP? Granted, that still wouldn't make it copy-and-paste-compatible -- since the SNUSP interpretation of newline is quite different from that of Brainfuck -- but it might still be a useful addition to the language.",
            "id": "a76957126a3a78ae8492e483f99b77b5"
          },
          {
            "type": "html",
            "text": "\nWith Brainfuck brackets, the following very common and bulky SNUSP construct (the simple loop)",
            "id": "9651556c61ace03f7c21e96265d3e507"
          },
          {
            "type": "code",
            "text": " ==!/=======?\\#\n    \\hgfedcba/",
            "id": "6bd5b555b45c8734748ad33083dc9e27"
          },
          {
            "type": "html",
            "text": "could be reduced to the much simpler",
            "id": "b112d114f29f50309861b388700579d1"
          },
          {
            "type": "code",
            "text": " [abcdefgh]#",
            "id": "6b847521039f84abf83ad8fd1bb2f637"
          },
          {
            "type": "html",
            "text": "I haven't really thought about how it would interact with the subroutine mechanism, and I can't immediately see how it would affect SNUSP programming in general:",
            "id": "e04db4e19875986379157eb70273de12"
          },
          {
            "type": "html",
            "text": " Would it displace any of the current control flow instructions, or can they work together to make a more powerful and expressive language?",
            "id": "6e7f905435b389f576060a0a02708137"
          },
          {
            "type": "html",
            "text": " Would any new cool idioms emerge? (I'm still in complete awe at Ian's call-stack tricks.)",
            "id": "b19832dc9529a0b2068c7368270e7a11"
          },
          {
            "type": "html",
            "text": " Yeah, I've discovered a weird base 1.6 number system using @ and + for digits. I wrote a little Forth program to help me search for short and efficient representations for big constants.",
            "id": "857d1bec6fa2a57d6888cf78e57db5be"
          },
          {
            "type": "html",
            "text": " Other thoughts?",
            "id": "01fd19de3bc763d3ea5994d6670d1d91"
          },
          {
            "type": "html",
            "text": "\nOne thing adding the looping brackets clearly would do is render the two-dimensional control flow instructions essentially superfluous. However, that doesn't really bother me, since they no doubt still serve a very useful purpose. (Indeed, without them, subroutines are practically useless.)",
            "id": "d813b1e9635799d8a6eacc1324751d0b"
          },
          {
            "type": "html",
            "text": "\nIt would also introduce the first SNUSP run-time error: unmatched right square bracket.",
            "id": "bb1eebf107998d70a0b2b08b84a49705"
          },
          {
            "type": "html",
            "text": "<i>Are the semantics of '[' and ']' defined when executed from any direction? What happens if you come at one of the brackets in your example from the top, bottom, or right? Down with the oppression of directionality!!</i>",
            "id": "7516d4aef3ef7a179669d23fdd123077"
          },
          {
            "type": "html",
            "text": "\nThe simple way of implementing them would be to not have the approach direction matter.\nWhen right bracket is encountered, return to top left bracket on stack.\nThen it becomes like @ and # with the added power of conditionals.\nIndeed, you could replace @ and # with these, but it would make a lot of the above tricky programs much longer. -- [[David Rutter]]",
            "id": "60c09f804361a3046ed48f256c2696a5"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Have you considered adding a SNUSP variant which would utilize repeating instructions? It's not as beautiful as pure Brainfuck,\nbut it can greatly simplify some programs. I created a Brainfuck variant that followed these rules:\nAll 8 Brainfuck instructions are executed normally, however the instructions +,-,<, and > can be followed by a single hexadecimal.\nA short example CNBF (Constant Number Brainfuck program):",
            "id": "dc04943a65c2a0de77da393753b9db77"
          },
          {
            "type": "code",
            "text": " >+++++[<++++++>-]< Would calculate the value of 30.\n >+5[<+6>-]<        Also calculates the value of 30.",
            "id": "8d94c9837784f217c6f401ea8e98a8ae"
          },
          {
            "type": "html",
            "text": "\n[[Brian Thompson]]",
            "id": "d7308340c7fa5c2a4325bad9d292a5be"
          },
          {
            "type": "html",
            "text": "<i>I'm leary of adding meaning to characters that could otherwise be used as inline comments. 30 could be calculated by +@@@@++++# in Modular SNUSP.</i>",
            "id": "7d2565a31f7b4a2020fe405dfb50cd60"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Since the Bloated SNUSP concept doesn't scale very well, I'd like to scrap it and move to SRFI-style extensions. Under this scheme (no pun intended), SNUSP would be the minimal turing-complete language, while everything else would be defined as coherent extensions: SNURFIs. Every logical unit of functionality in Modular SNUSP and Bloated SNUSP would be isolated. Even the <b>skip</b> instruction could be pulled out of the basic language and into, say, SNURFI 1 -- though that would probably be overdoing it.",
            "id": "dd47ccd3c39b8d398903cf3a41e2da8f"
          },
          {
            "type": "html",
            "text": "\nPossible SNURFIs:",
            "id": "35af90a72d1afa5fcaf9a3e202da44c6"
          },
          {
            "type": "html",
            "text": " <b>modularity</b>:<br>Adds the same things as Modular SNUSP currently does.",
            "id": "0dd0d7a2538f100f290a9098791f2d7d"
          },
          {
            "type": "html",
            "text": " <b>concurrency</b>:<br>Adds the thread primitives currently residing in Bloated SNUSP.",
            "id": "001cdee6f248fc04d425cc7908d8ad2e"
          },
          {
            "type": "html",
            "text": " <b>non-determinism</b>:<br>Adds the <b>rand</b> (%) instruction currently residing in Bloated SNUSP.",
            "id": "b0b09272de817a676015ca433cd75b29"
          },
          {
            "type": "html",
            "text": " <b>brainfuck looping</b>:<br>Adds the Brainfuck looping instructions (i.e., [ and ]).",
            "id": "11f5056dfb3fd5a0fa917d18523a252b"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "Here's a proposed notation for stack effect:",
            "id": "29f7688dcb770f465a70c226f928e430"
          },
          {
            "type": "code",
            "text": "    /==!/==atoi=@@@@=@@=--#\n    |   |\n    |   | (Did I get this right?)\n    |   | [j]{i} -> {A(i,j)}, where A is Ackermann's function\n    |   |       /=========\\!==\\!====\\   ** recursion **\n $,@/>,@/==ack=!\\?\\<+#    |   |     |   A(0,j) -> j+1\n  j   i           \\<?\\+>-@/#  |     |   A(i,0) -> A(i-1,1)\n                     \\@\\>@\\->@/@\\<-@/#  A(i,j) -> A(i-1,A(i,j-1))\n  {a}[ ][0]  #      #  |  |     |\n  {0}[ ][a]  /-<<+>>\\!=/  \\=====|==@\\>>>@\\<<#  {a}[ ][0]\n   (a > 0)   ?      ?           |   |    |     [a]{ }[a]\n  [0][ ]{a}  \\>>+<<-/!==========/   |    |\n  [a][ ]{0}  #      #               |    |\n                      {a}[ ][0][0]  |    |  [0][ ][ ]{a}\n                      {0}[ ][a][a]  |    |  [a][ ][ ]{0}\n                     #/?========\\!==/    \\==!/=======?\\#\n                      \\->>+>+<<</            \\>>>+<<<-/",
            "id": "1da234d2c502dbf39fecbe7c3e72fc77"
          },
          {
            "type": "html",
            "text": "(Code stolen from above.)",
            "id": "8e7265631b9e295e9e4fcc4bb254a79c"
          },
          {
            "type": "html",
            "text": "\nEach bracketed expression represents a memory cell. Curly brackets are used around the current memory cell; square brackets are used elsewhere.",
            "id": "41bf5adab2eb1b192fd8e89ae63896ce"
          },
          {
            "type": "html",
            "text": "\nThe first array of cells represents the situation before the subroutine call; the second array the situation after the subroutine has returned. The two arrays are separated by an arrow which can be omitted when the arrays are written on separate lines.",
            "id": "cd78c17042ab23cc91f67c1714ec9714"
          },
          {
            "type": "html",
            "text": "\nEmpty cells (i.e., [ ] or, alternatively, [_]) can contain anything and will not be touched by the subroutine. (Thus, {a}[ ][b] -> {b}[ ][a] is sugar for {a}[x][b] -> {b}[x][a].) Trailing [0] cells are implied and can be omitted (see [[Snusp Calling Conventions]]).",
            "id": "385c248e97d40c6b4ed62e3c37e9d20b"
          },
          {
            "type": "html",
            "text": "<i>I prefer to use the long established stack effect notation from [[Forth Language]]: ( before -- after ) where the top of stack (higher address) is to the right. In this notation, my div routine has effect ( numerator denominator -- div mod ) or more tersely ( n d -- n/d n%d ). -- [[Ian Osgood]]</i>",
            "id": "1cc2d7773afb1a79ac1d3c17ceed4a16"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "See also: [[Path Language]], [[Brainfuck Language]], [[Befunge Language]], [[Esoteric Programming Language]]",
            "id": "5fe2edd871e9eb04688ed4e54a5a3c5c"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "1723b0f825c9a9bbd71b8597022c1ec8"
          },
          {
            "type": "html",
            "text": "[[Category Programming Language]]",
            "id": "138b3b4a7de51424104bf10d50ac9e94"
          },
          {
            "type": "html",
            "text": "See original on  [http://c2.com/cgi/wiki?SnuspLanguage c2.com]",
            "id": "e710bb196cb1f8de413b76e5994795bd"
          }
        ]
      }
    },
    {
      "type": "fork",
      "site": "language.sfw.c2.com",
      "date": 1708035497671
    }
  ]
}