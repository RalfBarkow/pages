{
  "title": "Save Your Wiki",
  "story": [
    {
      "type": "paragraph",
      "id": "b9177121f906dbe6",
      "text": "Your pages are yours and you should have them safely saved and backed up on your own computers. This is easy to do. Just grab the export and keep it safe."
    },
    {
      "type": "markdown",
      "id": "563c139b951da8de",
      "text": "# Save"
    },
    {
      "type": "paragraph",
      "id": "23ea3774ca8512f6",
      "text": "This file is an up to date copy of all pages on the origin server. Hover to be sure it is your server. Then click it to start the download. Save as when finished. [http:/system/export.json export.json]"
    },
    {
      "type": "paragraph",
      "id": "2e8c4e0f44c953ac",
      "text": "If you are more comfortable on the command line then you can use curl to do the same thing."
    },
    {
      "type": "code",
      "id": "7831804372b20897",
      "text": "curl http://site.org/system/export.json >export.json"
    },
    {
      "type": "paragraph",
      "id": "4da48224dd055c2b",
      "text": "I use a cron job to save my singapore hosted wiki on a daily bases. I run this script passing in the domain name for the wiki."
    },
    {
      "type": "code",
      "id": "1d17b7d95e0a16ee",
      "text": "# save a daily backup with a retention of one week\n# usage: sh mkbackup.sh forage.ward.fed.wiki.org\n\nsite=$1\nday=`date +%a`\ncurl -s http://$site/system/export.json \\\n  > backups/$site.$day.export.json\n"
    },
    {
      "type": "markdown",
      "id": "4154d17c5130187d",
      "text": "# Keep"
    },
    {
      "type": "paragraph",
      "id": "c8bf07350ae6b914",
      "text": "You will have a file containing every page from your site including all the story items and every journal entry. The file will be organized as an object where keys are page slugs and values are page objects."
    },
    {
      "type": "paragraph",
      "id": "d823fb34020d83e1",
      "text": "See [[JSON Schema]]"
    },
    {
      "type": "paragraph",
      "id": "7a8fe10fe56ec18e",
      "text": "This file can be large, ranging from dozens to hundreds of megabytes. A good strategy is to save periodically keeping the last few downloads."
    },
    {
      "type": "paragraph",
      "id": "b2ca7a91ab3ac062",
      "text": "You should have regular backups of your own computer. I use Apple's TimeMachine"
    },
    {
      "type": "paragraph",
      "id": "3e0136e2d55512e9",
      "text": " "
    },
    {
      "type": "markdown",
      "id": "2713023cead5720f",
      "text": "# Restore"
    },
    {
      "type": "paragraph",
      "id": "6e6280d0b8be31d1",
      "text": "If your wiki server has lost your pages then you will want it repaired even if it then appears empty. Restoring your saved files to this server should have every page ready to work as usual."
    },
    {
      "type": "paragraph",
      "id": "62b1c1b4bac55af8",
      "text": "You may need to claim your site again and accept (or modify) what ever flag is created for your new site."
    },
    {
      "type": "paragraph",
      "id": "bd108eaf1f808a58",
      "text": "If you are moving to a new host then you will want to redirect your domain name to that server. Since sites are always subdomains, this will always be possible but may not be the policy of the owner of the domain you were hosted within."
    },
    {
      "type": "paragraph",
      "id": "d86060ee8a260915",
      "text": "You will need to run a script that posts each page to the server. Even a modest size site is probably too large to post in a single operation. "
    },
    {
      "type": "paragraph",
      "id": "48e288955a513304",
      "text": "We intend to make restore drag and drop simple. We have yet to determine if browsers are capable of handing 200 Mb drops."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Save Your Wiki",
        "story": []
      },
      "date": 1420930328293
    },
    {
      "item": {
        "type": "factory",
        "id": "b9177121f906dbe6"
      },
      "id": "b9177121f906dbe6",
      "type": "add",
      "date": 1420930330293
    },
    {
      "type": "edit",
      "id": "b9177121f906dbe6",
      "item": {
        "type": "paragraph",
        "id": "b9177121f906dbe6",
        "text": "Your pages are yours and you should have them safely saved and backed up on your own computers. This is easy to do. Just grab the export and save it where you won't forget it."
      },
      "date": 1420930436609
    },
    {
      "type": "edit",
      "id": "b9177121f906dbe6",
      "item": {
        "type": "paragraph",
        "id": "b9177121f906dbe6",
        "text": "Your pages are yours and you should have them safely saved and backed up on your own computers. This is easy to do. Just grab the export and keep it safe."
      },
      "date": 1420930461326
    },
    {
      "item": {
        "type": "factory",
        "id": "eab25cc2e24f392c"
      },
      "id": "eab25cc2e24f392c",
      "type": "add",
      "after": "b9177121f906dbe6",
      "date": 1420930464316
    },
    {
      "type": "edit",
      "id": "eab25cc2e24f392c",
      "item": {
        "type": "paragraph",
        "id": "eab25cc2e24f392c",
        "text": "Export. [http:/system.export.json json]"
      },
      "date": 1420930508992
    },
    {
      "type": "edit",
      "id": "eab25cc2e24f392c",
      "item": {
        "type": "paragraph",
        "id": "eab25cc2e24f392c",
        "text": "Export. [http:/system/export.json json]"
      },
      "date": 1420930536156
    },
    {
      "type": "remove",
      "id": "eab25cc2e24f392c",
      "date": 1420930690405
    },
    {
      "type": "add",
      "id": "23ea3774ca8512f6",
      "item": {
        "type": "paragraph",
        "id": "23ea3774ca8512f6",
        "text": "This file is an up to date copy of all pages on the origin server. [http:/system/export.json json]"
      },
      "after": "b9177121f906dbe6",
      "date": 1420930726445
    },
    {
      "type": "edit",
      "id": "23ea3774ca8512f6",
      "item": {
        "type": "paragraph",
        "id": "23ea3774ca8512f6",
        "text": "This file is an up to date copy of all pages on the origin server. Hover to be sure it is your server. Then click it to start the download. Save as when finished.[http:/system/export.json json]"
      },
      "date": 1420930772542
    },
    {
      "type": "edit",
      "id": "23ea3774ca8512f6",
      "item": {
        "type": "paragraph",
        "id": "23ea3774ca8512f6",
        "text": "This file is an up to date copy of all pages on the origin server. Hover to be sure it is your server. Then click it to start the download. Save as when finished. [http:/system/export.json json]"
      },
      "date": 1420930786922
    },
    {
      "item": {
        "type": "factory",
        "id": "2e8c4e0f44c953ac"
      },
      "id": "2e8c4e0f44c953ac",
      "type": "add",
      "after": "23ea3774ca8512f6",
      "date": 1420930824357
    },
    {
      "type": "edit",
      "id": "2e8c4e0f44c953ac",
      "item": {
        "type": "paragraph",
        "id": "2e8c4e0f44c953ac",
        "text": "If you are more comfortable on the command line then you can use curl to do the same thing."
      },
      "date": 1420930853092
    },
    {
      "item": {
        "type": "factory",
        "id": "7831804372b20897"
      },
      "id": "7831804372b20897",
      "type": "add",
      "after": "2e8c4e0f44c953ac",
      "date": 1420930855408
    },
    {
      "type": "edit",
      "id": "7831804372b20897",
      "item": {
        "type": "code",
        "id": "7831804372b20897",
        "text": "curl http://forage.ward.fed.wiki.org/system/export.json \\ >export.json"
      },
      "date": 1420930885361
    },
    {
      "type": "edit",
      "id": "7831804372b20897",
      "item": {
        "type": "code",
        "id": "7831804372b20897",
        "text": "curl http://forage.ward.fed.wiki.org/system/export.json >export.json"
      },
      "date": 1420930894627
    },
    {
      "type": "edit",
      "id": "7831804372b20897",
      "item": {
        "type": "code",
        "id": "7831804372b20897",
        "text": "curl http://site.org/system/export.json >export.json"
      },
      "date": 1420930918578
    },
    {
      "item": {
        "type": "factory",
        "id": "563c139b951da8de"
      },
      "id": "563c139b951da8de",
      "type": "add",
      "after": "7831804372b20897",
      "date": 1420931570015
    },
    {
      "type": "edit",
      "id": "563c139b951da8de",
      "item": {
        "type": "markdown",
        "id": "563c139b951da8de",
        "text": "# Save"
      },
      "date": 1420931581024
    },
    {
      "type": "move",
      "order": [
        "b9177121f906dbe6",
        "563c139b951da8de",
        "23ea3774ca8512f6",
        "2e8c4e0f44c953ac",
        "7831804372b20897"
      ],
      "id": "563c139b951da8de",
      "date": 1420931584654
    },
    {
      "item": {
        "type": "factory",
        "id": "4154d17c5130187d"
      },
      "id": "4154d17c5130187d",
      "type": "add",
      "after": "7831804372b20897",
      "date": 1420931596462
    },
    {
      "type": "edit",
      "id": "4154d17c5130187d",
      "item": {
        "type": "markdown",
        "id": "4154d17c5130187d",
        "text": "# Keep"
      },
      "date": 1420931606658
    },
    {
      "item": {
        "type": "factory",
        "id": "c8bf07350ae6b914"
      },
      "id": "c8bf07350ae6b914",
      "type": "add",
      "after": "4154d17c5130187d",
      "date": 1420931683480
    },
    {
      "type": "edit",
      "id": "c8bf07350ae6b914",
      "item": {
        "type": "paragraph",
        "id": "c8bf07350ae6b914",
        "text": "You will have a file containing every page from your site including all the story items and every journal entry. The file will be organized as an object where keys are page slugs and values are page objects."
      },
      "date": 1420931842617
    },
    {
      "type": "add",
      "id": "d823fb34020d83e1",
      "item": {
        "type": "paragraph",
        "id": "d823fb34020d83e1",
        "text": "See [[Json Schema]]"
      },
      "after": "c8bf07350ae6b914",
      "date": 1420931852019
    },
    {
      "type": "edit",
      "id": "d823fb34020d83e1",
      "item": {
        "type": "paragraph",
        "id": "d823fb34020d83e1",
        "text": "See [[JSON Schema]]"
      },
      "date": 1420931901923
    },
    {
      "item": {
        "type": "factory",
        "id": "7a8fe10fe56ec18e"
      },
      "id": "7a8fe10fe56ec18e",
      "type": "add",
      "after": "d823fb34020d83e1",
      "date": 1420931925685
    },
    {
      "type": "edit",
      "id": "7a8fe10fe56ec18e",
      "item": {
        "type": "paragraph",
        "id": "7a8fe10fe56ec18e",
        "text": "This file can be large, ranging from dozens to hundreds of megabytes."
      },
      "date": 1420931977812
    },
    {
      "type": "edit",
      "id": "7a8fe10fe56ec18e",
      "item": {
        "type": "paragraph",
        "id": "7a8fe10fe56ec18e",
        "text": "This file can be large, ranging from dozens to hundreds of megabytes. A good strategy is to save periodically keeping the last few downloads."
      },
      "date": 1420932042564
    },
    {
      "type": "add",
      "id": "3e0136e2d55512e9",
      "item": {
        "type": "paragraph",
        "id": "3e0136e2d55512e9",
        "text": " "
      },
      "after": "7a8fe10fe56ec18e",
      "date": 1420932103861
    },
    {
      "item": {
        "type": "factory",
        "id": "2713023cead5720f"
      },
      "id": "2713023cead5720f",
      "type": "add",
      "after": "3e0136e2d55512e9",
      "date": 1420932105997
    },
    {
      "type": "edit",
      "id": "2713023cead5720f",
      "item": {
        "type": "markdown",
        "id": "2713023cead5720f",
        "text": "# Restore"
      },
      "date": 1420932125064
    },
    {
      "item": {
        "type": "factory",
        "id": "6e6280d0b8be31d1"
      },
      "id": "6e6280d0b8be31d1",
      "type": "add",
      "after": "2713023cead5720f",
      "date": 1420932128186
    },
    {
      "type": "edit",
      "id": "6e6280d0b8be31d1",
      "item": {
        "type": "paragraph",
        "id": "6e6280d0b8be31d1",
        "text": "If your wiki server has lost your pages then you will want it repaired even if empty. Restoring your saved files to this server should have every page ready to work as usual."
      },
      "date": 1420932339119
    },
    {
      "type": "add",
      "id": "62b1c1b4bac55af8",
      "item": {
        "type": "paragraph",
        "id": "62b1c1b4bac55af8",
        "text": "You may need to claim your site again and accept (or modify) what ever flag is created for your new site."
      },
      "after": "6e6280d0b8be31d1",
      "date": 1420932397172
    },
    {
      "type": "add",
      "id": "bd108eaf1f808a58",
      "item": {
        "type": "paragraph",
        "id": "bd108eaf1f808a58",
        "text": "If you are moving to a new host then you will want to redirect your domain name to that server. Since sites are always subdomains, this will always be possible but may not be the policy of the owner of the domain you were hosted within."
      },
      "after": "62b1c1b4bac55af8",
      "date": 1420932519086
    },
    {
      "type": "add",
      "id": "d86060ee8a260915",
      "item": {
        "type": "paragraph",
        "id": "d86060ee8a260915",
        "text": "You will need to run a script that posts each page to the server. Even a modest size site is probably too large to post in a single operation. "
      },
      "after": "bd108eaf1f808a58",
      "date": 1420932649458
    },
    {
      "type": "add",
      "id": "48e288955a513304",
      "item": {
        "type": "paragraph",
        "id": "48e288955a513304",
        "text": "We intend to make restore drag and drop simple. We have yet to determine if browsers are capable of handing 200 mb drops."
      },
      "after": "d86060ee8a260915",
      "date": 1420932720061
    },
    {
      "type": "edit",
      "id": "6e6280d0b8be31d1",
      "item": {
        "type": "paragraph",
        "id": "6e6280d0b8be31d1",
        "text": "If your wiki server has lost your pages then you will want it repaired even if it then appears empty. Restoring your saved files to this server should have every page ready to work as usual."
      },
      "date": 1420932765957
    },
    {
      "item": {
        "type": "factory",
        "id": "4da48224dd055c2b"
      },
      "id": "4da48224dd055c2b",
      "type": "add",
      "after": "48e288955a513304",
      "date": 1420934272335
    },
    {
      "type": "move",
      "order": [
        "b9177121f906dbe6",
        "563c139b951da8de",
        "23ea3774ca8512f6",
        "2e8c4e0f44c953ac",
        "7831804372b20897",
        "4da48224dd055c2b",
        "4154d17c5130187d",
        "c8bf07350ae6b914",
        "d823fb34020d83e1",
        "7a8fe10fe56ec18e",
        "3e0136e2d55512e9",
        "2713023cead5720f",
        "6e6280d0b8be31d1",
        "62b1c1b4bac55af8",
        "bd108eaf1f808a58",
        "d86060ee8a260915",
        "48e288955a513304"
      ],
      "id": "4da48224dd055c2b",
      "date": 1420934276231
    },
    {
      "item": {
        "type": "factory",
        "id": "1d17b7d95e0a16ee"
      },
      "id": "1d17b7d95e0a16ee",
      "type": "add",
      "after": "48e288955a513304",
      "date": 1420934279759
    },
    {
      "type": "move",
      "order": [
        "b9177121f906dbe6",
        "563c139b951da8de",
        "23ea3774ca8512f6",
        "2e8c4e0f44c953ac",
        "7831804372b20897",
        "4da48224dd055c2b",
        "1d17b7d95e0a16ee",
        "4154d17c5130187d",
        "c8bf07350ae6b914",
        "d823fb34020d83e1",
        "7a8fe10fe56ec18e",
        "3e0136e2d55512e9",
        "2713023cead5720f",
        "6e6280d0b8be31d1",
        "62b1c1b4bac55af8",
        "bd108eaf1f808a58",
        "d86060ee8a260915",
        "48e288955a513304"
      ],
      "id": "1d17b7d95e0a16ee",
      "date": 1420934283885
    },
    {
      "type": "edit",
      "id": "1d17b7d95e0a16ee",
      "item": {
        "type": "code",
        "id": "1d17b7d95e0a16ee",
        "text": "# save a daily backup with a retention of one week\n# usage: sh mkbackup.sh forage.ward.fed.wiki.org\n\nsite=$1\nday=`date +%a`\ncurl -s http://$site/system/export.json \\\n  > backups/$site.$day.export.json\n"
      },
      "date": 1420934288752
    },
    {
      "type": "edit",
      "id": "4da48224dd055c2b",
      "item": {
        "type": "paragraph",
        "id": "4da48224dd055c2b",
        "text": "I use a crontab command to save my singapore hosted wiki on a daily bases. I run this script passing in the domain name for the wiki."
      },
      "date": 1420934407866
    },
    {
      "type": "edit",
      "id": "23ea3774ca8512f6",
      "item": {
        "type": "paragraph",
        "id": "23ea3774ca8512f6",
        "text": "This file is an up to date copy of all pages on the origin server. Hover to be sure it is your server. Then click it to start the download. Save as when finished. [http:/system/export.json export.json]"
      },
      "date": 1420934492965
    },
    {
      "type": "edit",
      "id": "4da48224dd055c2b",
      "item": {
        "type": "paragraph",
        "id": "4da48224dd055c2b",
        "text": "I use a cron job to save my singapore hosted wiki on a daily bases. I run this script passing in the domain name for the wiki."
      },
      "date": 1420934601103
    },
    {
      "type": "edit",
      "id": "48e288955a513304",
      "item": {
        "type": "paragraph",
        "id": "48e288955a513304",
        "text": "We intend to make restore drag and drop simple. We have yet to determine if browsers are capable of handing 200 Mb drops."
      },
      "date": 1420934778314
    },
    {
      "type": "add",
      "id": "b2ca7a91ab3ac062",
      "item": {
        "type": "paragraph",
        "id": "b2ca7a91ab3ac062",
        "text": "You should have regular backups of your own computer. I use Apple's TimeMachine."
      },
      "after": "7a8fe10fe56ec18e",
      "date": 1420934835726
    },
    {
      "type": "edit",
      "id": "b2ca7a91ab3ac062",
      "item": {
        "type": "paragraph",
        "id": "b2ca7a91ab3ac062",
        "text": "You should have regular backups of your own computer. I use Apple's TimeMachine"
      },
      "date": 1420934852547
    },
    {
      "type": "fork",
      "site": "forage.ward.fed.wiki.org",
      "date": 1609880546125
    },
    {
      "type": "fork",
      "site": "mhresources.federated.wiki",
      "date": 1626388605735
    }
  ]
}