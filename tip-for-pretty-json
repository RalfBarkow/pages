{
  "title": "Tip for Pretty JSON",
  "story": [
    {
      "type": "paragraph",
      "id": "10131fc2526bb848",
      "text": "We initialize the simulator with small vectors of integers that look better in formatted JSON if they appear all on the same line. We achieve this by post-processing the stringify results."
    },
    {
      "type": "paragraph",
      "id": "ade62a65c25a0931",
      "text": "We desire this."
    },
    {
      "type": "code",
      "id": "e67a645108b1a058",
      "text": "{\n  \"city\": \"Fort Wayne\",\n  \"zip\": 323,\n  \"pop\": 373000,\n  \"lat\": 41,\n  \"lon\": -85.16,\n  \"path\": [341,322,324,316,321,314,317,333],\n  \"route\": [\n    [321,322,323,341,324,324,324,324,324],\n    [316,323,333,341,0,0,0,0,0],\n    [321,322,323,324,0,0,0,0,0]\n  ]\n}\n"
    },
    {
      "type": "paragraph",
      "id": "0e4140fcb4fc0fda",
      "text": "But get this."
    },
    {
      "type": "code",
      "id": "b640c2f2a0f5f98e",
      "text": "{\n  \"city\": \"Fort Wayne\",\n  \"zip\": 323,\n  \"pop\": 373000,\n  \"lat\": 41,\n  \"lon\": -85.16,\n  \"path\": [\n    341,\n    322,\n    324,\n    316,\n    321,\n    314,\n    317,\n    333\n  ],\n  \"route\": [\n    [\n      321,\n      322,\n      323,\n      341,\n      324,\n      324,\n      324,\n      324,\n      324\n    ],\n    [\n      316,\n      323,\n      333,\n      341,\n  ...\n    ]\n  ]"
    },
    {
      "type": "paragraph",
      "id": "7bf73e6f0537a7f5",
      "text": "So we apply these post processing replacements."
    },
    {
      "type": "code",
      "id": "0a5bd0d76aefa268",
      "text": "  console.log(JSON.stringify(p,null,2)\n    .replace(/(,|\\[)[\\r\\n\\s]*(\\d)/g,\"$1$2\")\n    .replace(/(\\d)[\\r\\n\\s]*\\]/g,\"$1]\"))\n"
    },
    {
      "type": "paragraph",
      "id": "799181c49752ad88",
      "text": "This removes newlines and white space from before and then after the list of numbers."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Tip for Pretty JSON",
        "story": []
      },
      "date": 1594346227797
    },
    {
      "item": {
        "type": "factory",
        "id": "10131fc2526bb848"
      },
      "id": "10131fc2526bb848",
      "type": "add",
      "date": 1594346229680
    },
    {
      "type": "edit",
      "id": "10131fc2526bb848",
      "item": {
        "type": "paragraph",
        "id": "10131fc2526bb848",
        "text": "We initialize the simulator with small vectors of integers that look better in formatted JSON if they appear all on the same line. We achieve this by post-processing the stringify results."
      },
      "date": 1594346322766
    },
    {
      "type": "add",
      "id": "ade62a65c25a0931",
      "item": {
        "type": "paragraph",
        "id": "ade62a65c25a0931",
        "text": "We desire this."
      },
      "after": "10131fc2526bb848",
      "date": 1594346339031
    },
    {
      "id": "e67a645108b1a058",
      "type": "add",
      "item": {
        "type": "code",
        "id": "e67a645108b1a058",
        "text": "{\n  \"city\": \"Fort Wayne\",\n  \"zip\": 323,\n  \"pop\": 373000,\n  \"lat\": 41,\n  \"lon\": -85.16,\n  \"path\": [341,322,324,316,321,314,317,333],\n  \"route\": [\n    [321,322,323,341,324,324,324,324,324],\n    [316,323,333,341,0,0,0,0,0],\n    [321,322,323,324,0,0,0,0,0]\n  ]\n}\n"
      },
      "after": "ade62a65c25a0931",
      "date": 1594346356780
    },
    {
      "item": {
        "type": "factory",
        "id": "0e4140fcb4fc0fda"
      },
      "id": "0e4140fcb4fc0fda",
      "type": "add",
      "after": "e67a645108b1a058",
      "date": 1594346368222
    },
    {
      "type": "edit",
      "id": "0e4140fcb4fc0fda",
      "item": {
        "type": "paragraph",
        "id": "0e4140fcb4fc0fda",
        "text": "But get this."
      },
      "date": 1594346375996
    },
    {
      "item": {
        "type": "factory",
        "id": "b640c2f2a0f5f98e"
      },
      "id": "b640c2f2a0f5f98e",
      "type": "add",
      "after": "0e4140fcb4fc0fda",
      "date": 1594346378129
    },
    {
      "type": "edit",
      "id": "b640c2f2a0f5f98e",
      "item": {
        "type": "code",
        "id": "b640c2f2a0f5f98e",
        "text": "{\n  \"city\": \"Fort Wayne\",\n  \"zip\": 323,\n  \"pop\": 373000,\n  \"lat\": 41,\n  \"lon\": -85.16,\n  \"path\": [\n    341,\n    322,\n    324,\n    316,\n    321,\n    314,\n    317,\n    333\n  ],\n  \"route\": [\n    [\n      321,\n      322,\n      323,\n      341,\n      324,\n      324,\n      324,\n      324,\n      324\n    ],\n    [\n      316,\n      323,\n      333,\n      341,\n  ...\n    ]\n  ]"
      },
      "date": 1594346556215
    },
    {
      "item": {
        "type": "factory",
        "id": "7bf73e6f0537a7f5"
      },
      "id": "7bf73e6f0537a7f5",
      "type": "add",
      "after": "b640c2f2a0f5f98e",
      "date": 1594346562566
    },
    {
      "type": "edit",
      "id": "7bf73e6f0537a7f5",
      "item": {
        "type": "paragraph",
        "id": "7bf73e6f0537a7f5",
        "text": "So we apply these post processing replacements."
      },
      "date": 1594346583145
    },
    {
      "item": {
        "type": "factory",
        "id": "0a5bd0d76aefa268"
      },
      "id": "0a5bd0d76aefa268",
      "type": "add",
      "after": "7bf73e6f0537a7f5",
      "date": 1594346602381
    },
    {
      "type": "edit",
      "id": "0a5bd0d76aefa268",
      "item": {
        "type": "code",
        "id": "0a5bd0d76aefa268",
        "text": "  console.log(JSON.stringify(p,null,2)\n    .replace(/(,|\\[)[\\r\\n\\s]*(\\d)/g,\"$1$2\")\n    .replace(/(\\d)[\\r\\n\\s]*\\]/g,\"$1]\"))\n"
      },
      "date": 1594346606989
    },
    {
      "item": {
        "type": "factory",
        "id": "799181c49752ad88"
      },
      "id": "799181c49752ad88",
      "type": "add",
      "after": "0a5bd0d76aefa268",
      "date": 1594346628217
    },
    {
      "type": "edit",
      "id": "799181c49752ad88",
      "item": {
        "type": "paragraph",
        "id": "799181c49752ad88",
        "text": "This removes newlines and white space from before and then after the list of numbers."
      },
      "date": 1594346659033
    },
    {
      "type": "fork",
      "site": "simnet.ward.asia.wiki.org",
      "date": 1674206500565
    }
  ]
}