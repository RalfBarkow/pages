{
  "title": "GT v1.0.169",
  "story": [
    {
      "type": "paragraph",
      "id": "9e0cf8437cf1def8",
      "text": "I just installed [[Glamorous Toolkit]] v1.0.169 released on Oct 11 10:56 and the [[Dynabook]] with "
    },
    {
      "type": "code",
      "id": "a70622de18ecf3a7",
      "text": "[\nEpMonitor current disable.\n[ Metacello new\n    baseline: 'Dynabook';\n    repository: 'github://seandenigris/Dynabook';\n    \"onConflict: [ :ex | ex allow ];\"\n    load ] ensure: [ EpMonitor current enable ].\n\n] fork."
    },
    {
      "type": "paragraph",
      "id": "21c50f106773851c",
      "text": "Note: I have not run fuelPreLoad etc."
    },
    {
      "type": "paragraph",
      "id": "ef5968d245a4fefe",
      "text": "The version whose data I want to migrate now is gt v0.8.2436 with user data from 2023-05-03 23:09 (DynabookDB.611)."
    },
    {
      "type": "paragraph",
      "id": "29875a76b28091c2",
      "text": "What would I have to do next? "
    },
    {
      "type": "paragraph",
      "id": "b57e246b5521c4b6",
      "text": "Restore Last Backup gives me FLBadVersion: Materialization error. Unexpected stream version 1281 where it should be 303."
    },
    {
      "type": "paragraph",
      "id": "f64e39af9ba7b349",
      "text": "Sean DeNigris via [https://discord.com/channels/@me/869566842807652453/1161650695179620352 discord]\nRun the fuel preload and try to restore again. We may need a custom script this one time depending on how old your previous version was and then hopefully the auto migrate will handle future upgrades."
    },
    {
      "type": "paragraph",
      "id": "50c0752928e3c5be",
      "text": "This was the script: [https://discord.com/channels/@me/869566842807652453/1161669989317742672 discord]"
    },
    {
      "type": "code",
      "id": "30d444f652444c37",
      "text": "SpFuel4Strategy>>#materialize: anSpBackup from: aFileReference\n\n    | materialization |\n    materialization := (self new: FLMaterializer withFile: aFileReference)\n        migrateClassNamed: #MpAddressBook\n                variables: {'contacts' -> 'privateContacts'} asDictionary;\n            migrateClassNamed: #MpEntityCollection\n                variables: {'contacts' -> 'privateContacts'} asDictionary;\n            migrateClassNamed: #LlAuthoredWork\n                variables: {'children' -> 'privateChildren'} asDictionary;\n        materialize.\n        \n    anSpBackup\n        header: materialization header additionalObjects;\n        spData: materialization root;\n        file: aFileReference"
    },
    {
      "type": "paragraph",
      "id": "e3dba5d1985da5a3",
      "text": "Actually I can already see it needs to be modified. \nWhen I get to a computer I’ll send you a new version."
    },
    {
      "type": "pagefold",
      "id": "798870eb4c7adbad",
      "text": "~"
    },
    {
      "type": "markdown",
      "id": "64cf782dda08ccd6",
      "text": "# How to programatically register a new database to a logical database"
    },
    {
      "type": "paragraph",
      "id": "b6fda0c995638e87",
      "text": "This registers a new global database to the default logical database."
    },
    {
      "type": "code",
      "id": "7aae23596369a5db",
      "text": "databaseLocation := FileLocator documents / 'lepiter' / 'my-new-database'."
    },
    {
      "type": "pagefold",
      "id": "2a71902bac5c7610",
      "text": "~"
    },
    {
      "type": "paragraph",
      "id": "fd65eaf268c41063",
      "text": "[[GT v1.0.171]] released on October 11 17:15"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "GT v1.0.169",
        "story": []
      },
      "date": 1697036169826
    },
    {
      "id": "9e0cf8437cf1def8",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "9e0cf8437cf1def8",
        "text": "I just installed [[GT v1.0.169]] released on Oct 11 10:56 and the Dynabook with "
      },
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036173544
    },
    {
      "type": "edit",
      "id": "9e0cf8437cf1def8",
      "item": {
        "type": "paragraph",
        "id": "9e0cf8437cf1def8",
        "text": "I just installed [[Glamorous Toolkit]] v1.0.169 released on Oct 11 10:56 and the Dynabook with "
      },
      "date": 1697036188484
    },
    {
      "id": "a70622de18ecf3a7",
      "type": "add",
      "item": {
        "type": "code",
        "id": "a70622de18ecf3a7",
        "text": "[\nEpMonitor current disable.\n[ Metacello new\n    baseline: 'Dynabook';\n    repository: 'github://seandenigris/Dynabook';\n    \"onConflict: [ :ex | ex allow ];\"\n    load ] ensure: [ EpMonitor current enable ].\n\n] fork."
      },
      "after": "9e0cf8437cf1def8",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036204969
    },
    {
      "id": "21c50f106773851c",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "21c50f106773851c",
        "text": "Note: I have not run fuelPreLoad etc."
      },
      "after": "a70622de18ecf3a7",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036207897
    },
    {
      "id": "ef5968d245a4fefe",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "ef5968d245a4fefe",
        "text": "The version whose data I want to migrate now is gt v0.8.2436 with user data from 2023-05-03 23:09 (DynabookDB.611)."
      },
      "after": "21c50f106773851c",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036211597
    },
    {
      "id": "29875a76b28091c2",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "29875a76b28091c2",
        "text": "What would I have to do next? "
      },
      "after": "ef5968d245a4fefe",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036214567
    },
    {
      "id": "b57e246b5521c4b6",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "b57e246b5521c4b6",
        "text": "Restore Last Backup gives me FLBadVersion: Materialization error. Unexpected stream version 1281 where it should be 303."
      },
      "after": "29875a76b28091c2",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036217895
    },
    {
      "id": "f64e39af9ba7b349",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "f64e39af9ba7b349",
        "text": "Sean DeNigris via [https://discord.com/channels/@me/869566842807652453/1161650695179620352 discord]\nRun the fuel preload and try to restore again. We may need a custom script this one time depending on how old your previous version was and then hopefully the auto migrate will handle future upgrades"
      },
      "after": "b57e246b5521c4b6",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036223088
    },
    {
      "id": "30d444f652444c37",
      "type": "add",
      "item": {
        "type": "code",
        "id": "30d444f652444c37",
        "text": "SpFuel4Strategy>>#materialize: anSpBackup from: aFileReference\n\n    | materialization |\n    materialization := (self new: FLMaterializer withFile: aFileReference)\n        migrateClassNamed: #MpAddressBook\n                variables: {'contacts' -> 'privateContacts'} asDictionary;\n            migrateClassNamed: #MpEntityCollection\n                variables: {'contacts' -> 'privateContacts'} asDictionary;\n            migrateClassNamed: #LlAuthoredWork\n                variables: {'children' -> 'privateChildren'} asDictionary;\n        materialize.\n        \n    anSpBackup\n        header: materialization header additionalObjects;\n        spData: materialization root;\n        file: aFileReference"
      },
      "after": "f64e39af9ba7b349",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036229734
    },
    {
      "item": {
        "type": "factory",
        "id": "e3dba5d1985da5a3"
      },
      "id": "e3dba5d1985da5a3",
      "type": "add",
      "after": "30d444f652444c37",
      "date": 1697036255602
    },
    {
      "type": "edit",
      "id": "e3dba5d1985da5a3",
      "item": {
        "type": "paragraph",
        "id": "e3dba5d1985da5a3",
        "text": "Actually I can already see it needs to be modified\nWhen I get to a computer I’ll send you a new version"
      },
      "date": 1697036257258
    },
    {
      "type": "edit",
      "id": "e3dba5d1985da5a3",
      "item": {
        "type": "paragraph",
        "id": "e3dba5d1985da5a3",
        "text": "Actually I can already see it needs to be modified\nWhen I get to a computer I’ll send you a new version."
      },
      "date": 1697036271232
    },
    {
      "item": {
        "type": "factory",
        "id": "798870eb4c7adbad"
      },
      "id": "798870eb4c7adbad",
      "type": "add",
      "after": "e3dba5d1985da5a3",
      "date": 1697036275130
    },
    {
      "type": "edit",
      "id": "798870eb4c7adbad",
      "item": {
        "type": "pagefold",
        "id": "798870eb4c7adbad",
        "text": "~"
      },
      "date": 1697036277815
    },
    {
      "id": "b6fda0c995638e87",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "b6fda0c995638e87",
        "text": "This registers a new global database to the default logical database."
      },
      "after": "798870eb4c7adbad",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036281319
    },
    {
      "id": "64cf782dda08ccd6",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "64cf782dda08ccd6",
        "text": "How to programatically register a new database to a logical database"
      },
      "after": "798870eb4c7adbad",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036287506
    },
    {
      "type": "edit",
      "id": "64cf782dda08ccd6",
      "item": {
        "type": "paragraph",
        "id": "64cf782dda08ccd6",
        "text": "# How to programatically register a new database to a logical database"
      },
      "date": 1697036294579
    },
    {
      "type": "edit",
      "id": "64cf782dda08ccd6",
      "item": {
        "type": "markdown",
        "id": "64cf782dda08ccd6",
        "text": "# How to programatically register a new database to a logical database"
      },
      "date": 1697036295945
    },
    {
      "id": "7aae23596369a5db",
      "type": "add",
      "item": {
        "type": "code",
        "id": "7aae23596369a5db",
        "text": "databaseLocation := FileLocator documents / 'lepiter' / 'my-new-database'."
      },
      "after": "b6fda0c995638e87",
      "attribution": {
        "page": "2023-10-11"
      },
      "date": 1697036306535
    },
    {
      "type": "edit",
      "id": "e3dba5d1985da5a3",
      "item": {
        "type": "paragraph",
        "id": "e3dba5d1985da5a3",
        "text": "Actually I can already see it needs to be modified. \nWhen I get to a computer I’ll send you a new version."
      },
      "date": 1697041361549
    },
    {
      "type": "edit",
      "id": "9e0cf8437cf1def8",
      "item": {
        "type": "paragraph",
        "id": "9e0cf8437cf1def8",
        "text": "I just installed [[Glamorous Toolkit]] v1.0.169 released on Oct 11 10:56 and the [[Dynabook]] with "
      },
      "date": 1697041482794
    },
    {
      "type": "edit",
      "id": "f64e39af9ba7b349",
      "item": {
        "type": "paragraph",
        "id": "f64e39af9ba7b349",
        "text": "Sean DeNigris via [https://discord.com/channels/@me/869566842807652453/1161650695179620352 discord]\nRun the fuel preload and try to restore again. We may need a custom script this one time depending on how old your previous version was and then hopefully the auto migrate will handle future upgrades."
      },
      "date": 1697041559868
    },
    {
      "type": "add",
      "id": "50c0752928e3c5be",
      "item": {
        "type": "paragraph",
        "id": "50c0752928e3c5be",
        "text": "This was the script:"
      },
      "after": "f64e39af9ba7b349",
      "date": 1697041560993
    },
    {
      "type": "edit",
      "id": "50c0752928e3c5be",
      "item": {
        "type": "paragraph",
        "id": "50c0752928e3c5be",
        "text": "This was the script: [https://discord.com/channels/@me/869566842807652453/1161669989317742672 discord]"
      },
      "date": 1697041603600
    },
    {
      "item": {
        "type": "factory",
        "id": "2a71902bac5c7610"
      },
      "id": "2a71902bac5c7610",
      "type": "add",
      "after": "7aae23596369a5db",
      "date": 1697041696984
    },
    {
      "type": "edit",
      "id": "2a71902bac5c7610",
      "item": {
        "type": "pagefold",
        "id": "2a71902bac5c7610",
        "text": "~"
      },
      "date": 1697041699947
    },
    {
      "item": {
        "type": "factory",
        "id": "fd65eaf268c41063"
      },
      "id": "fd65eaf268c41063",
      "type": "add",
      "after": "2a71902bac5c7610",
      "date": 1697041701330
    },
    {
      "type": "edit",
      "id": "fd65eaf268c41063",
      "item": {
        "type": "paragraph",
        "id": "fd65eaf268c41063",
        "text": "GT v1.0.171 released on October 11 17:15"
      },
      "date": 1697041706289
    },
    {
      "type": "edit",
      "id": "fd65eaf268c41063",
      "item": {
        "type": "paragraph",
        "id": "fd65eaf268c41063",
        "text": "[[GT v1.0.171]] released on October 11 17:15"
      },
      "date": 1697041735799
    }
  ]
}