{
  "title": "Immutable Object",
  "story": [
    {
      "type": "html",
      "text": "I think there is another way to make an immutable object without creating lots of copies of interfaces and things. If I don't want people to change my Transaction objects once  they have been created, I have only one method that sets any of the instance variables, e.g., initializeName:date:amount:etc. It uses lazy initialization to ensure it gets set only once.",
      "id": "c10c945cf7368b1d6031ad18fd3f62cd"
    },
    {
      "type": "html",
      "text": "If the [[object]] is not truly immutable, then there are legal occasions on which it may be updated. The big question is, who controls who may update it and when they may do that?  ",
      "id": "bd4d53767fcfd39541bbb25e1009f658"
    },
    {
      "type": "html",
      "text": "-- [[Alistair Cockburn]]",
      "id": "1f4dfd42e5fe8f978a5c7b973a4aaf01"
    },
    {
      "type": "html",
      "text": "\nAgreed - most truly Immutable objects have their attributes set only in a constructor, and rely on language rules to prevent the constructor from being invoked more than once. That makes this whole concept an Idiom, which works great in languages such as [[Java Language]] and [[Cee Plus Plus]].",
      "id": "e3e351b0284432a66ba5672a37e875c2"
    },
    {
      "type": "html",
      "text": "\nYou bring up another, related issue, of separate interfaces for separate clients. [[Robert Martin]] has written an article in [[Cpp Report]] describing [[Private Interface]], a pattern for this. The idea is that only certain clients would have access to certain setter methods for an object.  The paper that describes it is in the publications section of [http://www.objectmentor.com www.objectmentor.com].",
      "id": "49588416e269d64a497b9230aa6b82d3"
    },
    {
      "type": "html",
      "text": "-- [[Russell Gold]], [[Robert Cecil Martin]], 17Oct99",
      "id": "626621f9377548d0d2d200166c656c95"
    },
    {
      "type": "html",
      "text": "<hr>",
      "id": "4a5add271eb8365465d827bb133059f6"
    },
    {
      "type": "html",
      "text": "See [[Value Object]]",
      "id": "64ef6e83dd555fdaf0b0347a66a676b3"
    },
    {
      "type": "html",
      "text": "See original on  [http://c2.com/cgi/wiki?ImmutableObject c2.com]",
      "id": "ce0d0579bd0011563b354777e4021a55"
    }
  ],
  "journal": [
    {
      "date": 1094105513000,
      "id": "1dd0baecede0be966ab7cabf679dd9ab",
      "type": "create",
      "item": {
        "title": "Immutable Object",
        "story": [
          {
            "type": "html",
            "text": "I think there is another way to make an immutable object without creating lots of copies of interfaces and things. If I don't want people to change my Transaction objects once  they have been created, I have only one method that sets any of the instance variables, e.g., initializeName:date:amount:etc. It uses lazy initialization to ensure it gets set only once.",
            "id": "c10c945cf7368b1d6031ad18fd3f62cd"
          },
          {
            "type": "html",
            "text": "\nIf the object is not truly immutable, then there are legal occasions on which it may be updated. The big question is, who controls who may update it and when they may do that?  ",
            "id": "bd4d53767fcfd39541bbb25e1009f658"
          },
          {
            "type": "html",
            "text": "-- [[Alistair Cockburn]]",
            "id": "1f4dfd42e5fe8f978a5c7b973a4aaf01"
          },
          {
            "type": "html",
            "text": "\nAgreed - most truly Immutable objects have their attributes set only in a constructor, and rely on language rules to prevent the constructor from being invoked more than once. That makes this whole concept an Idiom, which works great in languages such as [[Java Language]] and [[Cee Plus Plus]].",
            "id": "e3e351b0284432a66ba5672a37e875c2"
          },
          {
            "type": "html",
            "text": "\nYou bring up another, related issue, of separate interfaces for separate clients. [[Robert Martin]] has written an article in [[Cpp Report]] describing [[Private Interface]], a pattern for this. The idea is that only certain clients would have access to certain setter methods for an object.  The paper that describes it is in the publications section of [http://www.objectmentor.com www.objectmentor.com].",
            "id": "49588416e269d64a497b9230aa6b82d3"
          },
          {
            "type": "html",
            "text": "-- [[Russell Gold]], [[Robert Cecil Martin]], 17Oct99",
            "id": "626621f9377548d0d2d200166c656c95"
          },
          {
            "type": "html",
            "text": "<hr>",
            "id": "4a5add271eb8365465d827bb133059f6"
          },
          {
            "type": "html",
            "text": "See [[Value Object]]",
            "id": "64ef6e83dd555fdaf0b0347a66a676b3"
          },
          {
            "type": "html",
            "text": "See original on  [http://c2.com/cgi/wiki?ImmutableObject c2.com]",
            "id": "ce0d0579bd0011563b354777e4021a55"
          }
        ]
      }
    },
    {
      "type": "fork",
      "site": "sfw.c2.com",
      "date": 1628111989244
    },
    {
      "type": "edit",
      "id": "bd4d53767fcfd39541bbb25e1009f658",
      "item": {
        "type": "html",
        "text": "If the [[object]] is not truly immutable, then there are legal occasions on which it may be updated. The big question is, who controls who may update it and when they may do that?  ",
        "id": "bd4d53767fcfd39541bbb25e1009f658"
      },
      "date": 1649775617090
    }
  ]
}