{
  "title": "Designing the Pi 5",
  "story": [
    {
      "type": "paragraph",
      "id": "ebf89a59d9899ca5",
      "text": "Raspberry Pi 5 is here, and it has been years in the making. CTO James Adams sat down with founder Eben Upton to talk about the long process and the many decisions that led to Raspberry Pi 5 coming into being."
    },
    {
      "type": "video",
      "id": "3bf7f8b5d2a34911",
      "text": "YOUTUBE ZswAW9A6wNE\nPublished Oct 3, 2023."
    },
    {
      "type": "paragraph",
      "id": "5c32baa22936b3ce",
      "text": "Raspberry Pi 5 Architecture has been I guess the biggest engineering program we've done certainly if you include the rp1 engineering program inside it's the biggest engineering program we've done at Raspberry Pi it's the longest and I'm going to be where did we start where did we start"
    },
    {
      "type": "paragraph",
      "id": "f939499a02e9407c",
      "text": "Depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works"
    },
    {
      "type": "paragraph",
      "id": "92637e3a3f8a7602",
      "text": "about"
    },
    {
      "type": "paragraph",
      "id": "fdb012e6017b1553",
      "text": "yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Designing the Pi 5",
        "story": []
      },
      "date": 1696520719190
    },
    {
      "item": {
        "type": "factory",
        "id": "ebf89a59d9899ca5"
      },
      "id": "ebf89a59d9899ca5",
      "type": "add",
      "date": 1696520724047
    },
    {
      "type": "edit",
      "id": "ebf89a59d9899ca5",
      "item": {
        "type": "paragraph",
        "id": "ebf89a59d9899ca5",
        "text": "Raspberry Pi 5 is here, and it has been years in the making. I sat down with Eben to talk about the long process and the many decisions that led to Raspberry Pi 5 coming into being."
      },
      "date": 1696520733764
    },
    {
      "type": "edit",
      "id": "ebf89a59d9899ca5",
      "item": {
        "type": "paragraph",
        "id": "ebf89a59d9899ca5",
        "text": "Raspberry Pi 5 is here, and it has been years in the making. CTO James Adams sat down with CEO Eben to talk about the long process and the many decisions that led to Raspberry Pi 5 coming into being."
      },
      "date": 1696520768645
    },
    {
      "type": "edit",
      "id": "ebf89a59d9899ca5",
      "item": {
        "type": "paragraph",
        "id": "ebf89a59d9899ca5",
        "text": "Raspberry Pi 5 is here, and it has been years in the making. CTO James Adams sat down with founder Eben Upton to talk about the long process and the many decisions that led to Raspberry Pi 5 coming into being."
      },
      "date": 1696520858931
    },
    {
      "item": {
        "type": "factory",
        "id": "3bf7f8b5d2a34911"
      },
      "id": "3bf7f8b5d2a34911",
      "type": "add",
      "after": "ebf89a59d9899ca5",
      "date": 1696520861789
    },
    {
      "type": "edit",
      "id": "3bf7f8b5d2a34911",
      "item": {
        "type": "video",
        "id": "3bf7f8b5d2a34911",
        "text": "YOUTUBE ZswAW9A6wNE\n(double-click to edit caption)\n"
      },
      "date": 1696520893662
    },
    {
      "type": "edit",
      "id": "3bf7f8b5d2a34911",
      "item": {
        "type": "video",
        "id": "3bf7f8b5d2a34911",
        "text": "YOUTUBE ZswAW9A6wNE\nPublished Oct 3, 2023."
      },
      "date": 1696520928398
    },
    {
      "type": "fork",
      "site": "found.ward.fed.wiki",
      "date": 1696524769311
    },
    {
      "item": {
        "type": "factory",
        "id": "5c32baa22936b3ce"
      },
      "id": "5c32baa22936b3ce",
      "type": "add",
      "after": "3bf7f8b5d2a34911",
      "date": 1696524838399
    },
    {
      "type": "edit",
      "id": "5c32baa22936b3ce",
      "item": {
        "type": "paragraph",
        "id": "5c32baa22936b3ce",
        "text": "foreign [Music] 's been I guess the biggest engineering program we've done certainly if you include the rp1 engineering program inside it's the biggest engineering program we've done at Raspberry Pi it's the longest and I'm going to be where did we start where did we start depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works but yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
      },
      "date": 1696524840514
    },
    {
      "type": "edit",
      "id": "5c32baa22936b3ce",
      "item": {
        "type": "paragraph",
        "id": "5c32baa22936b3ce",
        "text": "Raspberry Pi 5 architecture foreign [Music] 's been I guess the biggest engineering program we've done certainly if you include the rp1 engineering program inside it's the biggest engineering program we've done at Raspberry Pi it's the longest and I'm going to be where did we start where did we start depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works but yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
      },
      "date": 1696524957662
    },
    {
      "type": "edit",
      "id": "5c32baa22936b3ce",
      "item": {
        "type": "paragraph",
        "id": "5c32baa22936b3ce",
        "text": "Raspberry Pi 5 Architecture foreign [Music] 's been I guess the biggest engineering program we've done certainly if you include the rp1 engineering program inside it's the biggest engineering program we've done at Raspberry Pi it's the longest and I'm going to be where did we start where did we start depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works but yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
      },
      "date": 1696524983909
    },
    {
      "type": "edit",
      "id": "5c32baa22936b3ce",
      "item": {
        "type": "paragraph",
        "id": "5c32baa22936b3ce",
        "text": "Raspberry Pi 5 Architecture has been I guess the biggest engineering program we've done certainly if you include the rp1 engineering program inside it's the biggest engineering program we've done at Raspberry Pi it's the longest and I'm going to be where did we start where did we start depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works but yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
      },
      "date": 1696525016524
    },
    {
      "type": "edit",
      "id": "5c32baa22936b3ce",
      "item": {
        "type": "paragraph",
        "id": "5c32baa22936b3ce",
        "text": "Raspberry Pi 5 Architecture has been I guess the biggest engineering program we've done certainly if you include the rp1 engineering program inside it's the biggest engineering program we've done at Raspberry Pi it's the longest and I'm going to be where did we start where did we start"
      },
      "date": 1696525051829
    },
    {
      "type": "add",
      "id": "f939499a02e9407c",
      "item": {
        "type": "paragraph",
        "id": "f939499a02e9407c",
        "text": "Depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works but yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
      },
      "after": "5c32baa22936b3ce",
      "date": 1696525055953
    },
    {
      "type": "edit",
      "id": "f939499a02e9407c",
      "item": {
        "type": "paragraph",
        "id": "f939499a02e9407c",
        "text": "Depends when you define start but rp1 started in 2015. yeah this was an eight year program this is an eight-year program it's a program that kicked off before we shipped we shipped Raspberry Pi two haven't we we had that point yeah but it was before we should Raspberry Pi zero even that's definitely before three right yes three was in the works"
      },
      "date": 1696525481125
    },
    {
      "type": "add",
      "id": "92637e3a3f8a7602",
      "item": {
        "type": "paragraph",
        "id": "92637e3a3f8a7602",
        "text": "about"
      },
      "after": "f939499a02e9407c",
      "date": 1696525489724
    },
    {
      "type": "add",
      "id": "fdb012e6017b1553",
      "item": {
        "type": "paragraph",
        "id": "fdb012e6017b1553",
        "text": "yes so it was a long time ago I mean and so this has been a long program it's been an expensive program I mean I think I totted it up and it looked like a 25 it looked like a 25 million dollar uh program yeah and we've touched pretty much everything on the board right we have um I guess we've got uh new power management silicon a new broadcom main process of silicon we've got the same Wi-Fi as pi4 we have rp1 which is what we call Project y internally um why did we do it we'll get to that I guess um and uh I guess there's some other interesting pie five things like intrusive Reflow again we'll probably talk about that in a minute but there's been a lot of stuff packed into this although it looks quite a lot like a Raspberry Pi 4 I guess there is an awful lot of new stuff looks a lot like a raspberry 3 because you've trolled everyone that's true I I had to move the uh had to had to I had to move the ethernet connector back from where we put it on pi4 so it had to move on Pi 4 because the broadcom the pin out meant that we had to bring the wires across the top um and uh the again the sort of the layout of the board meant this time we had to move it back to the bottom again because we needed space to get the project y Southbridge chip and the ethernet fly underneath and that just naturally made it fall back into the standard Raspberry Pi layout that we've had since 1B plus yeah so so that worked well that worked quite well uh I guess the thing to say about this board is it's super super tight right um everything everything's been co-designed so we work with dialogue to design the power management chip with broadcom on the the broadcom main SOC obviously we designed our own South Bridge for the i o and each of those we've co-designed the pin out so that all of the wires come out in the right direction I think you see this when you look at the top of the board what you see is enormous numbers and tracks going across whether they are coming from the uh where they're coming from the broadcom sock down to the uh down to the two HDMI connectors whether they are the PCR express bus coming across to the all the all the uh the piso express bus coming across to um that's it uh they're all there's no wires crossed over there yeah so you've got a four lane four lane PCI Express that goes from the 2712 chip to the uh the South Bridge and that's a big bunch of wires right if any of those crossed over it would kind of explode the board tag what is the board technology so the board Tech is exactly the same as we use for pi 4 which is um quite impressive really it's a six layer uh six layer board and we have uh what's called HDI um which which means you have some laser virus in there so you have laser virus from the top layer to the second letter you know one to two and then also mirrored on the bottom so do you have very advisors and then you have very advisors okay so you've got you've got one to two so you've got six loads of PCB actions between layers of the PCB are one to two five to six and then uh two to five so in the middle of the board and that's a fairly that's a fairly mild that's that I think probably when we started Raspberry Pi that was quite a high tech it was high tech when we moved to it yeah it's fairly I think it's quite standard now um not too expensive um and when we sort of know it quite well we know the materials that go into it we know the cost structure of it um yeah but it actually turns out if you look at the board as you say there's big spaces where there's lots of tracks um the biggest issue you have with these boards is if you have to drill any wires either ones that go all the way through the board or even the ones just in the middle they put a big Blocker in the way of any other tracks right so again you get a double um uh sort of improvement or it's a double negative if you end up having to cross tracks over because it just rapidly becomes impossible because you just have to drill holes all through the board and you just can't read the track so so you know it's that co-design that full stack design the fact that we can have control over all these things has made it possible to put this Tech on on that piece and that's because that's kind of probably one of two big themes right for the uh you know for this for this product in terms of the top level architecture right the idea that if you you know we have a custom power management we have custom uh core silicon 16 millimeter core silicon we've designed our own our own i o controller rp1 if you can do if you have that level of control over all of the silicon and the platform then it drives it drives cost Savings in the hardware um and I think that's probably also mirrored where we'll talk about software in another video but I think it's also mirrored in software right that if we you know if we understand all the components in the system in enough detail and we have been able to to kind of settle them ahead of time to do work on them ahead of time um then you can take uh you can take I guess cost out of software you can take performance inefficiencies out of software and get more done with less processing better yeah so that's kind of one but it's one big theme code design I think if you just hold the board in your hands that really Springs out at you and it Springs out in terms of the this these kind of these these very neat parallel tracks on the board I guess the other one is integration right this idea of eliminating shrapnel that's it yeah so each of the big bits of silicon uh we've tried to pull any of the extraneous bits and pieces back into those bits of silicon so for example in the power management chip uh this uh also has uh well it's a new feature but we've integrated it as a real-time clock in there it's a lot it's a much requested feature it's a much requested feature it controls the power button again and a much requested feature we've got congratulations so after 12 years um and it pulls in some of the other things like HDMI sort of five volt um uh Power switching and things like this so little bits of power switching places where you would have had five yeah on the board now those have all been mostly slurped into the main silicon so all these features that we've yeah that we've had and we've known about and we know we want we try and pull them into the main silicon it's been a feature of all of the platforms but I think this is the culmination of you know all of that plot extra goodies because it's had the it's kind of had this this product has had the longest gestation it's like it has gestation and that that's men you know there are a lot of these things that you can't if you're in your guess two or three years of visibility it's very hard to Hoover these things up into into core that's right yeah and um I think having that vision from the beginning of the whole South Bridge and we'd make that uh do all the i o you know that's kind of driven the layout of the board all the way through so you know we knew when we were talking to broadcom how the thing was going to lay out or how we we envisioned it and actually it did turn out to you know it all fell into place quite nicely so you know we've had you know there's that thought was there right from right from the beginning uh which has been yeah it's good to see it play out and actually work yeah it looks really cute it does look really so there's a there's a but it still has more placements than any previous it does more components on the board I mean well the the the broken silicon is is very fast it's a big chunky processor if you look at the power management chip there's a whole ton of inductors around there one of the the top of the chip there's eleven eleven there's 11 inductors and there's a quad phase so 18 amp supply for the call I've been branding it at a 20 amp Supply well yeah I will do 20 amps right so what does that what does that mean quantize so that means that you've got effectively four switching controllers that are working in anti-phase so it uh you know you can either have one massive great inductor or you can have four smaller ones that switch faster and the four smaller ones that switch faster have some advantages like um it can control the voltage uh at a finer time right so you've got so you've got a so the way the switcher Works you've got a uh you've got your you've got your five volts uh and then you have your your output yeah output sort of yeah 0.7 to 1 volt and then you have and then you have the indoor you have an you have an inductor out into the system uh and then depending on the voltage that it observes coming out of the system it's then it has a clock period And it connects the high voltage to that node for a fraction of that clock period now then with a single phase you have a single clock period and suppose I maybe I use half that clock with that half that clock period so what you're saying is quad phase so you can imagine dual phase where you have a clock period which is like this and another period which is like this and then you have two of these switches feeding the same node this is where you actually have four which are 90 degrees which is kind of a quarter out of phase right yeah so I guess um sort of the way I think about it is yeah these things are running at per phase two megahertz and they're all inter leaves so your total uh you know the total rate that the thing can adapt to any kind of voltage change that it's looking at is much faster so you're going to get effectively at eight megahertz that's right a new opportunity to make a different decision because of course you have this processor which can be sat there in idle and then a moment later can suddenly decide to run as hard as it can that's an enormous kind of that's going to pull in almost amounts of current out be able to discover in that one eight millionth of a second rather than one two millionth of a second you need to do something yeah yeah so that and that also means that you need less capacitance on the output right so less sort of um yeah less buckets of charge that that need to to sort of compensate for the fact that yeah this big beast of the processor can suddenly pull all the power uh in you know I guess it's an important part of the co-design point right that if you um if you try and build systems like Raspberry Pi out of generic Merchant silicon you end up um you end up effectively having to put the next biggest you know the next biggest thing if you you know we require uh we require eight rails so we have this little seven relatively low current rails on the eighth very high current core rail uh maybe somebody won't quite sell you that that device and so you end up having to kind of supersize your power management chip and take extra extra wasteful cost in that corner of the board if you can get somebody you know as we obviously we have with dialogue dialogue Renaissance if somebody will Design you exactly what you need then there's there's that much less fat and you can get that much more done for your door that's right yeah and yes it's it is kind of exactly what we need which is great you know there's no waste and silicon there doing nothing um which is nice right and we've managed to arrange it we knew it was going to go in the corner of the board so we spent a long time with dialogue now Renaissance iterating the sort of layout so you know if the the package thermal simulation the layout the die everything's all been designed to sit on the Raspberry Pi five and actually again that's another one that's just turned out to be really nice it's a beautiful a lovely bit of engineering yeah I know that also has our PD uh it also has the the clock that has yes so it's got a inside it's USB PD USB power distribution uh delivery power delivery so this is your new modern USB PD USBC which has this thing called USB PD Power delivery which is a Serial interface that allows your power supply to talk to your power sync and you the boards can request data from the supply or they can request different voltages right so standard voltages of five volts 9 volts I think 15 volts so we have that ability now to talk to PD supplies which is useful because we have a PD Supply because we're now launching a a new Supply with this with this product which is PD Supply so our PD Supply is a bit special because rather than so we need more power into the board right so we've got a much more chunky processor that can pull a lot more power when it's really heavily loaded and we have an aspiration to be able to deliver more Downstream powered exactly yeah and other things Plugged In Hats PCI Express things like that fan um so yeah so we we wanted more power into the board now the problem is if you I mean we could um and we sort of left this open for a little while which is kind of one of the reasons PD ended up in there anyway is that you could do that by requesting the PD Supply give you say nine volts at three amps which is you know 27 Watts that's the standard uh but then you've got to convert that on the board from you know nine volts down to five volts and all the other rails and that's cost okay yeah it costs cost you uh efficiency so you end up throwing uh money at the problem and throwing power into the board you're wasting energy so actually in the end after we thought about it for a while we decided to stick with five volts USB C uh uh connectors um can support 5 amps some of these higher PD modes uh support like 20 volts or 5 amps to get you 100 Watts so we decided to do five volts of 5 amp which is quite hard and unusual when I say hard I mean it's a challenge to get the power supply to do that because it's a low voltage at high current which is which is a bit challenging you know it's a little bit more of a design challenge than than the standard but not on you know not not uh not impossible and we've done it and we've got a nice 5 amp Supply now so that allows us to keep the board kind of as it is so it takes the cost out you're not throwing any power away which is important um and yeah we've the supply works fine right so this PD is now really used to just check the supply can do so so we interrogate the uh and I know we obviously we had a lot of there was a lot of a lot of internal a lot of internal discussion about this right about particularly the um the the how much power beautiful to allocate to Downstream USB to USB devices while still reserving enough power to make sure that the the broadcom in particular buy everything on the board but particularly the Big Arm cores inside the um the application processor uh could execute the worst case uh their worst case workload um so what we've ended up with I think is a world where we we go and ask the so so we kind of probably have two worlds we have a world where we are powered by a uh traditional three three-ish amp um a power supply and a world where this PD subsystem has detected that we're being powered by the the shiny new power supply and then what do we do differently when we discuss when we discover that so uh if you have okay let's do the if you have the full full fat Supply if you have the new Supply um then you get full performance of everything and you get extra USB current over Pi four so you get was at 1.5 amps I think we're at 1.5 minimum now okay whereas Pi 4 is I think 1.1 right so you you get I was I think it's 1.5 in a bit so sort of about half an amp extra right which is which is another two and a half Watts which is now two and a half watts and we know that actually Pi full level was quite good it would run quite a lot of stuff without issue um without I needed a powered Hub Downstream so that just adds that extra buffer for for a slightly more greedy discs for example yeah I mean spinning spinning spinning disc particularly substantial tracker so so that that's good so that's the that's the new world if you plug in a a 5 volt 3 amp Supply uh what we've decided to do is constrain the US the downstream USB current by default so you'll be able to run a mouse and keyboard simple things but uh it it won't let you say boot from a from a from an SSD or a Spinning Disk by default by default and you can override that yeah so it's about making a default safe right this thing comes out of the box right if you plug them out to the keyboard into if you want to plug more stuff into it you'll be fine unless you I mean I think when we're talking about um worst case workload on the arms we're talking about pathological workloads uh workloads which are really designed to stress the power supply to its limits that's right so I think what we're expecting right is that um for most use cases you will be able to disable this feature it'll kind of be fine yeah but if you do plug lots of things in again it we're just trying to get away from having something that's marginal or causes confusion so hopefully it's clear that you know this way round um you know if you buy the new supplies all great and you know we're we're not making those supplies particularly expensive uh as as with anything and if you don't want to buy the new Supply it's also still it's also fine and you just turn off the protection feature which is a fairly easy thing to do and everything's fine but just be aware that if you do load it up then you may suffer some some some instability but in you know unlikely scenarios I suppose so that's the bottom left the board we mentioned RTC how does that work with respective batteries so we don't ship the board with battery it's got a little tubing connector uh we we uh we have a a little cell on a flying lead with it yeah you know laptops and places have um that you can buy and plug in and then the RTC will keep time over power outages I mean it'll keep time anyway if as long as it's plugged in even if even if the board's powered off as long as it's got five volts coming in it's going to keep time but if you want it to be you know completely separate uh keep time over uh you know when it's unplugged then you need the battery and then the power button how does that work we have a power button yeah I can't believe it uh well it's like a power button we even have a power button we even have a little button on the case we do the case again the case is again we've had time a little bit more time than we normally would uh to iterate some of this stuff and it the power button works really nicely with the case the LED is right behind the the button uh so the different kind of colored light comes out very nicely and the button presses to press the power button uh do a little bendy bit of plastic so you've got the rushes on there yeah John did a great job of iterating until we you know we've got a really nice sort of solution to that um so how does it work uh I guess much like a laptop sort of power button you know you uh when you first plug the pie in it will do what a normal a pie normally does which is just power up if you just power it from the wall if you press the button Linux should see that and it should be able to sort of power down the system press it again it will come back up again um hold it for five seconds it will hard reset much like a laptop and impressive again and then press the enter and uh uh that's about it yeah I think the only other uh the only other kind of like special feature we've uh put into that is if you've got a host machine you plug that USBC into the pi with the power button held down the pi will boot into USB boot mode what that means is the host machine can put you know upload firmware into the file so this is if you uh somehow brick your flash on the board this is all pipe boot mode this is our PI boot mode like compute modules have this is a way to to enable that you're still using the same button get a little value out of that button yeah we've we've made it do as much as we can it's kind of hard to squeeze a button on the outside I think I saw somebody there's no space for two I think I saw someone suggesting using it as an input for the I think I saw Tim's suggesting also using it as an input device for the uh for the um for the the uh the debug screen look at the HDMI debug screen that comes off at the start as well one bit before we could do that maybe that will turn up in the firmware I don't know so that's the bottom left that's the bottom left of the ball I mean that itself was um no it's small fraction the board area but it's worth emphasizing it was an enormous it was a piece of engineering it was a relation but also in you know for you and the other people in the organization specifying and iterating with them all that what exactly that should look like and that's been going on since 2020 yes yeah probably it's pretty it's pretty pre-pandemic right the kickoff for that uh yeah just about just just about yeah just about so that's that corner that's that corner of the board um the middle of the board obviously we have 2712. now that's another generation of the 270x uh design that's powered all of the uh all of the pies um we've got those cortex a76s in there which are pretty beefy pretty beefy they're reasonably there's something like um I mean the sort of back of an envelope number that I have is that there's something like 50 to 60 percent faster clock for clock uh and we are going to launch at 2.4 gig uh versus 1.8 gig so you can imagine you've got about a 33 uplift from uh from clock speed you've got about a you've got north of 150 up uplift from um from uh from architectural architectural IPC so chunky cores it's chunky calls I mean well you've used it it's it's very fast yeah you know I guess sort of Two and a Half ish times I guess on some of the yeah JavaScript I mean I only care a lot about the JavaScript I think a lot of people care about JavaScript entrance because they are the kind of uh they're they're a they are directly relevant to end users um and B they are hard to forge you know it's hard to make it some of the simple eventually wants dry Stone uh even things like Hallmark uh these days you know speck-end um you can build cores which Target those benchmarks you can try and crack The Benchmark it's very hard to crack a JavaScript Benchmark without accidentally also making a a good a good core um uh and so so I mean where are we we're kind of in my mind uh I mean I always think about jet stream one right that's my that's my my sort of my favorite gesture model one it's my favorite JavaScript Benchmark and you've got kind of a Continuum where you have maybe a pi three uh three plus posting 12 10 to 15 on that um a pi four posting a pi four with the 1.8 gig clock posting about 50. and then I think if I sat down in front of Liz's uh M2 uh MacBook um there's a seven thousand dollar MacBook that scoring about 400. so you've got about a factor of eight between a between a pi four and the shiniest thing really that makes the shiniest client platform that exists we're coming in somewhere in 130 to 150 range here which is kind of cool right you know it's a third of a it's a it's two and a half times what we were shipping before it's a third of the shiniest thing you can that you can get certainly I have a I have a I have a 2015 MacBook Air which posts about that um kind of performance so it really is quite a respectable client platform yeah I mean the just using it on the desk with the with the sort of our beta build it's very usable yeah you can use it you sort of I forget what platform I'm using PC versus you know buy now whereas with by four you could you know you could talk and we did a lot of work in the pandemic right with pi four you know Pi four didn't you know we got lots of Pi fours out to kids you know we had a huge number of kids here in the UK who were sent home without without adequate Computing facilities we've got a lot of Pi fours and then laterally Pi 400s out to those kids they're very usable what I thought it was a really good and usable yeah but you can sort of tell that yeah it's the kind of difference between good and no compromise yeah you just don't notice yeah it's sort of yeah you're not you're not thinking it yeah and I think bookworms fed into this as well that you know this is you know Bookworm is the launch uh raspberry and Russian Park raspberry pios book one um is the uh is the launch operating system for this platform that came with its own round of performance improvements that have affected all of the previous platforms as well so you kind of bringing together kind of two sets of performance improvements at One Moment In Time yeah yeah no it's it's going to be well it is great right so we've got we've got so we've got a 76ers at 2.4 gig we've got video core 7 so we have the great great grandchild of our of our of our little baby since we built that yeah we built video core four in 2017 to 2009 yeah so this is the the the distant successor of of what we bought and what we built and what we of course what we shipped in in pi one through point which is very cool actually it is very we're getting old you know yeah still gotta keep using it I know it's kind of fun um so so we've got video call Seven uh it's uh it's got more um it's got more processing elements it runs a lot faster so it's running up I forget what the numbers I think it's about 900 megahertz uh yeah I think that's where We've Ended up yeah so it's a it's a pretty Speedy it's a pretty Speedy platform it's got 12 qpus in it I think um so you've got you've got a you've got a bigger faster GPU obviously not supporting more display output capability as well right yeah so we we've oh well we broke them have increased the uh display pipeline um uh bandwidth effectively so we we can do two 4kp 60 now fairly comfortably um yeah a remarkable remarkably comfortable yeah as I plug my laptop into a 4K television and you can feel it struggle where this really doesn't seem to doesn't seem to break a sweat when you do that yeah and I guess a couple to that is is now lpddr4x which doesn't change the game very much but it's um a sort of a slightly more energy efficient LPD off we've got about twice the achievable memory bandwidth so we we were shipping lp4 3200 and now we're shipping lp4x 4267 um but there are architecture yeah inside the architecture yeah that's where the difference is nearly more than the I mean the external's got faster but so you've got architectural aspects of the um of the 2011 design the pi 4 design that really cut your 3200 down to about 2000 it's very hard to get faster than about 2000 speed grade so you've kind of got a doubling there so you've kind of got a doubling of you've got a lot of doubling in the platform actually you've got kind of got a doubling of CPU or doubling at a bit of CPU performance you've got a doubling of display Apple bandwidth um will come on to rp1 a little bit and you've got some kind of some doublings Downstream of that as well and underpinning all of that there's no use doubling all the stuff around the outside if you don't also double your memory but we haven't doubled the power so we haven't doubled the power in fact I think for for typical use cases it's a rather more I think we have a few as you can tell by the fact we've had to make some hard decisions about usb we have a few edge cases which have higher power consumption my experience of it is it's a cooler it's a cool out of the box um it's it's very similar to the current pi4 in terms of thermal yeah so the idle widely the idle performance is about the same the the sort of typical performance my my experience is when you put it under low under typical load not under pathological load if you put under a typical load it's cooler than a uh than a similarly loaded bike that's right yeah you've got you've got quite a lot more performance per white in fact we should probably try and quantify that um but it you know it's a very cool platform for the performance you get um and even you know these things have because it's a more performant processor and you just have more dynamic range in the system which makes the engineering more of a challenge right we've got this very beefy core Supply and we've done a lot of testing that shows that you know there's quite a lot of margin in there even in the worst case but that's good right you don't want you know you've got a we made we're going to enjoy the overclock that's it there's overclock ability but also you know you had to we had to make this decision quite a long way before we had the actual silicon that it was going to be coupled to um and uh yeah it turned out we made some good engineering decisions here as well so you know I think the nickel and dime it we know that we got it just right so again it's another thing that's that's worked quite nice yeah yeah and I guess the other probably other interesting thing in that platform um PCI Express hmm the first time we have her I wish we talk about what what you you know we talked about the board being largely a Raspberry Pi should we talk a little bit about the two or three things that have changed into the support layout what what's changed with the the FPC connectors on top of the board all right so what have we got so uh all previous pies had a a display in a camera connector so this is this uses the mipi defy and csis and they're two lanes right so the two-lane uh camera two-lane display and they were nominated this was the case this is the camera this is the display and the controllers behind them yeah you know uh so on uh on our rp1 what we've done is we've got we've still got these defy but they're now four lanes and behind each one is a dual controller so it can either do camera or it can do display so right um so rather than the old Arrangement One camera One display each two lane you've now got two multi-function ports two multi-function FFC connectors which are now 0.5 mil pitch so they're physically smaller but have more pins and they're the same pin out that we use on the computer module boards right so it's actually quite a mature so it's a relative yeah since 2014. so it's the 22 22-way mipi Port I guess uh we're calling it mini mini camera mini display um and so you get four lanes and you get each one you're on the hunt for some for some nippy devices well they do four lanes yes absolutely uh no doubt we'll have some coming in the future uh watch this space but we uh each of those can be either a camera or display so you can have two cameras or two displays or whatever yeah in either one yeah and those are physically located uh where the AV yeah where the AV Jack used to be so tell me about the AV Jacks AV Jack's gone sorry our lovely got some patterns I Consolidated yeah so there is there are two two holes that you can still get TV out video composite video in fact there's a a new video out a composite video um system in rp1 uh which we designed um which can even do some very I'm told some very archaic television are we going to go down the television Museum or are we going to just challenge the first so this is 425 line is it the old is it 425 whatever the old stuff yeah yeah not quite the John Logie bad standard but the the original philosophers yeah it's going Beyond he was really going beyond my uh sort of understanding but I understand that there is a yeah very old the pre-powell pre-preprint yes yes so the engineer who did it uh had a lot of fun making that yeah so we're looking forward to seeing the Raspberry Pi desktop on uh one of those 1950s televisions with the mirror whether that's the CRT is vertical and there's some error on the top of it that's going to be an achievement so yeah you have to work a little bit because you'll have to solder a two-pin header to get that out um uh and I think I guess AV wise well we sort of something had to give to squeeze everything onto the board and I think that was probably the least the least kind of used and sort of quite a high cost for funk for the function right as well you know there's quite a bit of shrapnel in that and you need the connector uh so you know it sort of it was I think it was a reasonable trade so that's down there in the same place as the AV connect to roughly the same area as the old camera connector what's happened over on the left hand side of the board then left hand side so we talked about the bottom left middle middle left we've got a new flexible FFC connector uh that does single Lane PCI Express so we did look at sort of trying to see if we could squeeze an m.2 connector or something on the board but for power and physical space reasons that wasn't really going to happen so what we've done is we've we've got it uh what is it 16 pin FFC which carries um your single Lane PCI Express and control signals so which I think we're rating to gen 2. Gen 2 I think it may do gen 3 but we're writing I think the it's got gen 3 controller yeah I think the Brooklyn silicon has a Gentry controller but will it will it be compliant to gen 3 maybe maybe not I think it's sort of it's been designed for best effort but yeah yeah I mean perhaps it's worth having the kind of brief history of Pi IO of Raspberry Pi yeah no controllers right all raspberry parties have looked like core silicon plus I O controller and that's you know with some bus between them and so we had three and a half four and a half Generations um of product um three to three be passed where that into where that chip was for microchip was one of several chips that we we bought from microchip and that bus was USB two yeah and the thing that came out Downstream of that was um uh was was uh more USB 2 uh via Hub and 1000 and then laterally 1000 gigabit sort of reduced gigabit Ethernet um we don't have Pi four which pulls the ethernet onto them into the main it broke 27 11 yeah yeah ah so you have an external G5 uh and then the i o chip is the vli 805. it is PC Express to esb3 yeah and so this is a very standard thing for us right you know you don't you can't always fit the all the functionality you want into the core silicon um but this kind of we've taken to the next level I guess in a couple of ways one because it's something we've designed ourselves um and two because we put a lot of functionality so what's in what's in rp1 what does RPM do for us yeah lots of things so I guess that's right yes three yes because that's sort of the most visible I suppose so you've got two USB three so it's got less quad Lane Gen 2 please express to 16 gigabits of bandwidth 16 gigabits two gigabytes so you've got two um USB three five gigabit USB 3 controllers so each of your blue ports it has is on a separate controller um which is you know if you've got two two discs plugged in that does make a difference um you've got the mipi camera and display interfaces that we've talked about before um and that's four that's about four gigabits each they are walking a bit per Lane four lanes yeah it's about four gigabits each it's about a gigabit per Lane yes that's right um okay we haven't got anything that uses that just yet but uh uh and then we're going around the board yeah it it's got an Ethernet uh Mac on there so we use the same five from PI four but it's plugged five four two one three yeah it's plugged into uh it's plugged into the rp1 chip this time um and uh it does uh the i o version well this is so this is a significant architectural change right it's a significant architectural change in the what's happened a lot of that that that analog used to be integrated into the Corsa like and the nice thing about this is It's let us go down to so the core silicon is now 16 nanometers and you can build that 16 nanometer silicon and focus really largely on the digital elements of the design so that's got HDMI so why isn't HDMI on on rp1 right I mean it's just a bandwidth thing right HMI has pretty large amounts of 4K p60 I don't know do you know off the top of your head is for the happiness or not six six gigabits per line 24 gig something yeah that sounds about 24 gigabits for each Port times two times times two 48 six gigabytes a second right so three times as much bandwidth as the total bandwidth um that we can ship across to um yeah so that naturally and you've got the kind of high bandwidth display pipeline stuff behind it as well so that doesn't make any sense to ship off across another even quite high bandwidth interface we've got SD card still sticks to to the main processor for booting and again just it just sort of naturally because it sits on the left of the board it makes sense to put it there and DDR memory again high bandwidth needs to be closer expert the down to the the use of Pizza Express Port and then there's four lane and then yeah use the PCI Express Port or straight off the main sock and the four lane comes out on the sort of the right hand side as you look at the top of the Border feeds rp1 outrageous about co-design there yes you can just kind of go around the whole map you can see the shape of a Raspberry Pi when you look at the ball map from for that for that chip you can see the shape of Raspberry Pi in the ball map the pi absolutely drove the ball map and then we had to figure out how to make the wall map the ball map drove the ball map drove the floor plan well yeah um and then the drove the Montrose you go and look at the die and you know the layout of the individual analog elements on the die and some of the digital elements on the die is driven by the needs of the top level you know that's this co-design that's why you need eight years to do this right um you know it's there is that level of co-design in the system so so this is a so this is a it's a pretty comprehensive overhaul putting all the analog out there it's pretty comprehensive or putting the the gpio connector out there as well now so what changes and what stays the same about because of course the gpio connects is really important to a lot of people who use relatively so I mean the the the pin out's not changed um and the uh the uh the the nominal peripheral functions behind the pins haven't changed but we do have controls from different places now because it's not broadcom's silicon uh you know we've got slightly different can you remind me we've got pl11 New Yorks that's right I mean they're you know virus Raspberry Pi rather than buyer uh and I think we've got synopsis I squid seeing spy or and i2s the one I can't remember I think it's synopsis yeah I don't think it's pl-22 I think it's an opposite because we use pl22 we use the arm spy on um on rpe 2040 but I think yeah I think we've made the other decision oh it's an interesting point about rp1 right uh maybe we'll talk about that in the video a little bit but you know rp1 the clue is in the name right it's the longest lived although it's the latest chip product come out from us it's actually the once started first and so some of these decisions were made long before RP 2040 was uh was a thing right yeah and it's a complicated chip right it's got lots of different analog lots of different clocks it's rp1c zero because this is effectively the Third Kind of the third spin of it right we had a couple of engineering and a couple of runs on it had a run a couple of runs on it um and yeah I mean it's it's actually turned out really well in the end uh but again takes a long time so although the so you have the same you have gpios on the same pins on the connector you have um uh alternate function the same alternate functions they're a lot there the mux out is the same but the controls themselves are different but we don't expect that to be an issue because the majority of people are interacting with this yeah by libraries abstraction um no doubt there'll probably be some little color cases and bits and pieces but we're really hoping that it's sort of 99.9 percent non-issue there's a little bit of fun around i2s right that the i2s blocks we've got are unidirected to the the old i2s block in in 270x is our bot is a transceiver there's a bi-directional block where what we have is now we have two unidirectional blocks of TX and an RX maxed onto the same pins the idea is that this this will live for quite some time yeah for a long time right yeah you know we won't have to change it again I think a lot of the successor Raspberry Pi has been about not introducing pointless compatibility breaks between you know the continuity of silicon Supply uh you know lots of the architectural decisions staying the same from generation to generation so this this is a a compatibility break but it's a minor compatibility break and it's one compatibility break every 12 years so expect another one in in you know 2036 2035 2036 maybe um yeah this is the expectation is that this rb1 can live for several Generations I mean even if we spin it to change it a bit I suppose we may do you know the logic was structural stuff The Logical structure will say the same we won't be we won't again pointlessly break anything right we'll really try and keep it the same but this was your concept from like 2015 2016. it's effectively a triplet architecture and before the world before triplets were cool uh we were building a Chevrolet we just didn't know it was a chip like then right pretty much yeah we've now someone's come up with the name for it yeah but this idea of putting the right stuff on the right right process note so it's a 40 nanometer chip yeah 49ers just remains a great process for doing analog on right it's I mean it's a good process uh it well it has been a bit constrained but um less so now and it's relatively inexpensive and we're very well understood and we're very familiar with it right so so it's it's work to our favor for sure and if it's the first chip you do you want to do something that you're familiar with but even despite that I think it's the right kind of process to put all this stuff on uh yeah so yeah should we talk about manufacturing briefly uh yeah because there's a big manufacturing one one certainly one big manufacturing uh change what's that that's right so um this has been another thread in the how do we make pie five better how do we make it cheaper how do we make it more reliable how do we make it more reliable so what we have worked uh internally and with Sony LCM partner to do is to so okay when you make a pi 4 or Pi three or all the Legacy stuff you have three big processes uh you have one side of the board where they pick and place components onto so what they do is they take the backboard they silk screen some solder paste which is basically sold little tiny teeny tiny solder balls in flux onto the pads then they use machines to put the components on and then they bake that in an oven which melts the solder and all the kind of stick on it that's the bottom side first bottom side first that's smt like surface mount yeah and then they flip it over and they do the other side in exactly the same way and then the third process the third big uh sort of sold reprocess is what they call wave soldering so none of the through-hole components have been awesome all selector solving yeah and basically we have robots that then put the through-hole components and we've all seen the pictures of them like robots yeah so they are putting the the through-hole connector so USB connectors GPO connectors um largely those and then it goes into a big machine heats the board up and it's squirts older onto those pins which then sort of goes into the holes and then the board comes out and that's it it's kind of done and then it's tested uh and someone looks at it very carefully that's right so the that step hey it's the third step it thermally Cycles the board again but it also it's kind of splashing solver up at the bottom which does increase the defect rate right often we get shorts between the pins which then need to be hand sort of hand reworked um so we generally saw the balls as well it does generate these little teeny tiny solar balls which occasionally you will see on the bottom of a pie now they're kind of Sony have a and this is a standard thing they have a standard for it if it's a certain size then it basically is stuck to the board with solder and it's not going to move and that has that and all and all products and all products do that all products do this and the interesting about our product of course is our product isn't often is often not not in a case yeah and actually even the surface mount can generate solder balls if you get like a little bubble or a sputter it will spit out a tiny bits older so you could never completely eliminate it but what we're doing is we're using the pick and place machines in now in a two process so you do the you do the the bottom side first as before and for the top side you put all your surface mount components on and then the machines have been adapted to then put the through-hole components on so we've both had worked to get the right uh sort of handling for the big components in on the same pick and place machines we use for the small components and also we've worked with the connector manufacturers to adapt the connectors so that they work in a way that you put paste onto the holes at the top put the component on it and then when it goes through the oven that paste melts and sucks down the holes so this is intrusive Reflow we call it intrusive well I mean we call it it's called intrusive Reflow it's not really a new thing but it's not a thing that I think is done very commonly in with the kind of board that we have and if you turn over a pie five and look at it it's really really nice and clean on the bottom and you don't have the pins protruding through they're kind of flat on the board this caused you a bit of trouble so I mean it's been quite a long process to get this to work um you know don't ask underestimate how challenging it was to sort of convince ourselves that it was all going to work so we've done a lot of Trials we built 5000.4s with this technology uh and that taught us that actually um it has its other issues in that um when we test the boards you use sort of sharp pins to probe into the test points and on to some of the pins underneath the board but with intrusive Reflow those pins have changed shape and that is has caused a little bit of test um excitement excitement excitement I think basically you still get flux on the pins but it's well controlled it's sort of over the top of the pin where the soldiers been but that flux is sort of a little slightly different to what you get from the from the wave solder so actually it can um gum up the pins of the tester a bit more so so it's been some fun there the other one is the the the protruding pins also had a mechanical benefit without the feel right that they're protecting the if you imagine you've got all around the around two edges two and a bit edges of the board um you've got you've got pin sticking a millimeter and a bit of pin and then you've got SD cards socket over on the other side so you've actually got you know if you have a component like a crystal or something on it but do we have crystals on the bottom of the body what's left on the bottom of the board it's mostly little capacitors but if you've got components on the bottom of the board they're kind of somehow protected they're kind of in this convex they have a they have kind of a convex shape around them protecting them if you take away those pins all of a sudden the caps on the board are resting on the table when you press it down right yeah we realized once we had the first prototype just like oh dear I don't put your pie four on the table and the thing that's taking all the mashing them into the table so we've put a couple of little metal they're actually designed to be ground test points but they're little metal Hoops sort of where the pins place where the pins used to be on the USB connectors and ethernet connector um and again along with the SD card socket it kind of holds the holds the board off the deck yeah so even if it's uncased you still you know I mean we encourage people to be very gentle with the balls and put them in cases right they're not really designed to be thrown around but it just helps right for a low-cost solution to hopefully reducing people's distress when they smash the thing onto the deck so that's the idea don't smash the thing on the deck don't put it on it you know you put it in a case get a Raspberry Pi case so um the so that's the platform right I mean it's a lot of you know that's that's how you spend 25 that's how you spend 25 million dollars and how many years is that yeah 25 million dollars like an eight sixth of my life you know something like that um you know it's a yeah it's the nice thing about it right it's a Raspberry Pi um but it's the first one where we have really been able to intercept every element of the design knowing that that element is going to go into Raspberry Pi there's no real 270x Legacy in there you know there's there's no uh you know pretty much everything in there is strange even things like the ISBN will do a separate video on the on the camera pipeline but like the ISP you know that's entirely developed at Raspberry Pi um you know pushed into the Brooklyn design it's kind of the most Raspberry Pi Raspberry Pi ever because we've had our hands on everything is very Raspberry Pi and it probably is you know we talked about a compatibility break it probably is we are spending our um yeah this is the most significant architectural overhaul of the platform in its history has moved from kind of a monolithic device to a pair of devices that work together on a decoupled by PCI Express to a chiplet let's just use the modern words and call it triplet design um so yeah it's it's been that's been an Obviously good fun to work on right it's really nice to be launching yeah I mean you know I think a lot of us are going to go lie down yeah for a bit and yeah I mean it was also great that it gives us another chance to talk about what the chip team have been working on right but you know we have a lot of people working at Raspberry Pi on on Silicon um and uh yeah we probably have more people working on Silicon that could be justified but for a longer period it can be justified on RP 2040 is an amazing object but you know it's probably it represents maybe a quarter of the work that the chip team have done since since 2015 and the vast majority of the rest of that is in is in this device as an rp1 I'm amazed that nobody asked I'm going to say it now I'm amazed nobody asked us what rp1 was yeah good when we did rp2 you know RP 2040 has rp2 written on the top of it yeah um rp3a0 the the design for the that we use on zero two has rp3 on top of it and I I did sit there particularly once we did rp3 I did sit there sort of waiting for the inhabitants I think rp3 because it has a pi 3 gen yeah yeah each of them it's kind of confused things which is fine you know rp2 does not stop surprise rp1 exists rp2 does not for RP 2040 rp2 is the second is the second uh the second so it's really nice to be launching this platform with the first one finally we've got it yeah we've got it in the wild and uh yeah excellent well thank you for that well thank you yeah it's everyone going to go lie down there yeah cheers"
      },
      "after": "92637e3a3f8a7602",
      "date": 1696525496200
    }
  ]
}