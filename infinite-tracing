{
  "title": "Infinite Tracing",
  "story": [
    {
      "type": "paragraph",
      "id": "cec5452bd16ffb7f",
      "text": "In an internal presentation [[Erika Arnold]] reminded the audience how this new product solved customer problems with fresh systems architecture. [https://newrelic.com/products/edge-infinite-tracing post]"
    },
    {
      "type": "paragraph",
      "id": "c2b9afb7a4198c5b",
      "text": "A transaction is traced through a network of microservices by assembling the sequence of spans crossed between services. In order to sample, the first service, the head, can mark all subsequent spans as interesting. In tail-based sampling all spans are potentially interesting and only when the tail is encountered is the trace judged important."
    },
    {
      "type": "paragraph",
      "id": "c2473cc4864c7a17",
      "text": "We drew a block diagram showing hypothetical customer services, monitoring agents, and the services to which they would report. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/index.html#infinite-tracing/head%20vs%20tail%20based%20sampling script]"
    },
    {
      "type": "paragraph",
      "id": "7e7007bfee5549a2",
      "text": "We wrote d3 code to animate fabricated transactions reporting spans selecting traces either on the first hop or the last. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/data/infinite-tracing/head-vs-tail.html?sample=head script]"
    },
    {
      "type": "html",
      "id": "bc7ba29095c01f5d",
      "text": "<img width=100% src=http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/data/infinite-tracing/screen.jpg>"
    },
    {
      "type": "paragraph",
      "id": "8487c1a21f2f74b4",
      "text": "No slouch at visualization herself, I encouraged Erika to assemble several elements of our work already in place with the hope of attracting some of her expertise to our projects. We share these files with her permission."
    },
    {
      "type": "assets",
      "id": "5bddb9ae9082c6c6",
      "text": "pages/diagrams-as-base-model/data/infinite-tracing"
    },
    {
      "type": "paragraph",
      "id": "9a8b05161927e9a9",
      "text": "The script includes a simulator that advances computations for spans in flight. "
    },
    {
      "type": "html",
      "id": "7fe546617464321e",
      "text": "<pre>\n{\n  trace: integer,  // passed to each span\n  span: integer,   // new with each hop\n  done: date,      // time to evaporate\n  want: boolean,   // trace to be recorded\n  error: boolean,  // span is interesting\n  route: [.        // paths to be followed\n    {\n      fm: string,  // starting location\n      to: string.  // destination location\n    },\n    ...\n  ]\n}</pre>"
    },
    {
      "type": "paragraph",
      "id": "2a26f8a6506fb43c",
      "text": "See progress toward [[Table-Top Augmented Reality]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Infinite Tracing",
        "story": []
      },
      "date": 1601055694065
    },
    {
      "item": {
        "type": "factory",
        "id": "cec5452bd16ffb7f"
      },
      "id": "cec5452bd16ffb7f",
      "type": "add",
      "date": 1601055725309
    },
    {
      "type": "edit",
      "id": "cec5452bd16ffb7f",
      "item": {
        "type": "paragraph",
        "id": "cec5452bd16ffb7f",
        "text": "In an internal presentation Erika Arnold reminded the audience how this new product solved customer problems with fresh systems architecture."
      },
      "date": 1601055815600
    },
    {
      "type": "edit",
      "id": "cec5452bd16ffb7f",
      "item": {
        "type": "paragraph",
        "id": "cec5452bd16ffb7f",
        "text": "In an internal presentation Erika Arnold reminded the audience how this new product solved customer problems with fresh systems architecture. [https://newrelic.com/products/edge-infinite-tracing post]"
      },
      "date": 1601055833772
    },
    {
      "type": "add",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch a visualization her self, "
      },
      "after": "cec5452bd16ffb7f",
      "date": 1601055972014
    },
    {
      "type": "edit",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch a visualization her self, I encouraged Erika to assemble several elements of our work already in place with the hope of bringing some of her expertise to our projects."
      },
      "date": 1601056262602
    },
    {
      "item": {
        "type": "factory",
        "id": "5bddb9ae9082c6c6"
      },
      "id": "5bddb9ae9082c6c6",
      "type": "add",
      "after": "8487c1a21f2f74b4",
      "date": 1601056277245
    },
    {
      "type": "edit",
      "id": "5bddb9ae9082c6c6",
      "item": {
        "type": "assets",
        "id": "5bddb9ae9082c6c6",
        "text": "pages/infinite-tracing"
      },
      "date": 1601056293956
    },
    {
      "type": "edit",
      "id": "5bddb9ae9082c6c6",
      "item": {
        "type": "assets",
        "id": "5bddb9ae9082c6c6",
        "text": "pages/diagrams-as-base-model/data/infinite-tracing"
      },
      "date": 1601056344993
    },
    {
      "type": "add",
      "id": "c2b9afb7a4198c5b",
      "item": {
        "type": "paragraph",
        "id": "c2b9afb7a4198c5b",
        "text": "A transaction is traced through a network of microservices by assembling the sequence of spans between services crossed. In order to sample, the first service, the head, can mark all subsequent spans as interesting. In tail-based sampling all spans are potentially interesting and only when the tail is encountered is the trace judged important."
      },
      "after": "cec5452bd16ffb7f",
      "date": 1601057185810
    },
    {
      "type": "edit",
      "id": "c2b9afb7a4198c5b",
      "item": {
        "type": "paragraph",
        "id": "c2b9afb7a4198c5b",
        "text": "A transaction is traced through a network of microservices by assembling the sequence of spans crossed between services. In order to sample, the first service, the head, can mark all subsequent spans as interesting. In tail-based sampling all spans are potentially interesting and only when the tail is encountered is the trace judged important."
      },
      "date": 1601057235340
    },
    {
      "type": "add",
      "id": "c2473cc4864c7a17",
      "item": {
        "type": "paragraph",
        "id": "c2473cc4864c7a17",
        "text": "We drew a block diagram showing hypothetical customer services, monitoring agents, and the services to which they would report spans."
      },
      "after": "c2b9afb7a4198c5b",
      "date": 1601057393407
    },
    {
      "type": "edit",
      "id": "c2473cc4864c7a17",
      "item": {
        "type": "paragraph",
        "id": "c2473cc4864c7a17",
        "text": "We drew a block diagram showing hypothetical customer services, monitoring agents, and the services to which they would report."
      },
      "date": 1601057437922
    },
    {
      "type": "edit",
      "id": "c2473cc4864c7a17",
      "item": {
        "type": "paragraph",
        "id": "c2473cc4864c7a17",
        "text": "We drew a block diagram showing hypothetical customer services, monitoring agents, and the services to which they would report. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/index.html#infinite-tracing/head%20vs%20tail%20based%20sampling site]"
      },
      "date": 1601057797005
    },
    {
      "type": "edit",
      "id": "c2473cc4864c7a17",
      "item": {
        "type": "paragraph",
        "id": "c2473cc4864c7a17",
        "text": "We drew a block diagram showing hypothetical customer services, monitoring agents, and the services to which they would report. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/index.html#infinite-tracing/head%20vs%20tail%20based%20sampling script]"
      },
      "date": 1601057829016
    },
    {
      "type": "add",
      "id": "7e7007bfee5549a2",
      "item": {
        "type": "paragraph",
        "id": "7e7007bfee5549a2",
        "text": "We. wrote d3 code to animate fabricated transactions reporting spans selecting traces either on the first hop or the last. "
      },
      "after": "c2473cc4864c7a17",
      "date": 1601058054951
    },
    {
      "type": "edit",
      "id": "7e7007bfee5549a2",
      "item": {
        "type": "paragraph",
        "id": "7e7007bfee5549a2",
        "text": "We. wrote d3 code to animate fabricated transactions reporting spans selecting traces either on the first hop or the last. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/data/infinite-tracing/head-vs-tail.html script]"
      },
      "date": 1601058070937
    },
    {
      "type": "edit",
      "id": "7e7007bfee5549a2",
      "item": {
        "type": "paragraph",
        "id": "7e7007bfee5549a2",
        "text": "We. wrote d3 code to animate fabricated transactions reporting spans selecting traces either on the first hop or the last. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/data/infinite-tracing/head-vs-tail.html?sample=head script]"
      },
      "date": 1601058695464
    },
    {
      "id": "5bddb9ae9082c6c6",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "5bddb9ae9082c6c6",
        "8487c1a21f2f74b4"
      ],
      "date": 1601058732761
    },
    {
      "id": "8487c1a21f2f74b4",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "8487c1a21f2f74b4",
        "5bddb9ae9082c6c6"
      ],
      "date": 1601058949455
    },
    {
      "item": {
        "type": "factory",
        "id": "bc7ba29095c01f5d"
      },
      "id": "bc7ba29095c01f5d",
      "type": "add",
      "after": "5bddb9ae9082c6c6",
      "date": 1601058961943
    },
    {
      "type": "edit",
      "id": "bc7ba29095c01f5d",
      "item": {
        "type": "html",
        "id": "bc7ba29095c01f5d",
        "text": "<img width=100% src=http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/data/infinite-tracing/screen.jpg>"
      },
      "date": 1601058978264
    },
    {
      "id": "bc7ba29095c01f5d",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "8487c1a21f2f74b4",
        "bc7ba29095c01f5d",
        "5bddb9ae9082c6c6"
      ],
      "date": 1601058982205
    },
    {
      "id": "bc7ba29095c01f5d",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "5bddb9ae9082c6c6"
      ],
      "date": 1601058984372
    },
    {
      "type": "edit",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch a visualization herself, I encouraged Erika to assemble several elements of our work already in place with the hope of bringing some of her expertise to our projects."
      },
      "date": 1601059048804
    },
    {
      "type": "edit",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch a visualization herself, I encouraged Erika to assemble several elements of our work already in place with the hope of bringing some of her expertise to our projects. We share these files here with her permission."
      },
      "date": 1601059132810
    },
    {
      "type": "add",
      "id": "2a26f8a6506fb43c",
      "item": {
        "type": "paragraph",
        "id": "2a26f8a6506fb43c",
        "text": "See progress toward [[Table-Top Augmented Reality]]"
      },
      "after": "8487c1a21f2f74b4",
      "date": 1601059418695
    },
    {
      "type": "edit",
      "id": "7e7007bfee5549a2",
      "item": {
        "type": "paragraph",
        "id": "7e7007bfee5549a2",
        "text": "We wrote d3 code to animate fabricated transactions reporting spans selecting traces either on the first hop or the last. [http://simnet.ward.asia.wiki.org/assets/pages/diagrams-as-base-model/data/infinite-tracing/head-vs-tail.html?sample=head script]"
      },
      "date": 1601059831264
    },
    {
      "type": "edit",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch at visualization herself, I encouraged Erika to assemble several elements of our work already in place with the hope of bringing some of her expertise to our projects. We share these files here with her permission."
      },
      "date": 1601059869568
    },
    {
      "type": "edit",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch at visualization herself, I encouraged Erika to assemble several elements of our work already in place with the hope of bringing some of her expertise to our projects. We share these files with her permission."
      },
      "date": 1601059934196
    },
    {
      "type": "edit",
      "id": "8487c1a21f2f74b4",
      "item": {
        "type": "paragraph",
        "id": "8487c1a21f2f74b4",
        "text": "No slouch at visualization herself, I encouraged Erika to assemble several elements of our work already in place with the hope of attracting some of her expertise to our projects. We share these files with her permission."
      },
      "date": 1601060099072
    },
    {
      "item": {
        "type": "factory",
        "id": "faccc552ad6eb367"
      },
      "id": "faccc552ad6eb367",
      "type": "add",
      "after": "5bddb9ae9082c6c6",
      "date": 1601089238209
    },
    {
      "type": "edit",
      "id": "faccc552ad6eb367",
      "item": {
        "type": "markdown",
        "id": "faccc552ad6eb367",
        "text": "```\n  [\n    {\n      trace: integer,  // replicated as flights evolve, used for assembling traces\n      span: integer,   // new with each hop, used for identifying dots in d3\n      done: date,      // real time in milliseconds to evaporate unless extended\n      want: boolean,   // marks trace to be recorded, copied to spans\n      error: boolean,  // marks as interesting in system diagnosis\n      route: [.        // one or more paths to be discarded as consumed\n        {\n          fm: string,  // starting location for one hop\n          to: string.  // destination location for hop\n        },\n        ...\n      ]\n    },\n    ...\n  ]\n```"
      },
      "date": 1601089243959
    },
    {
      "type": "edit",
      "id": "faccc552ad6eb367",
      "item": {
        "type": "markdown",
        "id": "faccc552ad6eb367",
        "text": "```\n[\n  {\n    trace: integer,  // passed to each span\n    span: integer,   // new with each hop\n    done: date,      // time to evaporate\n    want: boolean,   // trace to be recorded\n    error: boolean,  // marks as interesting\n    route: [.        // paths to be consumed\n      {\n        fm: string,  // starting location\n        to: string.  // destination location\n      },\n      ...\n    ]\n  },\n  ...\n]\n```"
      },
      "date": 1601089525300
    },
    {
      "type": "fork",
      "date": 1601089567682
    },
    {
      "item": {
        "type": "factory",
        "id": "7fe546617464321e"
      },
      "id": "7fe546617464321e",
      "type": "add",
      "after": "faccc552ad6eb367",
      "date": 1601089658550
    },
    {
      "type": "edit",
      "id": "7fe546617464321e",
      "item": {
        "type": "html",
        "id": "7fe546617464321e",
        "text": "<pre>\n[\n  {\n    trace: integer,  // passed to each span\n    span: integer,   // new with each hop\n    done: date,      // time to evaporate\n    want: boolean,   // trace to be recorded\n    error: boolean,  // marks as interesting\n    route: [.        // paths to be consumed\n      {\n        fm: string,  // starting location\n        to: string.  // destination location\n      },\n      ...\n    ]\n  },\n  ...\n]\n</pre>"
      },
      "date": 1601089677915
    },
    {
      "type": "remove",
      "id": "faccc552ad6eb367",
      "date": 1601089686276
    },
    {
      "type": "edit",
      "id": "7fe546617464321e",
      "item": {
        "type": "html",
        "id": "7fe546617464321e",
        "text": "<pre>\n{\n  trace: integer,  // passed to each span\n  span: integer,   // new with each hop\n  done: date,      // time to evaporate\n  want: boolean,   // trace to be recorded\n  error: boolean,  // marks as interesting\n  route: [.        // paths to be consumed\n    {\n      fm: string,  // starting location\n      to: string.  // destination location\n    },\n    ...\n  ]\n}</pre>"
      },
      "date": 1601089755136
    },
    {
      "item": {
        "type": "factory",
        "id": "9a8b05161927e9a9"
      },
      "id": "9a8b05161927e9a9",
      "type": "add",
      "after": "7fe546617464321e",
      "date": 1601089788354
    },
    {
      "type": "edit",
      "id": "9a8b05161927e9a9",
      "item": {
        "type": "paragraph",
        "id": "9a8b05161927e9a9",
        "text": "The script includes a simulator that advances computations for spans in flight. "
      },
      "date": 1601089874432
    },
    {
      "id": "9a8b05161927e9a9",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "2a26f8a6506fb43c",
        "5bddb9ae9082c6c6",
        "9a8b05161927e9a9",
        "7fe546617464321e"
      ],
      "date": 1601089877295
    },
    {
      "id": "9a8b05161927e9a9",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "9a8b05161927e9a9",
        "2a26f8a6506fb43c",
        "5bddb9ae9082c6c6",
        "7fe546617464321e"
      ],
      "date": 1601089889376
    },
    {
      "id": "7fe546617464321e",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "9a8b05161927e9a9",
        "7fe546617464321e",
        "2a26f8a6506fb43c",
        "5bddb9ae9082c6c6"
      ],
      "date": 1601089891722
    },
    {
      "id": "2a26f8a6506fb43c",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "9a8b05161927e9a9",
        "7fe546617464321e",
        "5bddb9ae9082c6c6",
        "2a26f8a6506fb43c"
      ],
      "date": 1601089900602
    },
    {
      "id": "9a8b05161927e9a9",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "7fe546617464321e",
        "5bddb9ae9082c6c6",
        "9a8b05161927e9a9",
        "2a26f8a6506fb43c"
      ],
      "date": 1601301314671
    },
    {
      "id": "7fe546617464321e",
      "type": "move",
      "order": [
        "cec5452bd16ffb7f",
        "c2b9afb7a4198c5b",
        "c2473cc4864c7a17",
        "7e7007bfee5549a2",
        "bc7ba29095c01f5d",
        "8487c1a21f2f74b4",
        "5bddb9ae9082c6c6",
        "9a8b05161927e9a9",
        "7fe546617464321e",
        "2a26f8a6506fb43c"
      ],
      "date": 1601301322268
    },
    {
      "type": "edit",
      "id": "7fe546617464321e",
      "item": {
        "type": "html",
        "id": "7fe546617464321e",
        "text": "<pre>\n{\n  trace: integer,  // passed to each span\n  span: integer,   // new with each hop\n  done: date,      // time to evaporate\n  want: boolean,   // trace to be recorded\n  error: boolean,  // span is interesting\n  route: [.        // paths to be followed\n    {\n      fm: string,  // starting location\n      to: string.  // destination location\n    },\n    ...\n  ]\n}</pre>"
      },
      "date": 1601304384455
    },
    {
      "type": "fork",
      "site": "simnet.ward.asia.wiki.org",
      "date": 1660417302494
    },
    {
      "type": "edit",
      "id": "cec5452bd16ffb7f",
      "item": {
        "type": "paragraph",
        "id": "cec5452bd16ffb7f",
        "text": "In an internal presentation [[Erika Arnold]] reminded the audience how this new product solved customer problems with fresh systems architecture. [https://newrelic.com/products/edge-infinite-tracing post]"
      },
      "date": 1661074818224
    }
  ]
}