{
  "title": "Organize Code in Packages",
  "story": [
    {
      "type": "paragraph",
      "id": "9cc7f7417aa545de",
      "text": "We'll organize and distribute federated wiki code as a series of npm packages backed up by github repos. Here are principles we'll expect to follow."
    },
    {
      "type": "paragraph",
      "id": "cfe0eae51e07d7d3",
      "text": "See [[Release Process]]"
    },
    {
      "type": "html",
      "id": "9b683c2322336f3c",
      "text": "<h3> Current"
    },
    {
      "type": "paragraph",
      "id": "3aff421be8c404e3",
      "text": "The client expects to retrieve plugins from specific routes dynamically: /plugins/name/name.js"
    },
    {
      "type": "paragraph",
      "id": "e10a1603df2d1df8",
      "text": "A few core plugins are built into the client code. See plugins.coffee"
    },
    {
      "type": "paragraph",
      "id": "f0455c65bc168e42",
      "text": "Construct factory menu from json found in plugins."
    },
    {
      "type": "html",
      "id": "f55d6de16c5f2ecb",
      "text": "<h3> Goal"
    },
    {
      "type": "paragraph",
      "id": "a736780dc36baf1a",
      "text": "Each package will publish js in npm and source in github. Of course if the source is js, then they will be the same files."
    },
    {
      "type": "paragraph",
      "id": "8e1714a745513e68",
      "text": "Goal: We could build an integrated plugin download but haven't done that yet. We could bundle them with browserify and share libs with require."
    },
    {
      "type": "paragraph",
      "id": "ef26900be0a98dff",
      "text": "Goal: Individual operators can trivially build, test and publish a new plugin on github and/or npm, maybe without rebuilding any core js files."
    },
    {
      "type": "html",
      "id": "da47e3a5336aa2c0",
      "text": "<h3> Strategy"
    },
    {
      "type": "paragraph",
      "id": "02269a880d2c63cb",
      "text": "Replace plugins in server repos with git clone. ✔"
    },
    {
      "type": "paragraph",
      "id": "f103c58201deace2",
      "text": "Move plugins to its own repo. ✔"
    },
    {
      "type": "paragraph",
      "id": "b505e8e22c414069",
      "text": "Publish plugins as wiki-plugins. ✔"
    },
    {
      "type": "paragraph",
      "id": "98f819e01f81e658",
      "text": "Servers will use package.json to retrieve bulk plugins. ✔"
    },
    {
      "type": "paragraph",
      "id": "8eeb08c5187d68ac",
      "text": "We could extract files from node_modules/wiki-plugins and put them were expected. ✘"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Organize Code in Packages",
        "story": []
      },
      "date": 1385340986695
    },
    {
      "item": {
        "type": "factory",
        "id": "9cc7f7417aa545de"
      },
      "id": "9cc7f7417aa545de",
      "type": "add",
      "date": 1385340988462
    },
    {
      "type": "edit",
      "id": "9cc7f7417aa545de",
      "item": {
        "type": "paragraph",
        "id": "9cc7f7417aa545de",
        "text": "We'll organize and distribute federated wiki code as a series of npm packages backed up by github repos. Here are principles we'll expect to follow."
      },
      "date": 1385341044994
    },
    {
      "item": {
        "type": "paragraph",
        "id": "a736780dc36baf1a",
        "text": ""
      },
      "id": "a736780dc36baf1a",
      "type": "add",
      "after": "9cc7f7417aa545de",
      "date": 1385341045502
    },
    {
      "type": "edit",
      "id": "a736780dc36baf1a",
      "item": {
        "type": "paragraph",
        "id": "a736780dc36baf1a",
        "text": "Each package will publish js in npm and source in github. Of course if the source is js, then they will be the same files."
      },
      "date": 1385341108405
    },
    {
      "item": {
        "type": "paragraph",
        "id": "cfe0eae51e07d7d3",
        "text": ""
      },
      "id": "cfe0eae51e07d7d3",
      "type": "add",
      "after": "9cc7f7417aa545de",
      "date": 1385341140311
    },
    {
      "type": "edit",
      "id": "cfe0eae51e07d7d3",
      "item": {
        "type": "paragraph",
        "id": "cfe0eae51e07d7d3",
        "text": "See [[Release Process]]"
      },
      "date": 1385341144754
    },
    {
      "item": {
        "type": "paragraph",
        "id": "3aff421be8c404e3",
        "text": ""
      },
      "id": "3aff421be8c404e3",
      "type": "add",
      "after": "a736780dc36baf1a",
      "date": 1385341203885
    },
    {
      "type": "edit",
      "id": "3aff421be8c404e3",
      "item": {
        "type": "paragraph",
        "id": "3aff421be8c404e3",
        "text": "The client expects to retrieve plugins from specific routes dynamically: /plugins/name/name.js"
      },
      "date": 1385341294380
    },
    {
      "item": {
        "type": "paragraph",
        "id": "8e1714a745513e68",
        "text": ""
      },
      "id": "8e1714a745513e68",
      "type": "add",
      "after": "3aff421be8c404e3",
      "date": 1385341294886
    },
    {
      "type": "edit",
      "id": "8e1714a745513e68",
      "item": {
        "type": "paragraph",
        "id": "8e1714a745513e68",
        "text": "We could build an integrated plugin download but haven't done that yet."
      },
      "date": 1385341366230
    },
    {
      "item": {
        "type": "paragraph",
        "id": "e10a1603df2d1df8",
        "text": ""
      },
      "id": "e10a1603df2d1df8",
      "type": "add",
      "after": "8e1714a745513e68",
      "date": 1385341366736
    },
    {
      "type": "edit",
      "id": "e10a1603df2d1df8",
      "item": {
        "type": "paragraph",
        "id": "e10a1603df2d1df8",
        "text": "A few core plugins are built into the client code. See plugins.coffee"
      },
      "date": 1385341391860
    },
    {
      "type": "edit",
      "id": "8e1714a745513e68",
      "item": {
        "type": "paragraph",
        "id": "8e1714a745513e68",
        "text": "We could build an integrated plugin download but haven't done that yet. We could bundle them with browserify and share libs with require."
      },
      "date": 1385341500696
    },
    {
      "type": "edit",
      "id": "8e1714a745513e68",
      "item": {
        "type": "paragraph",
        "id": "8e1714a745513e68",
        "text": "Goal: We could build an integrated plugin download but haven't done that yet. We could bundle them with browserify and share libs with require."
      },
      "date": 1385341508671
    },
    {
      "type": "edit",
      "id": "3aff421be8c404e3",
      "item": {
        "type": "paragraph",
        "id": "3aff421be8c404e3",
        "text": "Current: The client expects to retrieve plugins from specific routes dynamically: /plugins/name/name.js"
      },
      "date": 1385341520514
    },
    {
      "type": "edit",
      "id": "e10a1603df2d1df8",
      "item": {
        "type": "paragraph",
        "id": "e10a1603df2d1df8",
        "text": "Current: A few core plugins are built into the client code. See plugins.coffee"
      },
      "date": 1385341527878
    },
    {
      "type": "move",
      "order": [
        "9cc7f7417aa545de",
        "cfe0eae51e07d7d3",
        "a736780dc36baf1a",
        "3aff421be8c404e3",
        "e10a1603df2d1df8",
        "8e1714a745513e68"
      ],
      "id": "e10a1603df2d1df8",
      "date": 1385341530964
    },
    {
      "item": {
        "type": "paragraph",
        "id": "ef26900be0a98dff",
        "text": ""
      },
      "id": "ef26900be0a98dff",
      "type": "add",
      "after": "8e1714a745513e68",
      "date": 1385341537055
    },
    {
      "type": "edit",
      "id": "ef26900be0a98dff",
      "item": {
        "type": "paragraph",
        "id": "ef26900be0a98dff",
        "text": "Goal: Individual operators can trivially build, test and publish a new plugin on github and/or npm, maybe without rebuilding any core js files."
      },
      "date": 1385341639814
    },
    {
      "type": "move",
      "order": [
        "9cc7f7417aa545de",
        "cfe0eae51e07d7d3",
        "3aff421be8c404e3",
        "e10a1603df2d1df8",
        "a736780dc36baf1a",
        "8e1714a745513e68",
        "ef26900be0a98dff"
      ],
      "id": "a736780dc36baf1a",
      "date": 1385341666792
    },
    {
      "item": {
        "type": "paragraph",
        "id": "9b683c2322336f3c",
        "text": ""
      },
      "id": "9b683c2322336f3c",
      "type": "add",
      "after": "cfe0eae51e07d7d3",
      "date": 1385341669918
    },
    {
      "type": "edit",
      "id": "9b683c2322336f3c",
      "item": {
        "type": "paragraph",
        "id": "9b683c2322336f3c",
        "text": "<h3> Current"
      },
      "date": 1385341675897
    },
    {
      "item": {
        "type": "paragraph",
        "id": "f55d6de16c5f2ecb",
        "text": ""
      },
      "id": "f55d6de16c5f2ecb",
      "type": "add",
      "after": "a736780dc36baf1a",
      "date": 1385341679600
    },
    {
      "type": "edit",
      "id": "f55d6de16c5f2ecb",
      "item": {
        "type": "paragraph",
        "id": "f55d6de16c5f2ecb",
        "text": "<h3> Goal"
      },
      "date": 1385341683348
    },
    {
      "type": "move",
      "order": [
        "9cc7f7417aa545de",
        "cfe0eae51e07d7d3",
        "9b683c2322336f3c",
        "3aff421be8c404e3",
        "e10a1603df2d1df8",
        "f55d6de16c5f2ecb",
        "a736780dc36baf1a",
        "8e1714a745513e68",
        "ef26900be0a98dff"
      ],
      "id": "a736780dc36baf1a",
      "date": 1385341694737
    },
    {
      "item": {
        "type": "paragraph",
        "id": "da47e3a5336aa2c0",
        "text": ""
      },
      "id": "da47e3a5336aa2c0",
      "type": "add",
      "after": "ef26900be0a98dff",
      "date": 1385341767133
    },
    {
      "type": "edit",
      "id": "da47e3a5336aa2c0",
      "item": {
        "type": "paragraph",
        "id": "da47e3a5336aa2c0",
        "text": "<h3> Strategy"
      },
      "date": 1385341773279
    },
    {
      "item": {
        "type": "paragraph",
        "id": "f103c58201deace2",
        "text": ""
      },
      "id": "f103c58201deace2",
      "type": "add",
      "after": "da47e3a5336aa2c0",
      "date": 1385341773785
    },
    {
      "type": "edit",
      "id": "f103c58201deace2",
      "item": {
        "type": "paragraph",
        "id": "f103c58201deace2",
        "text": "Move plugins to its own repo."
      },
      "date": 1385341787452
    },
    {
      "item": {
        "type": "paragraph",
        "id": "b505e8e22c414069",
        "text": ""
      },
      "id": "b505e8e22c414069",
      "type": "add",
      "after": "f103c58201deace2",
      "date": 1385341787957
    },
    {
      "type": "edit",
      "id": "b505e8e22c414069",
      "item": {
        "type": "paragraph",
        "id": "b505e8e22c414069",
        "text": "Publish plugins as wiki-plugins."
      },
      "date": 1385341807785
    },
    {
      "item": {
        "type": "paragraph",
        "id": "98f819e01f81e658",
        "text": ""
      },
      "id": "98f819e01f81e658",
      "type": "add",
      "after": "b505e8e22c414069",
      "date": 1385341808305
    },
    {
      "type": "edit",
      "id": "98f819e01f81e658",
      "item": {
        "type": "paragraph",
        "id": "98f819e01f81e658",
        "text": "Servers will use package.json to retrieve bulk plugins."
      },
      "date": 1385341871611
    },
    {
      "item": {
        "type": "paragraph",
        "id": "40f8f1cf32bc050b",
        "text": ""
      },
      "id": "40f8f1cf32bc050b",
      "type": "add",
      "after": "98f819e01f81e658",
      "date": 1385341872116
    },
    {
      "type": "remove",
      "id": "40f8f1cf32bc050b",
      "date": 1385341948220
    },
    {
      "item": {
        "type": "paragraph",
        "id": "f0455c65bc168e42",
        "text": ""
      },
      "id": "f0455c65bc168e42",
      "type": "add",
      "after": "e10a1603df2d1df8",
      "date": 1385342533591
    },
    {
      "type": "edit",
      "id": "f0455c65bc168e42",
      "item": {
        "type": "paragraph",
        "id": "f0455c65bc168e42",
        "text": "Construct factory menu from json found in plugins."
      },
      "date": 1385342552342
    },
    {
      "type": "edit",
      "id": "e10a1603df2d1df8",
      "item": {
        "type": "paragraph",
        "id": "e10a1603df2d1df8",
        "text": "A few core plugins are built into the client code. See plugins.coffee"
      },
      "date": 1385342559984
    },
    {
      "type": "edit",
      "id": "3aff421be8c404e3",
      "item": {
        "type": "paragraph",
        "id": "3aff421be8c404e3",
        "text": "The client expects to retrieve plugins from specific routes dynamically: /plugins/name/name.js"
      },
      "date": 1385342566739
    },
    {
      "item": {
        "type": "paragraph",
        "id": "8eeb08c5187d68ac",
        "text": ""
      },
      "id": "8eeb08c5187d68ac",
      "type": "add",
      "after": "98f819e01f81e658",
      "date": 1385342594398
    },
    {
      "type": "edit",
      "id": "8eeb08c5187d68ac",
      "item": {
        "type": "paragraph",
        "id": "8eeb08c5187d68ac",
        "text": "We could extract files from node_modules/wiki-plugins and put them were expected."
      },
      "date": 1385342632195
    },
    {
      "type": "edit",
      "id": "f103c58201deace2",
      "item": {
        "type": "paragraph",
        "id": "f103c58201deace2",
        "text": "Move plugins to its own repo. ✔"
      },
      "date": 1385354434885
    },
    {
      "item": {
        "type": "paragraph",
        "id": "02269a880d2c63cb",
        "text": ""
      },
      "id": "02269a880d2c63cb",
      "type": "add",
      "after": "f103c58201deace2",
      "date": 1385354457123
    },
    {
      "type": "edit",
      "id": "02269a880d2c63cb",
      "item": {
        "type": "paragraph",
        "id": "02269a880d2c63cb",
        "text": "Replace plugins in server repos with git clone. ✔"
      },
      "date": 1385354606254
    },
    {
      "type": "move",
      "order": [
        "9cc7f7417aa545de",
        "cfe0eae51e07d7d3",
        "9b683c2322336f3c",
        "3aff421be8c404e3",
        "e10a1603df2d1df8",
        "f0455c65bc168e42",
        "f55d6de16c5f2ecb",
        "a736780dc36baf1a",
        "8e1714a745513e68",
        "ef26900be0a98dff",
        "da47e3a5336aa2c0",
        "02269a880d2c63cb",
        "f103c58201deace2",
        "b505e8e22c414069",
        "98f819e01f81e658",
        "8eeb08c5187d68ac"
      ],
      "id": "02269a880d2c63cb",
      "date": 1416706721231
    },
    {
      "type": "edit",
      "id": "b505e8e22c414069",
      "item": {
        "type": "paragraph",
        "id": "b505e8e22c414069",
        "text": "Publish plugins as wiki-plugins. ✔"
      },
      "date": 1416706735979
    },
    {
      "type": "edit",
      "id": "98f819e01f81e658",
      "item": {
        "type": "paragraph",
        "id": "98f819e01f81e658",
        "text": "Servers will use package.json to retrieve bulk plugins. ✔"
      },
      "date": 1416706751897
    },
    {
      "type": "edit",
      "id": "8eeb08c5187d68ac",
      "item": {
        "type": "paragraph",
        "id": "8eeb08c5187d68ac",
        "text": "We could extract files from node_modules/wiki-plugins and put them were expected. ✘"
      },
      "date": 1416706913199
    },
    {
      "type": "edit",
      "id": "9b683c2322336f3c",
      "item": {
        "type": "html",
        "id": "9b683c2322336f3c",
        "text": "<h3> Current"
      },
      "date": 1420345879277
    },
    {
      "type": "edit",
      "id": "f55d6de16c5f2ecb",
      "item": {
        "type": "html",
        "id": "f55d6de16c5f2ecb",
        "text": "<h3> Goal"
      },
      "date": 1420345881981
    },
    {
      "type": "edit",
      "id": "da47e3a5336aa2c0",
      "item": {
        "type": "html",
        "id": "da47e3a5336aa2c0",
        "text": "<h3> Strategy"
      },
      "date": 1420345884272
    },
    {
      "type": "fork",
      "site": "ward.fed.wiki.org",
      "date": 1707738314990
    }
  ]
}