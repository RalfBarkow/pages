{
  "title": "Read Sources from Lineup",
  "story": [
    {
      "type": "paragraph",
      "id": "54a39b1ea079b8c4",
      "text": "Explain what this code does."
    },
    {
      "type": "code",
      "id": "c8963fb39e7da82f",
      "text": "  function sources(topic) {\n    const action = 'requestSourceData'\n    return new Promise(resolve => {\n      let fn = event => {\n        let {data} = event\n        if (!data.action == action) return\n        window.removeEventListener('message', fn)\n        resolve(data.sources)\n      }\n      window.addEventListener('message', fn)\n      window.parent.postMessage({action, topic},\"*\")\n    })\n  }"
    },
    {
      "type": "code",
      "id": "4ec46c57b64fcc51",
      "text": "  const doit = async () => {\n    let res = await sources('marker')\n    let json = JSON.stringify(res,null,2)\n    output.innerHTML = `<pre>${json}</pre>`\n  }\n  doit()"
    },
    {
      "type": "frame",
      "id": "777ff878d8f1cc7e",
      "text": "http://js.ward.asia.wiki.org/assets/pages/snippet-template/basicjs.html?snippet-template\nHEIGHT 200"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Read Sources from Lineup",
        "story": [
          {
            "type": "paragraph",
            "id": "54a39b1ea079b8c4",
            "text": "Explain what this code does."
          },
          {
            "type": "code",
            "id": "c8963fb39e7da82f",
            "text": "2 + 3"
          },
          {
            "type": "frame",
            "id": "777ff878d8f1cc7e",
            "text": "http://js.ward.asia.wiki.org/assets/pages/snippet-template/basicjs.html?snippet-template\nHEIGHT 200"
          }
        ]
      },
      "date": 1629403381728
    },
    {
      "type": "edit",
      "id": "c8963fb39e7da82f",
      "item": {
        "type": "code",
        "id": "c8963fb39e7da82f",
        "text": "  function sources(topic) {\n    const action = 'requestSourceData'\n    return new Promise(resolve => {\n      let handler = event => {\n        let {data} = event\n        if (!data.action == action) return\n        window.removeEventListener('message',handler)\n        resolve(data.sources)\n      }\n      window.addEventListener('message',handler)\n      window.parent.postMessage({action, topic},\"*\")\n    })\n  }"
      },
      "date": 1629403392798
    },
    {
      "item": {
        "type": "factory",
        "id": "4ec46c57b64fcc51"
      },
      "id": "4ec46c57b64fcc51",
      "type": "add",
      "after": "777ff878d8f1cc7e",
      "date": 1629403416091
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "sources('assets')"
      },
      "date": 1629403442555
    },
    {
      "id": "4ec46c57b64fcc51",
      "type": "move",
      "order": [
        "54a39b1ea079b8c4",
        "c8963fb39e7da82f",
        "4ec46c57b64fcc51",
        "777ff878d8f1cc7e"
      ],
      "date": 1629403446331
    },
    {
      "item": {
        "type": "factory",
        "id": "1502c862fb42ba0e"
      },
      "id": "1502c862fb42ba0e",
      "type": "add",
      "after": "777ff878d8f1cc7e",
      "date": 1629403490385
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "Source for Markers."
      },
      "date": 1629403510556
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "LOCATE\nSource for Markers."
      },
      "date": 1629403587719
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers."
      },
      "date": 1629403620952
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States"
      },
      "date": 1629403632806
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States\n5.7642062, -73.3750918 Boulder, Cómbita, Centro, Boyacá, Región Andina, Colombia"
      },
      "date": 1629403644568
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States\n5.7642062, -73.3750918 Boulder, Cómbita, Centro, Boyacá, Región Andina, Colombia\n40.1025550, -105.3632079 Boulder County, Colorado, United States"
      },
      "date": 1629403658792
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States\n40.1025550, -105.3632079 Boulder County, Colorado, United States"
      },
      "date": 1629403683793
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States\n40.1025550, -105.3632079 Boulder County, Colorado, United States\n20.6758325, -129.4038391"
      },
      "date": 1629403715422
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States\n40.1025550, -105.3632079 Boulder County, Colorado, United States\n20.6758325, -129.4038391\n55.6427241, -61.0002136"
      },
      "date": 1629403723255
    },
    {
      "type": "edit",
      "id": "1502c862fb42ba0e",
      "item": {
        "type": "map",
        "id": "1502c862fb42ba0e",
        "text": "SEARCH\nSource for Markers.\n45.5202471, -122.6741949 Portland, Multnomah County, Oregon, United States\n40.1025550, -105.3632079 Boulder County, Colorado, United States\nBOUNDARY 20.6758325, -129.4038391\nBOUNDARY 55.6427241, -61.0002136"
      },
      "date": 1629403741040
    },
    {
      "id": "1502c862fb42ba0e",
      "type": "move",
      "order": [
        "54a39b1ea079b8c4",
        "c8963fb39e7da82f",
        "1502c862fb42ba0e",
        "4ec46c57b64fcc51",
        "777ff878d8f1cc7e"
      ],
      "date": 1629403748329
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "sources('markers')"
      },
      "date": 1629403765016
    },
    {
      "id": "1502c862fb42ba0e",
      "type": "move",
      "order": [
        "54a39b1ea079b8c4",
        "1502c862fb42ba0e",
        "c8963fb39e7da82f",
        "4ec46c57b64fcc51",
        "777ff878d8f1cc7e"
      ],
      "date": 1629403782589
    },
    {
      "id": "1502c862fb42ba0e",
      "type": "remove",
      "date": 1629403812975
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  sources('markers')"
      },
      "date": 1629404062394
    },
    {
      "type": "edit",
      "id": "c8963fb39e7da82f",
      "item": {
        "type": "code",
        "id": "c8963fb39e7da82f",
        "text": "  function sources(topic) {\n    const action = 'requestSourceData'\n    return new Promise(resolve => {\n      let handler = event => {\n        let {data} = event\n        if (!data.action == action) return\n        window.removeEventListener ('message',handler)\n        resolve(data.sources)\n      }\n      window.addEventListener('message',handler)\n      window.parent.postMessage({action, topic},\"*\")\n    })\n  }"
      },
      "date": 1629404109747
    },
    {
      "type": "edit",
      "id": "c8963fb39e7da82f",
      "item": {
        "type": "code",
        "id": "c8963fb39e7da82f",
        "text": "  function sources(topic) {\n    const action = 'requestSourceData'\n    return new Promise(resolve => {\n      let handler = event => {\n        let {data} = event\n        if (!data.action == action) return\n        window.removeEventListener('message', handler)\n        resolve(data.sources)\n      }\n      window.addEventListener('message',handler)\n      window.parent.postMessage({action, topic},\"*\")\n    })\n  }"
      },
      "date": 1629404122248
    },
    {
      "type": "edit",
      "id": "c8963fb39e7da82f",
      "item": {
        "type": "code",
        "id": "c8963fb39e7da82f",
        "text": "  function sources(topic) {\n    const action = 'requestSourceData'\n    return new Promise(resolve => {\n      let fn = event => {\n        let {data} = event\n        if (!data.action == action) return\n        window.removeEventListener('message', fn)\n        resolve(data.sources)\n      }\n      window.addEventListener('message',fn)\n      window.parent.postMessage({action, topic},\"*\")\n    })\n  }"
      },
      "date": 1629404195212
    },
    {
      "type": "edit",
      "id": "c8963fb39e7da82f",
      "item": {
        "type": "code",
        "id": "c8963fb39e7da82f",
        "text": "  function sources(topic) {\n    const action = 'requestSourceData'\n    return new Promise(resolve => {\n      let fn = event => {\n        let {data} = event\n        if (!data.action == action) return\n        window.removeEventListener('message', fn)\n        resolve(data.sources)\n      }\n      window.addEventListener('message', fn)\n      window.parent.postMessage({action, topic},\"*\")\n    })\n  }"
      },
      "date": 1629404201615
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  await sources('markers')"
      },
      "date": 1629404287211
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  const doit = async () =>\n    output.innerText = await sources('markers')\n  doit()"
      },
      "date": 1629404434247
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  const doit = async () => {\n    let sources = await sources('markers')\n    inn\n  doit()"
      },
      "date": 1629404474242
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  const doit = async () => {\n    let sources = await sources('markers')\n    let json = JSON.stringify(sources,null,2)\n    output.innerHTML = `<pre>${json}</pre>`\n  doit()"
      },
      "date": 1629404543148
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  const doit = async () => {\n    let sources = await sources('markers')\n    let json = JSON.stringify(sources,null,2)\n    output.innerHTML = `<pre>${json}</pre>`\n  }\n  doit()"
      },
      "date": 1629404555865
    },
    {
      "id": "4ec46c57b64fcc51",
      "type": "move",
      "order": [
        "54a39b1ea079b8c4",
        "4ec46c57b64fcc51",
        "c8963fb39e7da82f",
        "777ff878d8f1cc7e"
      ],
      "date": 1629404625224
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  const doit = async () => {\n    let res = await sources('markers')\n    let json = JSON.stringify(res,null,2)\n    output.innerHTML = `<pre>${json}</pre>`\n  }\n  doit()"
      },
      "date": 1629404648924
    },
    {
      "id": "4ec46c57b64fcc51",
      "type": "move",
      "order": [
        "54a39b1ea079b8c4",
        "c8963fb39e7da82f",
        "4ec46c57b64fcc51",
        "777ff878d8f1cc7e"
      ],
      "date": 1629404667480
    },
    {
      "type": "edit",
      "id": "4ec46c57b64fcc51",
      "item": {
        "type": "code",
        "id": "4ec46c57b64fcc51",
        "text": "  const doit = async () => {\n    let res = await sources('marker')\n    let json = JSON.stringify(res,null,2)\n    output.innerHTML = `<pre>${json}</pre>`\n  }\n  doit()"
      },
      "date": 1629404680656
    },
    {
      "type": "fork",
      "site": "js.ward.asia.wiki.org",
      "date": 1629450349968
    }
  ]
}