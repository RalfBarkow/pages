{
  "title": "Compose HTML",
  "story": [
    {
      "type": "paragraph",
      "id": "1d6bed1705036ac7",
      "text": "This [[HTML]] source code file contains a button that triggers two different functions when clicked: \"dopreview(event)\" and \"dodownload(event)\". It also includes a JavaScript script enclosed in <script> tags with the attribute type=\"module\"."
    },
    {
      "type": "paragraph",
      "id": "c7e8b1f0776e133d",
      "text": "The JavaScript code imports a module named frame from the URL 'http://code.fed.wiki/assets/v1/frame.js'. It defines a function called asSlug that takes a title as input and converts it into a slug format by replacing spaces with hyphens and removing non-alphanumeric characters."
    },
    {
      "type": "paragraph",
      "id": "08e969bc61688973",
      "text": "The script then creates two global functions, dopreview and dodownload, which are triggered by the respective button clicks."
    },
    {
      "type": "paragraph",
      "id": "827f197e9594bc01",
      "text": "The dopreview function uses the imported frame module to retrieve the current page and its content. It creates a preview of an article by generating an HTML structure that includes the page title, the page's story content (converted to HTML using the body function), and a link back to the index page. The frame.open function is called to open the generated HTML in a new window or tab, depending on whether the shift key is pressed during the button click event.\n\n"
    },
    {
      "type": "paragraph",
      "id": "89482cc47de42e4f",
      "text": "The dodownload function also retrieves the current page content using the frame module. It generates an HTML structure similar to the preview, but instead of opening it in a new window, it creates a downloadable file. The file name is derived from the page title by converting it to a slug format using the asSlug function. The frame.download function is called to initiate the download of the generated HTML file."
    },
    {
      "type": "paragraph",
      "id": "79642d8eb8f9c099",
      "text": "The script also includes several helper functions. The html function takes a page object as input and generates the HTML structure for the preview or download. The body function takes the story array from the page object and converts it into HTML using the elem function for each item in the array. The elem function generates HTML markup based on the type of the item, including paragraphs and raw HTML. The escape function is used to escape special characters in text by replacing < with &LT;."
    },
    {
      "type": "paragraph",
      "id": "a66d725d0bf511a7",
      "text": "Overall, this code creates a simple HTML page with two buttons that allow users to preview and download an article. The preview displays the article's content in a new window, while the download generates an HTML file with the article's content that can be saved locally."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Compose HTML",
        "story": []
      },
      "date": 1684931833297
    },
    {
      "item": {
        "type": "factory",
        "id": "1d6bed1705036ac7"
      },
      "id": "1d6bed1705036ac7",
      "type": "add",
      "date": 1684931844957
    },
    {
      "type": "edit",
      "id": "1d6bed1705036ac7",
      "item": {
        "type": "paragraph",
        "id": "1d6bed1705036ac7",
        "text": "This HTML source code file contains a button that triggers two different functions when clicked: \"dopreview(event)\" and \"dodownload(event)\". It also includes a JavaScript script enclosed in <script> tags with the attribute type=\"module\"."
      },
      "date": 1684931846620
    },
    {
      "item": {
        "type": "factory",
        "id": "c7e8b1f0776e133d"
      },
      "id": "c7e8b1f0776e133d",
      "type": "add",
      "after": "1d6bed1705036ac7",
      "date": 1684931865377
    },
    {
      "type": "edit",
      "id": "c7e8b1f0776e133d",
      "item": {
        "type": "paragraph",
        "id": "c7e8b1f0776e133d",
        "text": "The JavaScript code imports a module named frame from the URL 'http://code.fed.wiki/assets/v1/frame.js'. It defines a function called asSlug that takes a title as input and converts it into a slug format by replacing spaces with hyphens and removing non-alphanumeric characters."
      },
      "date": 1684931866960
    },
    {
      "type": "edit",
      "id": "1d6bed1705036ac7",
      "item": {
        "type": "paragraph",
        "id": "1d6bed1705036ac7",
        "text": "This [[HTML]] source code file contains a button that triggers two different functions when clicked: \"dopreview(event)\" and \"dodownload(event)\". It also includes a JavaScript script enclosed in <script> tags with the attribute type=\"module\"."
      },
      "date": 1684932016786
    },
    {
      "item": {
        "type": "factory",
        "id": "08e969bc61688973"
      },
      "id": "08e969bc61688973",
      "type": "add",
      "after": "c7e8b1f0776e133d",
      "date": 1684932050355
    },
    {
      "type": "edit",
      "id": "08e969bc61688973",
      "item": {
        "type": "paragraph",
        "id": "08e969bc61688973",
        "text": "The script then creates two global functions, dopreview and dodownload, which are triggered by the respective button clicks."
      },
      "date": 1684932051958
    },
    {
      "item": {
        "type": "factory",
        "id": "827f197e9594bc01"
      },
      "id": "827f197e9594bc01",
      "type": "add",
      "after": "08e969bc61688973",
      "date": 1684932075884
    },
    {
      "type": "edit",
      "id": "827f197e9594bc01",
      "item": {
        "type": "paragraph",
        "id": "827f197e9594bc01",
        "text": "The dopreview function uses the imported frame module to retrieve the current page and its content. It creates a preview of an article by generating an HTML structure that includes the page title, the page's story content (converted to HTML using the body function), and a link back to the index page. The frame.open function is called to open the generated HTML in a new window or tab, depending on whether the shift key is pressed during the button click event.\n\n"
      },
      "date": 1684932077218
    },
    {
      "item": {
        "type": "factory",
        "id": "89482cc47de42e4f"
      },
      "id": "89482cc47de42e4f",
      "type": "add",
      "after": "827f197e9594bc01",
      "date": 1684932122167
    },
    {
      "type": "edit",
      "id": "89482cc47de42e4f",
      "item": {
        "type": "paragraph",
        "id": "89482cc47de42e4f",
        "text": "The dodownload function also retrieves the current page content using the frame module. It generates an HTML structure similar to the preview, but instead of opening it in a new window, it creates a downloadable file. The file name is derived from the page title by converting it to a slug format using the asSlug function. The frame.download function is called to initiate the download of the generated HTML file."
      },
      "date": 1684932124124
    },
    {
      "item": {
        "type": "factory",
        "id": "6830cdd02827cf7b"
      },
      "id": "6830cdd02827cf7b",
      "type": "add",
      "after": "89482cc47de42e4f",
      "date": 1684932158433
    },
    {
      "type": "remove",
      "id": "6830cdd02827cf7b",
      "date": 1684932160032
    },
    {
      "item": {
        "type": "factory",
        "id": "79642d8eb8f9c099"
      },
      "id": "79642d8eb8f9c099",
      "type": "add",
      "after": "89482cc47de42e4f",
      "date": 1684932161620
    },
    {
      "type": "edit",
      "id": "79642d8eb8f9c099",
      "item": {
        "type": "paragraph",
        "id": "79642d8eb8f9c099",
        "text": "The script also includes several helper functions. The html function takes a page object as input and generates the HTML structure for the preview or download. The body function takes the story array from the page object and converts it into HTML using the elem function for each item in the array. The elem function generates HTML markup based on the type of the item, including paragraphs and raw HTML. The escape function is used to escape special characters in text by replacing < with &LT;."
      },
      "date": 1684932163177
    },
    {
      "item": {
        "type": "factory",
        "id": "a66d725d0bf511a7"
      },
      "id": "a66d725d0bf511a7",
      "type": "add",
      "after": "79642d8eb8f9c099",
      "date": 1684932199137
    },
    {
      "type": "edit",
      "id": "a66d725d0bf511a7",
      "item": {
        "type": "paragraph",
        "id": "a66d725d0bf511a7",
        "text": "Overall, this code creates a simple HTML page with two buttons that allow users to preview and download an article. The preview displays the article's content in a new window, while the download generates an HTML file with the article's content that can be saved locally."
      },
      "date": 1684932201046
    }
  ]
}