{
  "title": "Create Import Page from Frame",
  "story": [
    {
      "type": "paragraph",
      "id": "54a39b1ea079b8c4",
      "text": "We create export json for pages then write a click handler that will open that as import dialog in the lineup."
    },
    {
      "type": "code",
      "id": "8206acff9467dce7",
      "text": "function latlon () {\n  return [\n    41.6 + Math.random()/2,\n    -88.14 + Math.random()/2]\n  .join(\",\")\n}\n\nfunction chicago (when) {\n  return {\n    title: `Chicago, ${when}`,\n    story: [{type:\"map\", text:latlon(), zoom:12}]\n  }\n}"
    },
    {
      "type": "code",
      "id": "b27e911bce8f4b6b",
      "text": "function exports () {\n  return {\n    \"chicago-first\": chicago('First'),\n    \"chicago-second\": chicago('Second'),\n    \"chicago-third\": chicago('Third')\n  }\n}"
    },
    {
      "type": "code",
      "id": "0efa3f863701feb0",
      "text": "function handler (event) {\n  let message = {\n    action: \"importer\",\n    pages: exports(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
      "alias": "c8963fb39e7da82f"
    },
    {
      "type": "code",
      "id": "7ab9b4cc4460a5bd",
      "text": "output.innerHTML = `<button>Open Importer</button>`\noutput.addEventListener(\"click\", handler)\n"
    },
    {
      "type": "frame",
      "id": "777ff878d8f1cc7e",
      "text": "http://js.ward.asia.wiki.org/assets/pages/snippet-template/basicjs.html?snippet-template\nHEIGHT 200"
    },
    {
      "type": "paragraph",
      "id": "ebaebd2611702f33",
      "text": "[[Create Items and Pages]] with more complete json."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Create Import Page from Frame",
        "story": [
          {
            "type": "paragraph",
            "id": "54a39b1ea079b8c4",
            "text": "Explain what this code does."
          },
          {
            "type": "code",
            "id": "c8963fb39e7da82f",
            "text": "2 + 3"
          },
          {
            "type": "frame",
            "id": "777ff878d8f1cc7e",
            "text": "http://js.ward.asia.wiki.org/assets/pages/snippet-template/basicjs.html?snippet-template\nHEIGHT 200"
          }
        ]
      },
      "date": 1616624800784
    },
    {
      "type": "edit",
      "id": "54a39b1ea079b8c4",
      "item": {
        "type": "paragraph",
        "id": "54a39b1ea079b8c4",
        "text": "We create export json for pages then write a click handler that will open that as import dialog in the lineup."
      },
      "date": 1616625018212
    },
    {
      "id": "8206acff9467dce7",
      "type": "add",
      "item": {
        "type": "code",
        "id": "8206acff9467dce7",
        "text": "function latlon () {\n  return [\n    41.6 + Math.random()/2,\n    -88.14 + Math.random()/2]\n  .join(\",\")\n}\n\nfunction chicago () {\n  return {\n    title: \"Hello, Chicago\",\n    story: [{type:\"map\", text:latlon(), zoom:12}]\n  }\n}"
      },
      "after": "54a39b1ea079b8c4",
      "date": 1616625031650
    },
    {
      "id": "0efa3f863701feb0",
      "type": "add",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"showResult\",\n    page: chicago(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "after": "8206acff9467dce7",
      "date": 1616625037136
    },
    {
      "id": "7ab9b4cc4460a5bd",
      "type": "add",
      "item": {
        "type": "code",
        "id": "7ab9b4cc4460a5bd",
        "text": "output.innerHTML = `<button>Open Page</button>`\noutput.addEventListener(\"click\", handler)\n"
      },
      "after": "0efa3f863701feb0",
      "date": 1616625044894
    },
    {
      "type": "remove",
      "id": "c8963fb39e7da82f",
      "date": 1616625078299
    },
    {
      "type": "edit",
      "id": "8206acff9467dce7",
      "item": {
        "type": "code",
        "id": "8206acff9467dce7",
        "text": "function latlon () {\n  return [\n    41.6 + Math.random()/2,\n    -88.14 + Math.random()/2]\n  .join(\",\")\n}\n\nfunction chicago (who) {\n  return {\n    title: `Hello, ${who}`,\n    story: [{type:\"map\", text:latlon(), zoom:12}]\n  }\n}\n\nfunction pages () {\n  return {\n    First: chicago('First'),\n    Second: chicago('Second'),\n    Third: chicago('Third')\n  }\n}"
      },
      "date": 1616625294488
    },
    {
      "type": "edit",
      "id": "8206acff9467dce7",
      "item": {
        "type": "code",
        "id": "8206acff9467dce7",
        "text": "function latlon () {\n  return [\n    41.6 + Math.random()/2,\n    -88.14 + Math.random()/2]\n  .join(\",\")\n}\n\nfunction chicago (who) {\n  return {\n    title: `Hello, ${who}`,\n    story: [{type:\"map\", text:latlon(), zoom:12}]\n  }\n}"
      },
      "date": 1616625325631
    },
    {
      "item": {
        "type": "factory",
        "id": "b27e911bce8f4b6b"
      },
      "id": "b27e911bce8f4b6b",
      "type": "add",
      "after": "777ff878d8f1cc7e",
      "date": 1616625332404
    },
    {
      "type": "edit",
      "id": "b27e911bce8f4b6b",
      "item": {
        "type": "code",
        "id": "b27e911bce8f4b6b",
        "text": "function export () {\n  return {\n    First: chicago('First'),\n    Second: chicago('Second'),\n    Third: chicago('Third')\n  }\n}"
      },
      "date": 1616625352488
    },
    {
      "id": "b27e911bce8f4b6b",
      "type": "move",
      "order": [
        "54a39b1ea079b8c4",
        "8206acff9467dce7",
        "b27e911bce8f4b6b",
        "0efa3f863701feb0",
        "7ab9b4cc4460a5bd",
        "777ff878d8f1cc7e"
      ],
      "date": 1616625357196
    },
    {
      "type": "edit",
      "id": "0efa3f863701feb0",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"import\",\n    page: chicago(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "date": 1616625390431
    },
    {
      "type": "edit",
      "id": "0efa3f863701feb0",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"import\",\n    pages: export(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "date": 1616625421224
    },
    {
      "type": "edit",
      "id": "7ab9b4cc4460a5bd",
      "item": {
        "type": "code",
        "id": "7ab9b4cc4460a5bd",
        "text": "output.innerHTML = `<button>Open Import Page</button>`\noutput.addEventListener(\"click\", handler)\n"
      },
      "date": 1616625443999
    },
    {
      "type": "edit",
      "id": "7ab9b4cc4460a5bd",
      "item": {
        "type": "code",
        "id": "7ab9b4cc4460a5bd",
        "text": "output.innerHTML = `<button>Open Import</button>`\noutput.addEventListener(\"click\", handler)\n"
      },
      "date": 1616625462322
    },
    {
      "type": "edit",
      "id": "b27e911bce8f4b6b",
      "item": {
        "type": "code",
        "id": "b27e911bce8f4b6b",
        "text": "function exports () {\n  return {\n    First: chicago('First'),\n    Second: chicago('Second'),\n    Third: chicago('Third')\n  }\n}"
      },
      "date": 1616625473455
    },
    {
      "type": "edit",
      "id": "0efa3f863701feb0",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"import\",\n    pages: exports(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "date": 1616625479824
    },
    {
      "type": "edit",
      "id": "b27e911bce8f4b6b",
      "item": {
        "type": "code",
        "id": "b27e911bce8f4b6b",
        "text": "function exports () {\n  return {\n    \"hello-first\": chicago('First'),\n    \"hello-second\": chicago('Second'),\n    \"hello-third\": chicago('Third')\n  }\n}"
      },
      "date": 1616625686974
    },
    {
      "type": "edit",
      "id": "8206acff9467dce7",
      "item": {
        "type": "code",
        "id": "8206acff9467dce7",
        "text": "function latlon () {\n  return [\n    41.6 + Math.random()/2,\n    -88.14 + Math.random()/2]\n  .join(\",\")\n}\n\nfunction chicago (when) {\n  return {\n    title: `Chicago, ${when}`,\n    story: [{type:\"map\", text:latlon(), zoom:12}]\n  }\n}"
      },
      "date": 1616625757848
    },
    {
      "type": "edit",
      "id": "b27e911bce8f4b6b",
      "item": {
        "type": "code",
        "id": "b27e911bce8f4b6b",
        "text": "function exports () {\n  return {\n    \"chicago-first\": chicago('First'),\n    \"chicago-second\": chicago('Second'),\n    \"chicago-third\": chicago('Third')\n  }\n}"
      },
      "date": 1616625780391
    },
    {
      "type": "edit",
      "id": "0efa3f863701feb0",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"imports\",\n    pages: exports(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "date": 1616626151993
    },
    {
      "type": "edit",
      "id": "0efa3f863701feb0",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"import\",\n    pages: exports(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "date": 1616626171546
    },
    {
      "item": {
        "type": "factory",
        "id": "be75af47f53cf495"
      },
      "id": "be75af47f53cf495",
      "type": "add",
      "after": "777ff878d8f1cc7e",
      "date": 1616626218436
    },
    {
      "type": "edit",
      "id": "be75af47f53cf495",
      "item": {
        "type": "plugmatic",
        "id": "be75af47f53cf495",
        "text": "wiki-plugin-frame"
      },
      "date": 1616626231826
    },
    {
      "type": "remove",
      "id": "be75af47f53cf495",
      "date": 1616626251521
    },
    {
      "type": "edit",
      "id": "0efa3f863701feb0",
      "item": {
        "type": "code",
        "id": "0efa3f863701feb0",
        "text": "function handler (event) {\n  let message = {\n    action: \"importer\",\n    pages: exports(),\n    keepLineup: event.shiftKey\n  }\n  window.parent.postMessage(message, \"*\");\n}",
        "alias": "c8963fb39e7da82f"
      },
      "date": 1616626357688
    },
    {
      "type": "edit",
      "id": "7ab9b4cc4460a5bd",
      "item": {
        "type": "code",
        "id": "7ab9b4cc4460a5bd",
        "text": "output.innerHTML = `<button>Open Importer</button>`\noutput.addEventListener(\"click\", handler)\n"
      },
      "date": 1616628228559
    },
    {
      "item": {
        "type": "factory",
        "id": "ebaebd2611702f33"
      },
      "id": "ebaebd2611702f33",
      "type": "add",
      "after": "777ff878d8f1cc7e",
      "date": 1616635116461
    },
    {
      "type": "edit",
      "id": "ebaebd2611702f33",
      "item": {
        "type": "paragraph",
        "id": "ebaebd2611702f33",
        "text": "See [[Create Items and Pages]] with complete json."
      },
      "date": 1616635159112
    },
    {
      "type": "edit",
      "id": "ebaebd2611702f33",
      "item": {
        "type": "paragraph",
        "id": "ebaebd2611702f33",
        "text": "[[Create Items and Pages]] with complete json."
      },
      "date": 1616635640698
    },
    {
      "type": "edit",
      "id": "ebaebd2611702f33",
      "item": {
        "type": "paragraph",
        "id": "ebaebd2611702f33",
        "text": "[[Create Items and Pages]] with more complete json."
      },
      "date": 1616635650372
    },
    {
      "type": "fork",
      "site": "js.ward.asia.wiki.org",
      "date": 1637928863233
    }
  ]
}