{
  "title": "2023-05-22",
  "story": [
    {
      "type": "paragraph",
      "id": "5f21e39444857879",
      "text": "⇒ [[services.nginx]]: Support both HTTP and HTTPS in a single virtualHost #25533 [https://github.com/NixOS/nixpkgs/issues/25533 github]"
    },
    {
      "type": "code",
      "id": "6dff3e57c205af44",
      "text": "  services.nginx = {\n    enable = true;\n    recommendedProxySettings = false;\n    recommendedTlsSettings = true;\n    virtualHosts = {\n      \"wiki.ralfbarkow.ch\" = {\n        enableACME = true;\n        enableSSL = true;\n        extraConfig = ''\n          listen 80;\n        '';\n        locations.\"/\" = {\n          proxyPass = \"http://127.0.0.1:3000\";\n          proxyWebsockets = true; # needed if you need to use WebSocket\n        };\n      };\n"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "2023-05-22",
        "story": []
      },
      "date": 1684735587393
    },
    {
      "item": {
        "type": "factory",
        "id": "6dff3e57c205af44"
      },
      "id": "6dff3e57c205af44",
      "type": "add",
      "date": 1684735588949
    },
    {
      "type": "edit",
      "id": "6dff3e57c205af44",
      "item": {
        "type": "code",
        "id": "6dff3e57c205af44",
        "text": "  services.nginx = {\n    enable = true;\n    recommendedProxySettings = false;\n    recommendedTlsSettings = true;\n    virtualHosts = {\n      \"wiki.ralfbarkow.ch\" = {\n        enableACME = true;\n        enableSSL = true;\n        extraConfig = ''\n          listen 80;\n        '';\n        locations.\"/\" = {\n          proxyPass = \"http://127.0.0.1:3000\";\n          proxyWebsockets = true; # needed if you need to use WebSocket\n        };\n      };\n"
      },
      "date": 1684735591394
    },
    {
      "item": {
        "type": "factory",
        "id": "5f21e39444857879"
      },
      "id": "5f21e39444857879",
      "type": "add",
      "after": "6dff3e57c205af44",
      "date": 1684735634106
    },
    {
      "id": "5f21e39444857879",
      "type": "move",
      "order": [
        "5f21e39444857879",
        "6dff3e57c205af44"
      ],
      "date": 1684735636036
    },
    {
      "type": "edit",
      "id": "5f21e39444857879",
      "item": {
        "type": "paragraph",
        "id": "5f21e39444857879",
        "text": "⇒ [[services.nginx]]: Support both HTTP and HTTPS in a single virtualHost #25533 "
      },
      "date": 1684735663291
    },
    {
      "type": "edit",
      "id": "5f21e39444857879",
      "item": {
        "type": "paragraph",
        "id": "5f21e39444857879",
        "text": "⇒ [[services.nginx]]: Support both HTTP and HTTPS in a single virtualHost #25533 [https://github.com/NixOS/nixpkgs/issues/25533 github]"
      },
      "date": 1684735696840
    }
  ]
}