{
  "title": "Wiki Config",
  "story": [
    {
      "type": "paragraph",
      "id": "f87c42e40cccaba2",
      "text": "We share an example of our configuration for wiki to show how to set it up so all subdomains are owned by the same owner."
    },
    {
      "type": "paragraph",
      "id": "076ac1ac2460343f",
      "text": "The secrets have been changed, of course. The important bits... config.json includes a section for wikiDomains where the id points to the file which defines the owner for that domain and all the subdomains. The file is where we define the password. In my case I want the same password to allow me admin access to my wikis."
    },
    {
      "type": "paragraph",
      "id": "35a233a1e873abb8",
      "text": "Also worth noting that I'm using the friends security module."
    },
    {
      "type": "code",
      "id": "2fac2837cd72cfbc",
      "text": "# /home/app/.wiki/config.json\n{\n  \"admin\": \"this-is-not-a-real-admin-secret\",\n  \"autoseed\": true,\n  \"farm\": true,\n  \"cookieSecret\": \"this-is-not-a-real-long-random-string\",\n  \"secure_cookie\": true,\n  \"security_type\": \"friends\",\n  \"wikiDomains\": {\n    \"wiki.dbbs.co\": {\n      \"id\": \"/home/app/.wiki/wiki.dbbs.co.owner.json\"\n    }\n  }\n}\n"
    },
    {
      "type": "code",
      "id": "ac5d71e9775119cd",
      "text": "# /home/app/.wiki/wiki.dbbs.co.owner.json\n{\n  \"name\": \"Eric Dobbs\",\n  \"friend\": {\n    \"secret\": \"this-is-not-a-real-admin-secret\"\n  }\n}\n"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Wiki Config",
        "story": []
      },
      "date": 1557942719699
    },
    {
      "item": {
        "type": "factory",
        "id": "f87c42e40cccaba2"
      },
      "id": "f87c42e40cccaba2",
      "type": "add",
      "date": 1557942721217
    },
    {
      "type": "edit",
      "id": "f87c42e40cccaba2",
      "item": {
        "type": "paragraph",
        "id": "f87c42e40cccaba2",
        "text": "We share an example of our configuration for wiki to show how to set it up so all subdomains are owned by the same owner."
      },
      "date": 1557942762709
    },
    {
      "item": {
        "type": "factory",
        "id": "2fac2837cd72cfbc"
      },
      "id": "2fac2837cd72cfbc",
      "type": "add",
      "after": "f87c42e40cccaba2",
      "date": 1557942768176
    },
    {
      "type": "edit",
      "id": "2fac2837cd72cfbc",
      "item": {
        "type": "code",
        "id": "2fac2837cd72cfbc",
        "text": "$ cd /home/app/.wiki\n$ jq . config.json\n{\n  \"admin\": \"this-is-not-a-real-admin-secret\",\n  \"autoseed\": true,\n  \"farm\": true,\n  \"cookieSecret\": \"this-is-not-a-real-long-random-string\",\n  \"secure_cookie\": true,\n  \"security_type\": \"friends\",\n  \"wikiDomains\": {\n    \"wiki.dbbs.co\": {\n      \"id\": \"/home/app/.wiki/wiki.dbbs.co.owner.json\"\n    }\n  }\n}\n$ jq . wiki.dbbs.co.owner.json\n{\n  \"name\": \"Eric Dobbs\",\n  \"friend\": {\n    \"secret\": \"this-is-not-a-real-admin-secret\"\n  }\n}\n"
      },
      "date": 1557942784322
    },
    {
      "type": "add",
      "id": "076ac1ac2460343f",
      "item": {
        "type": "paragraph",
        "id": "076ac1ac2460343f",
        "text": "The secrets have been changed, of course. The important bits... config.json includes a section for wikiDomains where the id points to the file which defines the owner for that domain and all the subdomains. The file is where we define the password. In my case I want the same password to allow me admin access to my wikis."
      },
      "after": "f87c42e40cccaba2",
      "date": 1557943714428
    },
    {
      "type": "add",
      "id": "35a233a1e873abb8",
      "item": {
        "type": "paragraph",
        "id": "35a233a1e873abb8",
        "text": "Also worth noting that I'm using the friends security module"
      },
      "after": "076ac1ac2460343f",
      "date": 1557943810561
    },
    {
      "type": "edit",
      "id": "35a233a1e873abb8",
      "item": {
        "type": "paragraph",
        "id": "35a233a1e873abb8",
        "text": "Also worth noting that I'm using the friends security module."
      },
      "date": 1557943823149
    },
    {
      "type": "edit",
      "id": "2fac2837cd72cfbc",
      "item": {
        "type": "code",
        "id": "2fac2837cd72cfbc",
        "text": "# /home/app/.wiki/config.json\n{\n  \"admin\": \"this-is-not-a-real-admin-secret\",\n  \"autoseed\": true,\n  \"farm\": true,\n  \"cookieSecret\": \"this-is-not-a-real-long-random-string\",\n  \"secure_cookie\": true,\n  \"security_type\": \"friends\",\n  \"wikiDomains\": {\n    \"wiki.dbbs.co\": {\n      \"id\": \"/home/app/.wiki/wiki.dbbs.co.owner.json\"\n    }\n  }\n}\n"
      },
      "date": 1557943900922
    },
    {
      "item": {
        "type": "factory",
        "id": "ac5d71e9775119cd"
      },
      "id": "ac5d71e9775119cd",
      "type": "add",
      "after": "2fac2837cd72cfbc",
      "date": 1557943902712
    },
    {
      "type": "edit",
      "id": "ac5d71e9775119cd",
      "item": {
        "type": "code",
        "id": "ac5d71e9775119cd",
        "text": "# /home/app/.wiki/wiki.dbbs.co.owner.json\n{\n  \"name\": \"Eric Dobbs\",\n  \"friend\": {\n    \"secret\": \"this-is-not-a-real-admin-secret\"\n  }\n}\n"
      },
      "date": 1557943921572
    },
    {
      "type": "fork",
      "site": "wiki.dbbs.co",
      "date": 1626385222507
    }
  ]
}