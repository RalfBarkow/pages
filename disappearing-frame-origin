{
  "title": "Disappearing Frame Origin",
  "story": [
    {
      "type": "paragraph",
      "id": "ed2fca6f95303eaf",
      "text": "We constructed an example which clarified strange behavior in wiki frames. Frames are now consistently placed in a null origin for every page load. Dear Reader, you will likely find the prose in the page confusing as the fixed behavior of the examples no longer match the original behavior."
    },
    {
      "type": "paragraph",
      "id": "e4a912e96cc6f27f",
      "text": "Here we construct another example. It works when the page first loads. window.origin is defined in this case."
    },
    {
      "type": "paragraph",
      "id": "cd984b81f96e711e",
      "text": "Clicking the reload button triggers a reload of the frame. window.origin is null in this case. We don't understand why origin would be null after reload. But the null origin causes a CORS error to prevent the graphviz-viewer.js from loading."
    },
    {
      "type": "frame",
      "id": "48568b209594db44",
      "text": "http://eric.dojo.fed.wiki/assets/pages/disappearing-frame-origin/frame-origin.html"
    },
    {
      "type": "paragraph",
      "id": "a8dec9d0154088fa",
      "text": "We double-check our assumptions."
    },
    {
      "type": "frame",
      "id": "b51767a65f70537a",
      "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 300\n\nFrames in frames reveal that the surprise is that this works at all in the original page load. [https://wiki-hacking.glitch.me/2021-08/frame-origins.html source]"
    },
    {
      "type": "pagefold",
      "id": "940133f96a6b6eaf",
      "text": "."
    },
    {
      "type": "reference",
      "id": "6bbcc480803a89a1",
      "text": "The original mystery was found in a frame aiming to use the <graphviz-viewer> within a frame.",
      "site": "ward.dojo.fed.wiki",
      "slug": "clickable-svg",
      "title": "Clickable SVG"
    },
    {
      "type": "paragraph",
      "id": "d82e1d2f853c33bc",
      "text": "When the page loads, a simple graphviz graph is drawn within the frame. But when we instruct the browser to reload only the frame, the graph is not drawn and we find CORS errors in the browser console."
    },
    {
      "type": "paragraph",
      "id": "162075665660aaf7",
      "text": "We've copied the original frame item here. To test the behavior, try right-clicking (or two-finger clicking, or ctrl-clicking, as appropriate for your device) to summon a context menu & choose therein the \"Reload Frame\" command."
    },
    {
      "type": "frame",
      "id": "db74f2a657e0f27d",
      "text": "http://ward.dojo.fed.wiki/assets/pages/clickable-svg/test.html"
    },
    {
      "type": "assets",
      "id": "20edbd4ab7562389",
      "text": "pages/disappearing-frame-origin"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Disappearing Frame Origin",
        "story": []
      },
      "date": 1628348667127
    },
    {
      "item": {
        "type": "factory",
        "id": "ed2fca6f95303eaf"
      },
      "id": "ed2fca6f95303eaf",
      "type": "add",
      "date": 1628348712894
    },
    {
      "type": "edit",
      "id": "ed2fca6f95303eaf",
      "item": {
        "type": "paragraph",
        "id": "ed2fca6f95303eaf",
        "text": "We construct an example to hopefully clarify some strange behavior in wiki frames."
      },
      "date": 1628348771747
    },
    {
      "type": "add",
      "id": "6bbcc480803a89a1",
      "item": {
        "type": "factory",
        "id": "6bbcc480803a89a1",
        "text": "[[Clickable SVG]]"
      },
      "after": "ed2fca6f95303eaf",
      "date": 1628348793269
    },
    {
      "type": "edit",
      "id": "6bbcc480803a89a1",
      "item": {
        "type": "reference",
        "id": "6bbcc480803a89a1",
        "text": "We retrieve an svg from an Assets folder and display it in a Frame with an html script that handles clicks and opens ghost pages describing what was clicked. [https://github.com/WardCunningham/assets/blob/master/pages/clickable-svg/demo.html github]",
        "site": "ward.dojo.fed.wiki",
        "slug": "clickable-svg",
        "title": "Clickable SVG"
      },
      "date": 1628348797860
    },
    {
      "id": "db74f2a657e0f27d",
      "type": "add",
      "item": {
        "type": "frame",
        "id": "db74f2a657e0f27d",
        "text": "http://ward.dojo.fed.wiki/assets/pages/clickable-svg/test.html"
      },
      "after": "6bbcc480803a89a1",
      "date": 1628348807726
    },
    {
      "type": "edit",
      "id": "6bbcc480803a89a1",
      "item": {
        "type": "reference",
        "id": "6bbcc480803a89a1",
        "text": "The original mystery was found in a frame aiming to use the <graphviz-viewer> within a frame.",
        "site": "ward.dojo.fed.wiki",
        "slug": "clickable-svg",
        "title": "Clickable SVG"
      },
      "date": 1628349006163
    },
    {
      "item": {
        "type": "factory",
        "id": "162075665660aaf7"
      },
      "id": "162075665660aaf7",
      "type": "add",
      "after": "db74f2a657e0f27d",
      "date": 1628349013456
    },
    {
      "type": "edit",
      "id": "162075665660aaf7",
      "item": {
        "type": "paragraph",
        "id": "162075665660aaf7",
        "text": "We've copied the original frame item here."
      },
      "date": 1628349025062
    },
    {
      "id": "162075665660aaf7",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "6bbcc480803a89a1",
        "162075665660aaf7",
        "db74f2a657e0f27d"
      ],
      "date": 1628349028005
    },
    {
      "type": "add",
      "id": "d82e1d2f853c33bc",
      "item": {
        "type": "paragraph",
        "id": "d82e1d2f853c33bc",
        "text": "When the page loads, a simple graphviz graph is drawn within the frame. But when we instruct the browser to reload only the frame, the graph is not drawn and we find CORS errors in the browser console."
      },
      "after": "6bbcc480803a89a1",
      "date": 1628349135688
    },
    {
      "type": "edit",
      "id": "162075665660aaf7",
      "item": {
        "type": "paragraph",
        "id": "162075665660aaf7",
        "text": "We've copied the original frame item here. To test the behavior, try right-clicking (or two-finger clicking, or ctrl-clicking, as appropriate for your device) to summon a context menu & choose therein the \"Reload Frame\" command."
      },
      "date": 1628349303836
    },
    {
      "item": {
        "type": "factory",
        "id": "e4a912e96cc6f27f"
      },
      "id": "e4a912e96cc6f27f",
      "type": "add",
      "after": "db74f2a657e0f27d",
      "date": 1628349314626
    },
    {
      "type": "edit",
      "id": "e4a912e96cc6f27f",
      "item": {
        "type": "paragraph",
        "id": "e4a912e96cc6f27f",
        "text": "Here we construct another example."
      },
      "date": 1628349352443
    },
    {
      "item": {
        "type": "factory",
        "id": "20edbd4ab7562389"
      },
      "id": "20edbd4ab7562389",
      "type": "add",
      "after": "e4a912e96cc6f27f",
      "date": 1628349354499
    },
    {
      "type": "edit",
      "id": "20edbd4ab7562389",
      "item": {
        "type": "assets",
        "id": "20edbd4ab7562389",
        "text": "pages/disappearing-frame-origin"
      },
      "date": 1628349369689
    },
    {
      "item": {
        "type": "factory",
        "id": "48568b209594db44"
      },
      "id": "48568b209594db44",
      "type": "add",
      "after": "20edbd4ab7562389",
      "date": 1628350181768
    },
    {
      "type": "edit",
      "id": "48568b209594db44",
      "item": {
        "type": "frame",
        "id": "48568b209594db44",
        "text": "http://eric.dojo.fed.wiki/assets/pages/disappearing-frame-origin/frame-origin.html"
      },
      "date": 1628350191985
    },
    {
      "id": "48568b209594db44",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "e4a912e96cc6f27f",
        "48568b209594db44",
        "20edbd4ab7562389"
      ],
      "date": 1628350213797
    },
    {
      "type": "edit",
      "id": "e4a912e96cc6f27f",
      "item": {
        "type": "paragraph",
        "id": "e4a912e96cc6f27f",
        "text": "Here we construct another example. It works when the page first loads. window.origin is defined in this case."
      },
      "date": 1628352064582
    },
    {
      "type": "add",
      "id": "cd984b81f96e711e",
      "item": {
        "type": "paragraph",
        "id": "cd984b81f96e711e",
        "text": "Clicking the reload button triggers a reload of the frame. window.origin is null in this case. We don't understand why origin would be null after reload. But the null origin causes a CORS error to prevent the graphviz-viewer.js from loading."
      },
      "after": "e4a912e96cc6f27f",
      "date": 1628352116895
    },
    {
      "item": {
        "type": "factory",
        "id": "940133f96a6b6eaf"
      },
      "id": "940133f96a6b6eaf",
      "type": "add",
      "after": "20edbd4ab7562389",
      "date": 1628352269670
    },
    {
      "type": "edit",
      "id": "940133f96a6b6eaf",
      "item": {
        "type": "pagefold",
        "id": "940133f96a6b6eaf",
        "text": "."
      },
      "date": 1628352272331
    },
    {
      "id": "940133f96a6b6eaf",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "940133f96a6b6eaf",
        "20edbd4ab7562389"
      ],
      "date": 1628352275194
    },
    {
      "id": "6bbcc480803a89a1",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "20edbd4ab7562389"
      ],
      "date": 1628352288602
    },
    {
      "id": "d82e1d2f853c33bc",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "20edbd4ab7562389"
      ],
      "date": 1628352296910
    },
    {
      "id": "162075665660aaf7",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "db74f2a657e0f27d",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "20edbd4ab7562389"
      ],
      "date": 1628352305236
    },
    {
      "id": "db74f2a657e0f27d",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "20edbd4ab7562389"
      ],
      "date": 1628352313178
    },
    {
      "item": {
        "type": "factory",
        "id": "b51767a65f70537a"
      },
      "id": "b51767a65f70537a",
      "type": "add",
      "after": "20edbd4ab7562389",
      "date": 1628359572386
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html"
      },
      "date": 1628359593691
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 300\n\nFrames in frames"
      },
      "date": 1628359615361
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 200\n\nFrames in frames"
      },
      "date": 1628359623867
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 200\n\nFrames in frames reveal that the surprise is that this works at all in the original page load."
      },
      "date": 1628359700704
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 200\n\nFrames in frames reveal that the surprise is that this works at all in the original page load. [https://wiki-hacking.glitch.me/2021-08/frame-origins.html source]"
      },
      "date": 1628359719708
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 260\n\nFrames in frames reveal that the surprise is that this works at all in the original page load. [https://wiki-hacking.glitch.me/2021-08/frame-origins.html source]"
      },
      "date": 1628361087480
    },
    {
      "type": "edit",
      "id": "b51767a65f70537a",
      "item": {
        "type": "frame",
        "id": "b51767a65f70537a",
        "text": "https://wiki-hacking.glitch.me/2021-08/frame-origins.html\nHEIGHT 300\n\nFrames in frames reveal that the surprise is that this works at all in the original page load. [https://wiki-hacking.glitch.me/2021-08/frame-origins.html source]"
      },
      "date": 1628361095984
    },
    {
      "id": "b51767a65f70537a",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "b51767a65f70537a",
        "20edbd4ab7562389"
      ],
      "date": 1628361113185
    },
    {
      "id": "b51767a65f70537a",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "b51767a65f70537a",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "20edbd4ab7562389"
      ],
      "date": 1628361136064
    },
    {
      "type": "add",
      "id": "a8dec9d0154088fa",
      "item": {
        "type": "paragraph",
        "id": "a8dec9d0154088fa",
        "text": "We double-check our assumptions."
      },
      "after": "cd984b81f96e711e",
      "date": 1628361163020
    },
    {
      "id": "a8dec9d0154088fa",
      "type": "move",
      "order": [
        "ed2fca6f95303eaf",
        "e4a912e96cc6f27f",
        "cd984b81f96e711e",
        "48568b209594db44",
        "a8dec9d0154088fa",
        "b51767a65f70537a",
        "940133f96a6b6eaf",
        "6bbcc480803a89a1",
        "d82e1d2f853c33bc",
        "162075665660aaf7",
        "db74f2a657e0f27d",
        "20edbd4ab7562389"
      ],
      "date": 1628361166434
    },
    {
      "type": "edit",
      "id": "ed2fca6f95303eaf",
      "item": {
        "type": "paragraph",
        "id": "ed2fca6f95303eaf",
        "text": "We constructed an example which clarified strange behavior in wiki frames. Frames are now consistently placed in a null origin for every page load."
      },
      "date": 1630272743695
    },
    {
      "type": "edit",
      "id": "ed2fca6f95303eaf",
      "item": {
        "type": "paragraph",
        "id": "ed2fca6f95303eaf",
        "text": "We constructed an example which clarified strange behavior in wiki frames. Frames are now consistently placed in a null origin for every page load. Dear Reader, you will likely find the prose in the page confusing as the fixed behavior of the examples no longer match the original behavior."
      },
      "date": 1630272813528
    },
    {
      "type": "fork",
      "site": "eric.dojo.fed.wiki",
      "date": 1637928546228
    }
  ]
}