{
  "title": "You can lose health data de-centrally as well",
  "story": [
    {
      "type": "paragraph",
      "id": "2145a9c61870bb9d",
      "text": "A little story from Germany:"
    },
    {
      "type": "markdown",
      "id": "d46daa00e0359a55",
      "text": "The German security research group &quot;Zerforschung&quot; (literally breaking something with research, a made-up word) published an account in German on August 11, 2022 of how they in just one night session managed to pull over a million health files from the de-central health provider management system, &quot;InSuite&quot; from DocCirrus (in German):"
    },
    {
      "type": "paragraph",
      "id": "f4968851dd328e2d",
      "text": "[https://zerforschung.org/posts/doczirkus/ https://zerforschung.org/posts/doczirkus/]"
    },
    {
      "type": "paragraph",
      "id": "528ae649155f9109",
      "text": "I will try and summarize the gory details in English here:"
    },
    {
      "type": "paragraph",
      "id": "ac787b5af052185c",
      "text": "One of the group got irritated at their doctor who refused to send them results of blood work by email. It had to be sent to them by way of this portal. This person couldn't sleep and was chatting with another person from the group who was up late. They thought the site looked a bit fishy, so they fired up their browser development tools."
    },
    {
      "type": "paragraph",
      "id": "ef34aec247614ef3",
      "text": "First thing they saw was Google Maps being loaded with every page.  And the payloads that were being returned were JSON with minified JaveScript code."
    },
    {
      "type": "paragraph",
      "id": "909391df1d4c1f12",
      "text": "And there it was, the SMTP access data for that person's doctor's office, in the minified code. They hoped this would be for an extra, external mailbox so that they could only send emails as the office, but not read them. They were wrong. They were able to access the entire email correspondence of the doctor's office."
    },
    {
      "type": "paragraph",
      "id": "5dd8ad2d2217795c",
      "text": "Where there is smoke, there is fire."
    },
    {
      "type": "markdown",
      "id": "9ee9e0a70954a40f",
      "text": "The key point of this product is that the data is stored de-centrally in each office in a &quot;data safe&quot;. But: the patients log on to a central server and see all the doctor's offices they are registered for. It turns out that the list of document IDs and their links are end-to-end encrypted. But the files themselves are not."
    },
    {
      "type": "paragraph",
      "id": "bdbc55927e891131",
      "text": "Just for giggles they tried out requesting information via API endpoint without putting in the name of the receiver of the information. They expected an error message. Instead they were given the information, unencrypted."
    },
    {
      "type": "paragraph",
      "id": "5059b352cca9aa31",
      "text": "They started tinkering with URL paths. Instead of   /1/document/:patientDocument they tried   /1/document And were given a list of all the documents the doctor's office had stored about the first person, the one who kicked this off.  All sick notes, prescriptions, diagnoses, consultations with other doctors, everything."
    },
    {
      "type": "paragraph",
      "id": "c1c9b8e3f022fa2c",
      "text": "So they thought: Hmm. What else does a doctor's office have? Right, patients! So they tried   /1/patient"
    },
    {
      "type": "paragraph",
      "id": "7c4991f6036d0d31",
      "text": "And were rewarded with a long list of over a thousand records of patient data from this doctor's office. With name, address, birth date, insurance, telephone number, email-address, medicine. ..."
    },
    {
      "type": "paragraph",
      "id": "95a58d0516956676",
      "text": "There was more, of course. Ah, an Audit-Log was also there. Fine, then at least someone could see what was happening - except the requests from the evening had not been logged to the audit file."
    },
    {
      "type": "paragraph",
      "id": "27d0ba407efba0c6",
      "text": "They wondered if they could get data from other doctor's offices by guessing the office number. Since this was only a 4-digit number, they ran a small brute force program. Then they found a list on the central server with all the valid numbers."
    },
    {
      "type": "paragraph",
      "id": "6d8c95a1b1d6d146",
      "text": "They didn't download all the data, just requested the number of patients for all of the offices. Then they wrote up a report and early in the morning followed the protocol: sent the report to the company, the Berlin data privacy office, the national CERT and the federal information security office."
    },
    {
      "type": "markdown",
      "id": "82cf4650697f11a9",
      "text": "They were amazed that the company reacted quickly: They just turned off the system. Nationwide. Which was, indeed, necessary. However, it appears that the legal obligation to inform all of the patients that their data had been potentially compromised was not fulfilled.  One friend saw on their doctor's web page that there was a notice that the document server system was getting an &quot;security update&quot; so that ePrescriptions can be written [that is a disaster story for another day]."
    },
    {
      "type": "paragraph",
      "id": "cad011d934ea4d8c",
      "text": "The company did put out a little press notice: [https://www.doc-cirrus.com/medien/newsroom/30-pressemeldungen/411-presse-und-medien https://www.doc-cirrus.com/medien/newsroom/30-pressemeldungen/411-presse-und-medien] two weeks after they were informed of the security issues. The site was offline for almost a month, now the company says that all the issues have been dealt with."
    },
    {
      "type": "paragraph",
      "id": "49aee1123520be84",
      "text": "The publication about the security issues was put online another 2 weeks after the site was back online."
    },
    {
      "type": "paragraph",
      "id": "451e52ca3bdb4b6a",
      "text": "German media have reported on this:"
    },
    {
      "type": "paragraph",
      "id": "ca600fecba5db1e6",
      "text": "[https://www.tagesschau.de/investigativ/ndr-wdr/sicherheitsluecke-arztsoftware-101.html https://www.tagesschau.de/investigativ/ndr-wdr/sicherheitsluecke-arztsoftware-101.html] [https://www.ardmediathek.de/video/mittagsmagazin/sicherheitsluecken-bei-praxissoftware/das-erste/Y3JpZDovL2Rhc2Vyc3RlLmRlL2FyZC1taXR0YWdzbWFnYXppbi9iYTdhMjAyZC0yMzE0LTQ0OWItOTBlNy1lNmRkNzVhOWNlODk https://www.ardmediathek.de/video/mittagsmagazin/sicherheitsluecken-bei-praxissoftware/das-erste/Y3JpZDovL2Rhc2Vyc3RlLmRlL2FyZC1taXR0YWdzbWFnYXppbi9iYTdhMjAyZC0yMzE0LTQ0OWItOTBlNy1lNmRkNzVhOWNlODk]"
    },
    {
      "type": "paragraph",
      "id": "c7d58ed324eff4df",
      "text": "(probably both only available in German)"
    },
    {
      "type": "paragraph",
      "id": "8e922404a6f17a8f",
      "text": "They have formulated three demands:"
    },
    {
      "type": "paragraph",
      "id": "4649e0312e2b39cd",
      "text": "1. All the patients need to be informed that their data was out in the clear."
    },
    {
      "type": "paragraph",
      "id": "7295796af43b3814",
      "text": "2. The data privacy office should fine the company. According to the    European GDPR, this could be up to 20 million Euros."
    },
    {
      "type": "paragraph",
      "id": "6dc83d544f58ba90",
      "text": "3. Software producers need to take data security and IT security    seriously. If their product is storing personal data, it must be able to    keep this data private."
    },
    {
      "type": "paragraph",
      "id": "3a4d9cfdabb22ed1",
      "text": "I would perhaps add: they need to learn cryptography, too. Minification is not encryption. And end-to-end encryption must be done right!"
    },
    {
      "type": "markdown",
      "id": "0ed003af58c6074c",
      "text": "Source: Debora Weber-Wulff via [https://catless.ncl.ac.uk/Risks/33/39/#subj14.1 The Risks Digest]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "date": 1660694464000,
      "item": {
        "title": "You can lose health data de-centrally as well",
        "story": [
          {
            "type": "paragraph",
            "id": "2145a9c61870bb9d",
            "text": "A little story from Germany:"
          },
          {
            "type": "markdown",
            "id": "d46daa00e0359a55",
            "text": "The German security research group &quot;Zerforschung&quot; (literally breaking something with research, a made-up word) published an account in German on August 11, 2022 of how they in just one night session managed to pull over a million health files from the de-central health provider management system, &quot;InSuite&quot; from DocCirrus (in German):"
          },
          {
            "type": "paragraph",
            "id": "f4968851dd328e2d",
            "text": "[https://zerforschung.org/posts/doczirkus/ https://zerforschung.org/posts/doczirkus/]"
          },
          {
            "type": "paragraph",
            "id": "528ae649155f9109",
            "text": "I will try and summarize the gory details in English here:"
          },
          {
            "type": "paragraph",
            "id": "ac787b5af052185c",
            "text": "One of the group got irritated at their doctor who refused to send them results of blood work by email. It had to be sent to them by way of this portal. This person couldn't sleep and was chatting with another person from the group who was up late. They thought the site looked a bit fishy, so they fired up their browser development tools."
          },
          {
            "type": "paragraph",
            "id": "ef34aec247614ef3",
            "text": "First thing they saw was Google Maps being loaded with every page.  And the payloads that were being returned were JSON with minified JaveScript code."
          },
          {
            "type": "paragraph",
            "id": "909391df1d4c1f12",
            "text": "And there it was, the SMTP access data for that person's doctor's office, in the minified code. They hoped this would be for an extra, external mailbox so that they could only send emails as the office, but not read them. They were wrong. They were able to access the entire email correspondence of the doctor's office."
          },
          {
            "type": "paragraph",
            "id": "5dd8ad2d2217795c",
            "text": "Where there is smoke, there is fire."
          },
          {
            "type": "markdown",
            "id": "9ee9e0a70954a40f",
            "text": "The key point of this product is that the data is stored de-centrally in each office in a &quot;data safe&quot;. But: the patients log on to a central server and see all the doctor's offices they are registered for. It turns out that the list of document IDs and their links are end-to-end encrypted. But the files themselves are not."
          },
          {
            "type": "paragraph",
            "id": "bdbc55927e891131",
            "text": "Just for giggles they tried out requesting information via API endpoint without putting in the name of the receiver of the information. They expected an error message. Instead they were given the information, unencrypted."
          },
          {
            "type": "paragraph",
            "id": "5059b352cca9aa31",
            "text": "They started tinkering with URL paths. Instead of   /1/document/:patientDocument they tried   /1/document And were given a list of all the documents the doctor's office had stored about the first person, the one who kicked this off.  All sick notes, prescriptions, diagnoses, consultations with other doctors, everything."
          },
          {
            "type": "paragraph",
            "id": "c1c9b8e3f022fa2c",
            "text": "So they thought: Hmm. What else does a doctor's office have? Right, patients! So they tried   /1/patient"
          },
          {
            "type": "paragraph",
            "id": "7c4991f6036d0d31",
            "text": "And were rewarded with a long list of over a thousand records of patient data from this doctor's office. With name, address, birth date, insurance, telephone number, email-address, medicine. ..."
          },
          {
            "type": "paragraph",
            "id": "95a58d0516956676",
            "text": "There was more, of course. Ah, an Audit-Log was also there. Fine, then at least someone could see what was happening - except the requests from the evening had not been logged to the audit file."
          },
          {
            "type": "paragraph",
            "id": "27d0ba407efba0c6",
            "text": "They wondered if they could get data from other doctor's offices by guessing the office number. Since this was only a 4-digit number, they ran a small brute force program. Then they found a list on the central server with all the valid numbers."
          },
          {
            "type": "paragraph",
            "id": "6d8c95a1b1d6d146",
            "text": "They didn't download all the data, just requested the number of patients for all of the offices. Then they wrote up a report and early in the morning followed the protocol: sent the report to the company, the Berlin data privacy office, the national CERT and the federal information security office."
          },
          {
            "type": "markdown",
            "id": "82cf4650697f11a9",
            "text": "They were amazed that the company reacted quickly: They just turned off the system. Nationwide. Which was, indeed, necessary. However, it appears that the legal obligation to inform all of the patients that their data had been potentially compromised was not fulfilled.  One friend saw on their doctor's web page that there was a notice that the document server system was getting an &quot;security update&quot; so that ePrescriptions can be written [that is a disaster story for another day]."
          },
          {
            "type": "paragraph",
            "id": "cad011d934ea4d8c",
            "text": "The company did put out a little press notice: [https://www.doc-cirrus.com/medien/newsroom/30-pressemeldungen/411-presse-und-medien https://www.doc-cirrus.com/medien/newsroom/30-pressemeldungen/411-presse-und-medien] two weeks after they were informed of the security issues. The site was offline for almost a month, now the company says that all the issues have been dealt with."
          },
          {
            "type": "paragraph",
            "id": "49aee1123520be84",
            "text": "The publication about the security issues was put online another 2 weeks after the site was back online."
          },
          {
            "type": "paragraph",
            "id": "451e52ca3bdb4b6a",
            "text": "German media have reported on this:"
          },
          {
            "type": "paragraph",
            "id": "ca600fecba5db1e6",
            "text": "[https://www.tagesschau.de/investigativ/ndr-wdr/sicherheitsluecke-arztsoftware-101.html https://www.tagesschau.de/investigativ/ndr-wdr/sicherheitsluecke-arztsoftware-101.html] [https://www.ardmediathek.de/video/mittagsmagazin/sicherheitsluecken-bei-praxissoftware/das-erste/Y3JpZDovL2Rhc2Vyc3RlLmRlL2FyZC1taXR0YWdzbWFnYXppbi9iYTdhMjAyZC0yMzE0LTQ0OWItOTBlNy1lNmRkNzVhOWNlODk https://www.ardmediathek.de/video/mittagsmagazin/sicherheitsluecken-bei-praxissoftware/das-erste/Y3JpZDovL2Rhc2Vyc3RlLmRlL2FyZC1taXR0YWdzbWFnYXppbi9iYTdhMjAyZC0yMzE0LTQ0OWItOTBlNy1lNmRkNzVhOWNlODk]"
          },
          {
            "type": "paragraph",
            "id": "c7d58ed324eff4df",
            "text": "(probably both only available in German)"
          },
          {
            "type": "paragraph",
            "id": "8e922404a6f17a8f",
            "text": "They have formulated three demands:"
          },
          {
            "type": "paragraph",
            "id": "4649e0312e2b39cd",
            "text": "1. All the patients need to be informed that their data was out in the clear."
          },
          {
            "type": "paragraph",
            "id": "7295796af43b3814",
            "text": "2. The data privacy office should fine the company. According to the    European GDPR, this could be up to 20 million Euros."
          },
          {
            "type": "paragraph",
            "id": "6dc83d544f58ba90",
            "text": "3. Software producers need to take data security and IT security    seriously. If their product is storing personal data, it must be able to    keep this data private."
          },
          {
            "type": "paragraph",
            "id": "3a4d9cfdabb22ed1",
            "text": "I would perhaps add: they need to learn cryptography, too. Minification is not encryption. And end-to-end encryption must be done right!"
          },
          {
            "type": "markdown",
            "id": "0ed003af58c6074c",
            "text": "Source: Debora Weber-Wulff via [https://catless.ncl.ac.uk/Risks/33/39/#subj14.1 The Risks Digest]"
          }
        ]
      }
    },
    {
      "type": "fork",
      "site": "risks.rodwell.me",
      "date": 1660725527065
    }
  ]
}