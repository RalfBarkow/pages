{
  "title": "testPayToday",
  "story": [
    {
      "type": "paragraph",
      "id": "d65e5fde71d7802e",
      "text": "Using Time Travel, we can refactor the naïve test case [⇒ [[testNaivePayToday]]] into one that can remember changing pay rates."
    },
    {
      "type": "paragraph",
      "id": "dd5ef10a8181f7ed",
      "text": "For now we can use simple Dates as the lookup key.\n"
    },
    {
      "type": "code",
      "id": "b6eb066a71d2b1c0",
      "text": "NavigationTest>>testPayToday\n| contract version |\ncontract := Contract new.\nversion := ContractVersion pay: 1000.\ncontract versionAt: '2/1/99' asDate put: version.\nself assert: (contract versionAt: '2/1/99' asDate) pay = 1000"
    },
    {
      "type": "markdown",
      "id": "474760b576e0bd9c",
      "text": "**Note**: Damien pointed out to me via [https://discord.com/channels/729445214812504107/755319168504692778/983712531803680809 discord] that the dates in the gtExample `payToday` were different but identical in `testPayToday`."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "testPayToday",
        "story": []
      },
      "date": 1654516584798
    },
    {
      "item": {
        "type": "factory",
        "id": "d65e5fde71d7802e"
      },
      "id": "d65e5fde71d7802e",
      "type": "add",
      "date": 1654516683378
    },
    {
      "type": "edit",
      "id": "d65e5fde71d7802e",
      "item": {
        "type": "paragraph",
        "id": "d65e5fde71d7802e",
        "text": "Using Time Travel, we can refactor the naïve test case into one that can remember changing pay rates.\nFor now we can use simple Dates as the lookup key.\nNavigationTest>>testPayToday\n| contract version |\ncontract := Contract new.\nversion := ContractVersion pay: 1000.\ncontract versionAt: '2/1/99' asDate put: version.\nself assert: (contract versionAt: '2/1/99' asDate) pay = 1000"
      },
      "date": 1654516685066
    },
    {
      "item": {
        "type": "factory",
        "id": "b6eb066a71d2b1c0"
      },
      "id": "b6eb066a71d2b1c0",
      "type": "add",
      "after": "d65e5fde71d7802e",
      "date": 1654516687461
    },
    {
      "type": "edit",
      "id": "b6eb066a71d2b1c0",
      "item": {
        "type": "code",
        "id": "b6eb066a71d2b1c0",
        "text": "b"
      },
      "date": 1654516690883
    },
    {
      "type": "edit",
      "id": "d65e5fde71d7802e",
      "item": {
        "type": "paragraph",
        "id": "d65e5fde71d7802e",
        "text": "Using Time Travel, we can refactor the naïve test case into one that can remember changing pay rates.\nFor now we can use simple Dates as the lookup key.\n"
      },
      "date": 1654516695271
    },
    {
      "type": "edit",
      "id": "b6eb066a71d2b1c0",
      "item": {
        "type": "code",
        "id": "b6eb066a71d2b1c0",
        "text": "NavigationTest>>testPayToday\n| contract version |\ncontract := Contract new.\nversion := ContractVersion pay: 1000.\ncontract versionAt: '2/1/99' asDate put: version.\nself assert: (contract versionAt: '2/1/99' asDate) pay = 1000"
      },
      "date": 1654516696979
    },
    {
      "item": {
        "type": "factory",
        "id": "474760b576e0bd9c"
      },
      "id": "474760b576e0bd9c",
      "type": "add",
      "after": "b6eb066a71d2b1c0",
      "date": 1654535685932
    },
    {
      "type": "edit",
      "id": "474760b576e0bd9c",
      "item": {
        "type": "markdown",
        "id": "474760b576e0bd9c",
        "text": "**Note**: The fact that this test fails seems to be related to SUnit and not to the code under test."
      },
      "date": 1654535695634
    },
    {
      "type": "edit",
      "id": "474760b576e0bd9c",
      "item": {
        "type": "markdown",
        "id": "474760b576e0bd9c",
        "text": "**Note**: The fact that this test fails seems to be related to [[SUnit]] and not to the code under test."
      },
      "date": 1654535709889
    },
    {
      "item": {
        "type": "factory",
        "id": "2778684f414f8f93"
      },
      "id": "2778684f414f8f93",
      "type": "add",
      "after": "474760b576e0bd9c",
      "date": 1654535737842
    },
    {
      "item": {
        "type": "factory",
        "id": "d26c918f4b908d7e"
      },
      "id": "d26c918f4b908d7e",
      "type": "add",
      "after": "2778684f414f8f93",
      "date": 1654535739758
    },
    {
      "item": {
        "type": "factory",
        "id": "6b97a361f20e88b4"
      },
      "id": "6b97a361f20e88b4",
      "type": "add",
      "after": "d26c918f4b908d7e",
      "date": 1654535744070
    },
    {
      "type": "edit",
      "id": "d26c918f4b908d7e",
      "item": {
        "type": "code",
        "id": "d26c918f4b908d7e",
        "text": "contract := Contract new."
      },
      "date": 1654535744980
    },
    {
      "type": "edit",
      "id": "6b97a361f20e88b4",
      "item": {
        "type": "code",
        "id": "6b97a361f20e88b4",
        "text": "version := ContractVersion pay: 1000.\n"
      },
      "date": 1654535752370
    },
    {
      "item": {
        "type": "factory",
        "id": "a60dc0f4bf4258bc"
      },
      "id": "a60dc0f4bf4258bc",
      "type": "add",
      "after": "6b97a361f20e88b4",
      "date": 1654535758023
    },
    {
      "type": "edit",
      "id": "a60dc0f4bf4258bc",
      "item": {
        "type": "paragraph",
        "id": "a60dc0f4bf4258bc",
        "text": "contract versionAt: '1/2/99' asDate put: version.\n"
      },
      "date": 1654535760041
    },
    {
      "item": {
        "type": "factory",
        "id": "757a92b97c8bc455"
      },
      "id": "757a92b97c8bc455",
      "type": "add",
      "after": "a60dc0f4bf4258bc",
      "date": 1654535769564
    },
    {
      "type": "edit",
      "id": "757a92b97c8bc455",
      "item": {
        "type": "code",
        "id": "757a92b97c8bc455",
        "text": "(contract versionAt: '2/1/99' asDate) pay"
      },
      "date": 1654535771918
    },
    {
      "item": {
        "type": "factory",
        "id": "8eefdc5d8e811910"
      },
      "id": "8eefdc5d8e811910",
      "type": "add",
      "after": "757a92b97c8bc455",
      "date": 1654535774403
    },
    {
      "id": "8eefdc5d8e811910",
      "type": "move",
      "order": [
        "d65e5fde71d7802e",
        "b6eb066a71d2b1c0",
        "474760b576e0bd9c",
        "2778684f414f8f93",
        "d26c918f4b908d7e",
        "6b97a361f20e88b4",
        "a60dc0f4bf4258bc",
        "8eefdc5d8e811910",
        "757a92b97c8bc455"
      ],
      "date": 1654535777494
    },
    {
      "type": "remove",
      "id": "a60dc0f4bf4258bc",
      "date": 1654535782499
    },
    {
      "type": "edit",
      "id": "8eefdc5d8e811910",
      "item": {
        "type": "code",
        "id": "8eefdc5d8e811910",
        "text": "contract versionAt: '1/2/99' asDate put: version."
      },
      "date": 1654535785591
    },
    {
      "type": "edit",
      "id": "2778684f414f8f93",
      "item": {
        "type": "paragraph",
        "id": "2778684f414f8f93",
        "text": "If I run the code step by step in a gt/Pharo snippet, I get the expected result (pay = 1000)."
      },
      "date": 1654535842100
    },
    {
      "item": {
        "type": "factory",
        "id": "a878a19f96136f55"
      },
      "id": "a878a19f96136f55",
      "type": "add",
      "after": "757a92b97c8bc455",
      "date": 1654537570588
    },
    {
      "type": "edit",
      "id": "a878a19f96136f55",
      "item": {
        "type": "pagefold",
        "id": "a878a19f96136f55",
        "text": "~"
      },
      "date": 1654537575572
    },
    {
      "item": {
        "type": "factory",
        "id": "932d2e2c4ec8ab70"
      },
      "id": "932d2e2c4ec8ab70",
      "type": "add",
      "after": "a878a19f96136f55",
      "date": 1654537577013
    },
    {
      "type": "edit",
      "id": "932d2e2c4ec8ab70",
      "item": {
        "type": "paragraph",
        "id": "932d2e2c4ec8ab70",
        "text": "http://forum.world.st/The-confusing-state-of-SUnit-td5096065.html"
      },
      "date": 1654537583336
    },
    {
      "type": "edit",
      "id": "932d2e2c4ec8ab70",
      "item": {
        "type": "paragraph",
        "id": "932d2e2c4ec8ab70",
        "text": "The confusing state of SUnit [http://forum.world.st/The-confusing-state-of-SUnit-td5096065.html forum.world.st]"
      },
      "date": 1654537599221
    },
    {
      "type": "edit",
      "id": "932d2e2c4ec8ab70",
      "item": {
        "type": "paragraph",
        "id": "932d2e2c4ec8ab70",
        "text": "The confusing state of [[SUnit]]. [http://forum.world.st/The-confusing-state-of-SUnit-td5096065.html forum.world.st]"
      },
      "date": 1654537612120
    },
    {
      "type": "edit",
      "id": "932d2e2c4ec8ab70",
      "item": {
        "type": "paragraph",
        "id": "932d2e2c4ec8ab70",
        "text": "The confusing state of SUnit. [http://forum.world.st/The-confusing-state-of-SUnit-td5096065.html forum.world.st]"
      },
      "date": 1654537618546
    },
    {
      "item": {
        "type": "factory",
        "id": "c59726e6b07c8cb6"
      },
      "id": "c59726e6b07c8cb6",
      "type": "add",
      "after": "932d2e2c4ec8ab70",
      "date": 1654537725450
    },
    {
      "type": "edit",
      "id": "c59726e6b07c8cb6",
      "item": {
        "type": "paragraph",
        "id": "c59726e6b07c8cb6",
        "text": "Some cleanups in SUnit-Core #10615"
      },
      "date": 1654537729184
    },
    {
      "type": "edit",
      "id": "c59726e6b07c8cb6",
      "item": {
        "type": "paragraph",
        "id": "c59726e6b07c8cb6",
        "text": "Some cleanups in SUnit-Core #10615 [https://github.com/pharo-project/pharo/issues/10615 github]"
      },
      "date": 1654537757649
    },
    {
      "type": "edit",
      "id": "474760b576e0bd9c",
      "item": {
        "type": "markdown",
        "id": "474760b576e0bd9c",
        "text": "**Note**: "
      },
      "date": 1654605861833
    },
    {
      "type": "remove",
      "id": "2778684f414f8f93",
      "date": 1654605865023
    },
    {
      "type": "remove",
      "id": "d26c918f4b908d7e",
      "date": 1654605867358
    },
    {
      "type": "remove",
      "id": "6b97a361f20e88b4",
      "date": 1654605869396
    },
    {
      "type": "remove",
      "id": "8eefdc5d8e811910",
      "date": 1654605871765
    },
    {
      "type": "remove",
      "id": "757a92b97c8bc455",
      "date": 1654605874611
    },
    {
      "type": "remove",
      "id": "932d2e2c4ec8ab70",
      "date": 1654605904269
    },
    {
      "type": "remove",
      "id": "c59726e6b07c8cb6",
      "date": 1654605907651
    },
    {
      "type": "remove",
      "id": "a878a19f96136f55",
      "date": 1654605916044
    },
    {
      "type": "edit",
      "id": "474760b576e0bd9c",
      "item": {
        "type": "markdown",
        "id": "474760b576e0bd9c",
        "text": "**Note**: Damien pointed out to me via discord that the dates in payToday are different but identical in testPayToday"
      },
      "date": 1654605970844
    },
    {
      "type": "edit",
      "id": "474760b576e0bd9c",
      "item": {
        "type": "markdown",
        "id": "474760b576e0bd9c",
        "text": "**Note**: Damien pointed out to me via [https://discord.com/channels/729445214812504107/755319168504692778/983712531803680809 discord] that the dates in the gtExample `payToday` are different but identical in `testPayToday`."
      },
      "date": 1654606016325
    },
    {
      "type": "fork",
      "date": 1654608130509
    },
    {
      "type": "edit",
      "id": "d65e5fde71d7802e",
      "item": {
        "type": "paragraph",
        "id": "d65e5fde71d7802e",
        "text": "Using Time Travel, we can refactor the naïve test case [⇒ [[testNaivePayToday]]] into one that can remember changing pay rates."
      },
      "date": 1654613099061
    },
    {
      "type": "add",
      "id": "dd5ef10a8181f7ed",
      "item": {
        "type": "paragraph",
        "id": "dd5ef10a8181f7ed",
        "text": "For now we can use simple Dates as the lookup key.\n"
      },
      "after": "d65e5fde71d7802e",
      "date": 1654613099736
    },
    {
      "type": "edit",
      "id": "474760b576e0bd9c",
      "item": {
        "type": "markdown",
        "id": "474760b576e0bd9c",
        "text": "**Note**: Damien pointed out to me via [https://discord.com/channels/729445214812504107/755319168504692778/983712531803680809 discord] that the dates in the gtExample `payToday` were different but identical in `testPayToday`."
      },
      "date": 1654613347727
    }
  ]
}