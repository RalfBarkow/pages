{
  "title": "Container dobbs/apparatus",
  "story": [
    {
      "type": "paragraph",
      "id": "2a525d6ccc357075",
      "text": "This is my first use of docker's multi-stage build. \n Constructing the Dockerfile was easier than figuring out how to get docker web properties to build it. [https://github.com/dobbs/apparatus github]"
    },
    {
      "type": "paragraph",
      "id": "e0d67646db2f8849",
      "text": "I use 1) a node container to compile the apparatus code.  I use 2) an alpine container to download and setcap Caddy.  The final container 3) uses alpine as a base with Caddy as the web server hosting the compiled static web assets.  If I were to rely on an external Caddy, the final container could be a volume-only container holding the statically compiled assets."
    },
    {
      "type": "markdown",
      "id": "108c8f9ac70c709d",
      "text": "# dependence or independence"
    },
    {
      "type": "paragraph",
      "id": "79146182bd3abd03",
      "text": "Today (2017-08-23) in the fedwiki chat room, one person reported success installing the local farm on their laptop.  In the brief discussion I learned that an earlier revision of that farm was forked into github.com/fedwiki. [https://github.com/fedwiki/wiki-tls github]"
    },
    {
      "type": "paragraph",
      "id": "264f860dbc205d21",
      "text": "On the one hand that feels a bit like a promotion.  And on the other hand, I've split that early work into a bunch of tiny repos and arranged for hub.docker.com to build and host the containers by name.  The difference between dependency in the new vs independence in the old leaped out at me.  As recently as May or June I had ambitions of a wholly self-hosted containerized wiki farm.  It was a bit surprising to notice how I've hitched my cart to hub.docker.com for resolving the names to containers.  I'm not sure this is good nor bad.  But interesting turn of events in my own development."
    },
    {
      "type": "markdown",
      "id": "7d4531751c5bd8e1",
      "text": "# fast or slow"
    },
    {
      "type": "paragraph",
      "id": "e4b2e55db5fe1494",
      "text": "Docker ecosystem and tools change fast.  In the few years I have been going along for the ride, I haven't had the same experience of breakage when following a young project on their bleeding edge.  But getting these containers to build has felt rough around the edges."
    },
    {
      "type": "paragraph",
      "id": "2e697a7745890b55",
      "text": "hub.docker.com is where things come from when you say 'docker pull dobbs/proxy'.  I created that docker repository by linking from the github repo where I committed the code.  The automated build part has not worked as advertised.  (As it happens, I think I discovered the missing piece to engage the actual automation while looking for other things today.)  What's more, hub.docker.com does not (yet) know how to handle multi-stage builds.  I found github issues to that effect which had the workaround of using cloud.docker.com.  I did get that working for 'dobbs/apparatus', but I cannot seem to find a way to offer a public link to the cloud repo for learning about dobbs/apparatus, and the one that can be found publicly at hub.docker.com shows builds failing which would not reassure me as a consumer of other people's open source code"
    },
    {
      "type": "paragraph",
      "id": "77aa268e2584f89c",
      "text": "Much of current hype around containerization pitches the ability to accelerate and move fast, faster than ever.  By contrast, I see in wiki a sense of patience.  Let what we have stew a bit.  Live with it a while and learn what it wants to be."
    },
    {
      "type": "paragraph",
      "id": "fb93764b526b135c",
      "text": "Tortoise and Hare (or perhaps Achilles in a strange loop)"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Container dobbs/apparatus",
        "story": []
      },
      "date": 1503538384718
    },
    {
      "item": {
        "type": "factory",
        "id": "2a525d6ccc357075"
      },
      "id": "2a525d6ccc357075",
      "type": "add",
      "date": 1503538387528
    },
    {
      "type": "edit",
      "id": "2a525d6ccc357075",
      "item": {
        "type": "paragraph",
        "id": "2a525d6ccc357075",
        "text": "This is my first use of docker's multi-stage build.  I use a node container to compile the apparatus code.  I use an alpine container to download and setcap Caddy.  The final container uses alpine as a base with Caddy as the webserver to serve the compiled static web assets.  Constructing the Dockerfile was easier than figuring out how to get docker web properties to build it. [https://github.com/dobbs/apparatus github]"
      },
      "date": 1503538576268
    },
    {
      "type": "add",
      "id": "79146182bd3abd03",
      "item": {
        "type": "paragraph",
        "id": "79146182bd3abd03",
        "text": "Some thoughts about introducing dependency upon docker ecosystem to my corner of the federation."
      },
      "after": "2a525d6ccc357075",
      "date": 1503538621335
    },
    {
      "type": "add",
      "id": "e4b2e55db5fe1494",
      "item": {
        "type": "paragraph",
        "id": "e4b2e55db5fe1494",
        "text": "Some thoughts about living and learning in the fast moving docker ecosystem."
      },
      "after": "79146182bd3abd03",
      "date": 1503538672779
    },
    {
      "type": "fork",
      "site": "begin.wiki.dbbs.co",
      "date": 1503539000375
    },
    {
      "type": "edit",
      "id": "79146182bd3abd03",
      "item": {
        "type": "paragraph",
        "id": "79146182bd3abd03",
        "text": "Introducing docker dependencies to my corner of the federation... today in the fedwiki chat room, one person reported success installing the local farm on their laptop.  In the brief discussion I learned that an earlier revision of that farm was forked into github.com/fedwiki. [https://github.com/fedwiki/wiki-tls github]"
      },
      "date": 1503545850344
    },
    {
      "type": "add",
      "id": "264f860dbc205d21",
      "item": {
        "type": "paragraph",
        "id": "264f860dbc205d21",
        "text": "On the one hand that feels a bit like a promotion.  And on the other hand, I've split that early work into a bunch of tiny repos and arranged for hub.docker.com to build and host the containers by name.  The difference between dependency in the new vs independence in the old leaped out at me.  As recently as May or June I had ambitions of a wholly self-hosted containerized wiki farm.  It was a bit surprising to notice how I've hitched my cart to hub.docker.com for resolving the names to containers.  I'm not sure this is good nor bad.  But interesting turn of events in my own development."
      },
      "after": "79146182bd3abd03",
      "date": 1503546213045
    },
    {
      "item": {
        "type": "factory",
        "id": "108c8f9ac70c709d"
      },
      "id": "108c8f9ac70c709d",
      "type": "add",
      "after": "e4b2e55db5fe1494",
      "date": 1503546226308
    },
    {
      "type": "edit",
      "id": "108c8f9ac70c709d",
      "item": {
        "type": "markdown",
        "id": "108c8f9ac70c709d",
        "text": "# dependence or independence"
      },
      "date": 1503546245437
    },
    {
      "type": "move",
      "order": [
        "2a525d6ccc357075",
        "108c8f9ac70c709d",
        "79146182bd3abd03",
        "264f860dbc205d21",
        "e4b2e55db5fe1494"
      ],
      "id": "108c8f9ac70c709d",
      "date": 1503546250093
    },
    {
      "type": "edit",
      "id": "79146182bd3abd03",
      "item": {
        "type": "paragraph",
        "id": "79146182bd3abd03",
        "text": "Today (2017-08-23) in the fedwiki chat room, one person reported success installing the local farm on their laptop.  In the brief discussion I learned that an earlier revision of that farm was forked into github.com/fedwiki. [https://github.com/fedwiki/wiki-tls github]"
      },
      "date": 1503546269598
    },
    {
      "type": "edit",
      "id": "2a525d6ccc357075",
      "item": {
        "type": "paragraph",
        "id": "2a525d6ccc357075",
        "text": "This is my first use of docker's multi-stage build. \n Constructing the Dockerfile was easier than figuring out how to get docker web properties to build it. [https://github.com/dobbs/apparatus github]"
      },
      "date": 1503546307069
    },
    {
      "type": "add",
      "id": "e0d67646db2f8849",
      "item": {
        "type": "paragraph",
        "id": "e0d67646db2f8849",
        "text": "I use 1) a node container to compile the apparatus code.  I use 2) an alpine container to download and setcap Caddy.  The final container 3) uses alpine as a base with Caddy as the web server hosting the compiled static web assets.  If I were to rely on an external Caddy, the final container could be a volume-only container holding the statically compiled assets."
      },
      "after": "2a525d6ccc357075",
      "date": 1503546417216
    },
    {
      "item": {
        "type": "factory",
        "id": "7d4531751c5bd8e1"
      },
      "id": "7d4531751c5bd8e1",
      "type": "add",
      "after": "e4b2e55db5fe1494",
      "date": 1503546425576
    },
    {
      "type": "edit",
      "id": "7d4531751c5bd8e1",
      "item": {
        "type": "markdown",
        "id": "7d4531751c5bd8e1",
        "text": "# fast or slow"
      },
      "date": 1503546444456
    },
    {
      "type": "move",
      "order": [
        "2a525d6ccc357075",
        "e0d67646db2f8849",
        "108c8f9ac70c709d",
        "79146182bd3abd03",
        "264f860dbc205d21",
        "7d4531751c5bd8e1",
        "e4b2e55db5fe1494"
      ],
      "id": "7d4531751c5bd8e1",
      "date": 1503546448831
    },
    {
      "type": "edit",
      "id": "e4b2e55db5fe1494",
      "item": {
        "type": "paragraph",
        "id": "e4b2e55db5fe1494",
        "text": "Docker ecosystem and tools change fast.  In the few years I have been going along for the ride, I haven't had the same experience of breakage when following a young project on their bleeding edge.  But getting these containers to build has felt rough around the edges."
      },
      "date": 1503546567990
    },
    {
      "type": "add",
      "id": "2e697a7745890b55",
      "item": {
        "type": "paragraph",
        "id": "2e697a7745890b55",
        "text": "hub.docker.com is where things come from when you say 'docker pull dobbs/proxy'.  I created that docker repository by linking from the github repo where I committed the code.  The automated build part has not worked as advertised.  (As it happens, I think I discovered the missing piece to engage the actual automation while looking for other things today.)  What's more, hub.docker.com does not (yet) know how to handle multi-stage builds.  I found github issues to that effect which had the workaround of using cloud.docker.com.  I did get that working for 'dobbs/apparatus', but I cannot seem to find a way to offer a public link to the cloud repo for learning about dobbs/apparatus, and the one that can be found publicly at hub.docker.com shows builds failing which would not reassure me as a consumer of other people's open source code"
      },
      "after": "e4b2e55db5fe1494",
      "date": 1503546840562
    },
    {
      "type": "add",
      "id": "77aa268e2584f89c",
      "item": {
        "type": "paragraph",
        "id": "77aa268e2584f89c",
        "text": "Much of current hype around containerization pitches the ability to accelerate and move fast, faster than ever.  By contrast, I see in wiki a sense of patience.  Let what we have stew a bit.  Live with it a while and learn what it wants to be."
      },
      "after": "2e697a7745890b55",
      "date": 1503546942680
    },
    {
      "type": "add",
      "id": "fb93764b526b135c",
      "item": {
        "type": "paragraph",
        "id": "fb93764b526b135c",
        "text": "Tourtise and Hair ("
      },
      "after": "77aa268e2584f89c",
      "date": 1503546969885
    },
    {
      "type": "edit",
      "id": "fb93764b526b135c",
      "item": {
        "type": "paragraph",
        "id": "fb93764b526b135c",
        "text": "Tortoise and Hare (or perhaps Achilles in a strange loop)"
      },
      "date": 1503547047487
    },
    {
      "type": "fork",
      "site": "wiki.dbbs.co",
      "date": 1637347720057
    }
  ]
}