{
  "title": "Slider",
  "story": [
    {
      "type": "code",
      "id": "7c673279579cdd71",
      "text": "/** Convenience wrapper around slider controls:\n\n    There should be an <input id=$elementId type=range ...>\n    and there can be any number of <span class=$elementId>\n    to receive the output values\n */\nclass Slider {\n    constructor(elementId, callback) {\n        const update = () => {\n            this.value = this.slider.valueAsNumber;\n            this.updateOutputs();\n            callback();\n        };\n\n        this.elementId = elementId;\n        this.slider = document.getElementById(elementId);\n        this.slider.addEventListener('change', update, false);\n        this.slider.addEventListener('input', update, false);\n        this.digits = 2;\n        this.value = this.slider.valueAsNumber;\n    }\n\n    updateOutputs() {\n        for (let el of document.querySelectorAll(\".\" + this.elementId)) {\n            el.textContent = this.value.toFixed(this.digits);\n        }\n    }\n}\n"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Slider",
        "story": []
      },
      "date": 1651992229918
    },
    {
      "item": {
        "type": "factory",
        "id": "7c673279579cdd71"
      },
      "id": "7c673279579cdd71",
      "type": "add",
      "date": 1651992246443
    },
    {
      "type": "edit",
      "id": "7c673279579cdd71",
      "item": {
        "type": "code",
        "id": "7c673279579cdd71",
        "text": "/** Convenience wrapper around slider controls:\n\n    There should be an <input id=$elementId type=range ...>\n    and there can be any number of <span class=$elementId>\n    to receive the output values\n */\nclass Slider {\n    constructor(elementId, callback) {\n        const update = () => {\n            this.value = this.slider.valueAsNumber;\n            this.updateOutputs();\n            callback();\n        };\n\n        this.elementId = elementId;\n        this.slider = document.getElementById(elementId);\n        this.slider.addEventListener('change', update, false);\n        this.slider.addEventListener('input', update, false);\n        this.digits = 2;\n        this.value = this.slider.valueAsNumber;\n    }\n\n    updateOutputs() {\n        for (let el of document.querySelectorAll(\".\" + this.elementId)) {\n            el.textContent = this.value.toFixed(this.digits);\n        }\n    }\n}\n"
      },
      "date": 1651992249385
    }
  ]
}