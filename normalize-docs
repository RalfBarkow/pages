{
  "title": "Normalize Docs",
  "story": [
    {
      "type": "paragraph",
      "id": "3b3c1a27056b88c7",
      "text": "We read the html produced by our [[Story Telling]] workflow. We can later compare this to further edited versions."
    },
    {
      "type": "frame",
      "id": "1c8b7db38bd5dead",
      "text": "http://ward.dojo.fed.wiki/assets/pages/story-telling/normalize-edits.html\nHEIGHT 400"
    },
    {
      "type": "code",
      "id": "b7098c7d7c72ea7e",
      "text": "const ref = title => {\n  const href = norm.select('a')\n    .getAttribute('href')\n    .split(/\\/+/)\n  return {\n    type: \"reference\",\n    id: \"0511bca1b52a3f62\",\n    site: href[1],\n    slug: norm.asSlug(title),\n    title: title,\n    text: \"Source Wiki Page\"\n  }\n}"
    },
    {
      "type": "code",
      "id": "5352146aa53a142c",
      "text": "export const titles = () => {\n  const ctitle = norm.frequent('h2','span')\n  console.log({ctitle}, norm.div)\n  const elems = norm.selectAll('.'+ctitle)\n    .filter(elem => elem.className == ctitle)\n  elems.shift()\n  return elems.map(elem => elem.innerText)\n}"
    },
    {
      "type": "code",
      "id": "15b04c54d2818588",
      "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  let d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  return [ref(title), ...norm.repeat(norm.more(d))\n    .map(norm.item)]\n}"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Normalize Docs",
        "story": [
          {
            "type": "paragraph",
            "id": "3b3c1a27056b88c7",
            "text": "We read the html produced by our [[Story Telling]] workflow. We can later compare this to further edited versions."
          },
          {
            "type": "frame",
            "id": "1c8b7db38bd5dead",
            "text": "http://ward.dojo.fed.wiki/assets/pages/story-telling/normalize-edits.html?dir=html\nHEIGHT 400"
          },
          {
            "type": "code",
            "id": "b7098c7d7c72ea7e",
            "text": "import * as norm from 'http://ward.dojo.fed.wiki/assets/pages/story-telling/norm.js'"
          },
          {
            "type": "code",
            "id": "5352146aa53a142c",
            "text": "export const titles = () => {\n  return ['Welcome Visitors']\n}"
          },
          {
            "type": "code",
            "id": "15b04c54d2818588",
            "text": "export const items = title => {\n  const fake = {\n    nodeName: 'P',\n    innerHTML:'Welcome to <a href=#wiki>Wiki</a>'\n  }\n  const divs = [fake]\n  return divs.map(norm.item)\n}"
          }
        ]
      },
      "date": 1668818623428
    },
    {
      "type": "edit",
      "id": "1c8b7db38bd5dead",
      "item": {
        "type": "frame",
        "id": "1c8b7db38bd5dead",
        "text": "http://ward.dojo.fed.wiki/assets/pages/story-telling/normalize-edits.html\nHEIGHT 400"
      },
      "date": 1668818639808
    },
    {
      "type": "edit",
      "id": "b7098c7d7c72ea7e",
      "item": {
        "type": "code",
        "id": "b7098c7d7c72ea7e",
        "text": "import * as norm from 'http://ward.dojo.fed.wiki/assets/pages/story-telling/norm.js'\nconsole.log(norm.div)"
      },
      "date": 1668818744210
    },
    {
      "type": "edit",
      "id": "b7098c7d7c72ea7e",
      "item": {
        "type": "code",
        "id": "b7098c7d7c72ea7e",
        "text": "import * as norm from 'http://ward.dojo.fed.wiki/assets/pages/story-telling/norm.js'\nconst ctitle = frequent('h2','span')\nconst citem = frequent('p')\nconsole.log(norm.div,{ctitle,citem})"
      },
      "date": 1668819056328
    },
    {
      "type": "edit",
      "id": "b7098c7d7c72ea7e",
      "item": {
        "type": "code",
        "id": "b7098c7d7c72ea7e",
        "text": "import * as norm from 'http://ward.dojo.fed.wiki/assets/pages/story-telling/norm.js'\nconst ctitle = norm.frequent('h2','span')\nconst citem = norm.frequent('p')\nconsole.log(norm.div,{ctitle,citem})"
      },
      "date": 1668819100638
    },
    {
      "type": "edit",
      "id": "b7098c7d7c72ea7e",
      "item": {
        "type": "code",
        "id": "b7098c7d7c72ea7e",
        "text": "import * as norm from 'http://ward.dojo.fed.wiki/assets/pages/story-telling/norm.js'\n//const ctitle = norm.frequent('h2','span')\n//const citem = norm.frequent('p')\nconsole.log(norm.div)"
      },
      "date": 1668819283022
    },
    {
      "type": "edit",
      "id": "b7098c7d7c72ea7e",
      "item": {
        "type": "code",
        "id": "b7098c7d7c72ea7e",
        "text": "import * as norm from 'http://ward.dojo.fed.wiki/assets/pages/story-telling/norm.js'"
      },
      "date": 1668819395967
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  console.log(norm.div)\n  const ctitle = norm.frequent('h2','span')\n  return ['Welcome Visitors']\n}"
      },
      "date": 1668819496466
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n\n  const fake = {\n    nodeName: 'P',\n    innerHTML:'Welcome to <a href=#wiki>Wiki</a>'\n  }\n  const divs = [fake]\n  return divs.map(norm.item)\n}"
      },
      "date": 1668819513043
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  console.log(norm.div)\n  const ctitle = norm.frequent('h2','span')\n  const elems = norm.selectAll('.'+ctitle)\n  console.log(elems)\n  return elems.map(elem => elem.innerText)\n}"
      },
      "date": 1668819766327
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  const ctitle = norm.frequent('h2','span')\n  console.log({ctitle}, norm.div)\n  const elems = norm.selectAll('.'+ctitle)\n  console.log(elems)\n  return elems.map(elem => elem.innerText)\n}"
      },
      "date": 1668819908880
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  const ctitle = norm.frequent('h2','span')\n  console.log({ctitle}, norm.div)\n  const elems = norm.selectAll('.'+ctitle)\n    .filter(elem => elem.\n  console.log(elems)\n  return elems.map(elem => elem.innerText)\n}"
      },
      "date": 1668819985662
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  const ctitle = norm.frequent('h2','span')\n  console.log({ctitle}, norm.div)\n  const elems = norm.selectAll('.'+ctitle)\n    .filter(elem => elem.className == ctitle)\n  console.log(elems)\n  return elems.map(elem => elem.innerText)\n}"
      },
      "date": 1668820022831
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  const d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title)\n  console.log({d})\n  const fake = {\n    nodeName: 'P',\n    innerHTML:'Welcome to <a href=#wiki>Wiki</a>'\n  }\n  const divs = [fake]\n  return divs.map(norm.item)\n}"
      },
      "date": 1668820322480
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  const d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  console.log({d})\n  const fake = {\n    nodeName: 'P',\n    innerHTML:'Welcome to <a href=#wiki>Wiki</a>'\n  }\n  const divs = [fake]\n  return divs.map(norm.item)\n}"
      },
      "date": 1668820358808
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  const ctitle = norm.frequent('h2','span')\n  console.log({ctitle}, norm.div)\n  const elems = norm.selectAll('.'+ctitle)\n    .filter(elem => elem.className == ctitle)\n  console.log(elems)\n  elems.shift()\n  return elems.map(elem => elem.innerText)\n}"
      },
      "date": 1668820425150
    },
    {
      "type": "edit",
      "id": "5352146aa53a142c",
      "item": {
        "type": "code",
        "id": "5352146aa53a142c",
        "text": "export const titles = () => {\n  const ctitle = norm.frequent('h2','span')\n  console.log({ctitle}, norm.div)\n  const elems = norm.selectAll('.'+ctitle)\n    .filter(elem => elem.className == ctitle)\n  elems.shift()\n  return elems.map(elem => elem.innerText)\n}"
      },
      "date": 1668820441098
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  const d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  const divs = [d]\n  return divs.map(norm.item)\n}"
      },
      "date": 1668820506128
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  const d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  const more = () => {\n    d = d.nextElementSibling;\n    d = d?.nodeName=='P' ? d : null\n    return d}\n  return norm.repeat(more)\n    .map(norm.item)\n}"
      },
      "date": 1668820740340
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  let d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  const more = () => {\n    d = d.nextElementSibling;\n    d = d?.nodeName=='P' ? d : null\n    return d}\n  return norm.repeat(more)\n    .map(norm.item)\n}"
      },
      "date": 1668820779308
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  let d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  return norm.repeat(norm.more(d))\n    .map(norm.item)\n}"
      },
      "date": 1668837519764
    },
    {
      "type": "edit",
      "id": "b7098c7d7c72ea7e",
      "item": {
        "type": "code",
        "id": "b7098c7d7c72ea7e",
        "text": "const ref = title => {\n  const href = norm.select('a')\n    .getAttribute('href')\n    .split(/\\/+/)\n  return {\n    type: \"reference\",\n    id: \"0511bca1b52a3f62\",\n    site: href[1],\n    slug: norm.asSlug(title),\n    title: title,\n    text: \"Source Wiki Page\"\n  }\n}"
      },
      "date": 1668885195826
    },
    {
      "type": "edit",
      "id": "15b04c54d2818588",
      "item": {
        "type": "code",
        "id": "15b04c54d2818588",
        "text": "export const items = title => {\n  const citem = norm.frequent('p')\n  let d = norm.selectAll('h2')\n    .find(e => e.innerText.startsWith(title))\n  return [ref(title), ...norm.repeat(norm.more(d))\n    .map(norm.item)]\n}"
      },
      "date": 1668885243999
    },
    {
      "type": "fork",
      "site": "ward.dojo.fed.wiki",
      "date": 1668895303584
    }
  ]
}