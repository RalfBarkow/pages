{
  "title": "VhBlogExporter",
  "story": [
    {
      "type": "code",
      "id": "6794604dbb996e3e",
      "text": "export: aPage\n\t| pageLinks ourPageLink aContext anExporter htmlString |\n\tpageLinks := linksBuilder\n\t\t\tdatabase: aPage database;\n\t\t\tbuild;\n\t\t\tlinks.\n\tourPageLink := pageLinks\n\t\t\tlinkForPage: aPage\n\t\t\tifFound: #yourself\n\t\t\tifNone: [ self error: 'This should not happen' ].\n\n\taContext := LeHtmlContext new\n\t\t\tpage: aPage;\n\t\t\tpageLinks: pageLinks;\n\t\t\tdate: (Date today printFormat: #(1 2 3 $/ 1 1));\n\t\t\tsequencer: sequencer.\n\tanExporter := LeHtmlPageExporter new\n\t\t\tcontext: aContext;\n\t\t\tpiece: (LeHtmlGtBookPiece fromFile: self layoutFile).\n\n\thtmlString := anExporter contents.\n\n\taContext assembler assemble.\n\n\tLeExportResourcesDirectorySaver new\n\t\tresources: aContext resources;\n\t\trootDirectory: self blogDirectory;\n\t\tsave.\n\n\tself blogDirectory\n\t\t/ ((aPage title asString copyReplaceAll: ' ' with: '_') , '.html')\n\t\twriteStreamDo: [ :aStream | aStream nextPutAll: htmlString ].\n\t\t\n\t^ anExporter"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "VhBlogExporter",
        "story": []
      },
      "date": 1699427993690
    },
    {
      "item": {
        "type": "factory",
        "id": "6794604dbb996e3e"
      },
      "id": "6794604dbb996e3e",
      "type": "add",
      "date": 1699427994887
    },
    {
      "type": "edit",
      "id": "6794604dbb996e3e",
      "item": {
        "type": "code",
        "id": "6794604dbb996e3e",
        "text": "export: aPage\n\t| pageLinks ourPageLink aContext anExporter htmlString |\n\tpageLinks := linksBuilder\n\t\t\tdatabase: aPage database;\n\t\t\tbuild;\n\t\t\tlinks.\n\tourPageLink := pageLinks\n\t\t\tlinkForPage: aPage\n\t\t\tifFound: #yourself\n\t\t\tifNone: [ self error: 'This should not happen' ].\n\n\taContext := LeHtmlContext new\n\t\t\tpage: aPage;\n\t\t\tpageLinks: pageLinks;\n\t\t\tdate: (Date today printFormat: #(1 2 3 $/ 1 1));\n\t\t\tsequencer: sequencer.\n\tanExporter := LeHtmlPageExporter new\n\t\t\tcontext: aContext;\n\t\t\tpiece: (LeHtmlGtBookPiece fromFile: self layoutFile).\n\n\thtmlString := anExporter contents.\n\n\taContext assembler assemble.\n\n\tLeExportResourcesDirectorySaver new\n\t\tresources: aContext resources;\n\t\trootDirectory: self blogDirectory;\n\t\tsave.\n\n\tself blogDirectory\n\t\t/ ((aPage title asString copyReplaceAll: ' ' with: '_') , '.html')\n\t\twriteStreamDo: [ :aStream | aStream nextPutAll: htmlString ].\n\t\t\n\t^ anExporter"
      },
      "date": 1699427996989
    }
  ]
}