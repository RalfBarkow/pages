{
  "title": "Search Result Problem Solved",
  "story": [
    {
      "type": "paragraph",
      "id": "042adccebec1445e",
      "text": "Marc had noted that sometime wiki's incremental search result shows as a tiny white empty box. No amount of reloading clears this condition. "
    },
    {
      "type": "paragraph",
      "id": "a9e3a5d88f36c82f",
      "text": "See [[Unexpected Search Result]]"
    },
    {
      "type": "paragraph",
      "id": "4be0183c73ca95f3",
      "text": "There are a few commits that help resolve Marc's search problem."
    },
    {
      "type": "paragraph",
      "id": "22432768ce389195",
      "text": "Starting with capture search failures which puts the search in a try... catch and returns an empty array if the search fails. This captures the case of the search index getting corrupt, and the search failing. Which is what was happening with Marc. [https://github.com/fedwiki/wiki-client/commit/ae611d79f7a28779a9be437f1f27950a3a023bb7 github]"
    },
    {
      "type": "paragraph",
      "id": "1016ca94de8c4bcd",
      "text": "Next the was updating minisearch, amongst other changes this changes the index serialization format. This should be easier to read and diagnose what is happening if we get a repeat of the index getting corrupt. [https://github.com/fedwiki/wiki-client/commit/75dc0210dc23cf004e4a7498cb0837ace9dcdd7e github]"
    },
    {
      "type": "paragraph",
      "id": "96080aa18758e038",
      "text": "And finally text extract was also put into a try... catch to catch trying to extract text from any items where text is expected but missing. This is likely to be root cause of the problem Marc had, as there was a page with a markdown item without text. [https://github.com/fedwiki/wiki-client/commit/05ea409489a5bf68aac99aea4611000d8504d125 github]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Search Result Problem Solved",
        "story": []
      },
      "date": 1664895262546
    },
    {
      "item": {
        "type": "factory",
        "id": "042adccebec1445e"
      },
      "id": "042adccebec1445e",
      "type": "add",
      "date": 1664895273825
    },
    {
      "type": "edit",
      "id": "042adccebec1445e",
      "item": {
        "type": "paragraph",
        "id": "042adccebec1445e",
        "text": "Marc had noted that sometime wiki's incremental search result shows as a tiny white empty box. No amount of reloading clears this condition. See [[Unexpected Search Result]]"
      },
      "date": 1664895308657
    },
    {
      "type": "edit",
      "id": "042adccebec1445e",
      "item": {
        "type": "paragraph",
        "id": "042adccebec1445e",
        "text": "Marc had noted that sometime wiki's incremental search result shows as a tiny white empty box. No amount of reloading clears this condition. "
      },
      "date": 1664895314830
    },
    {
      "type": "add",
      "id": "a9e3a5d88f36c82f",
      "item": {
        "type": "paragraph",
        "id": "a9e3a5d88f36c82f",
        "text": "See [[Unexpected Search Result]]"
      },
      "after": "042adccebec1445e",
      "date": 1664895316070
    },
    {
      "item": {
        "type": "factory",
        "id": "4be0183c73ca95f3"
      },
      "id": "4be0183c73ca95f3",
      "type": "add",
      "after": "a9e3a5d88f36c82f",
      "date": 1664895361936
    },
    {
      "type": "edit",
      "id": "4be0183c73ca95f3",
      "item": {
        "type": "paragraph",
        "id": "4be0183c73ca95f3",
        "text": "There are a few commits that help resolve Marc's search problem."
      },
      "date": 1664895368909
    },
    {
      "type": "add",
      "id": "22432768ce389195",
      "item": {
        "type": "paragraph",
        "id": "22432768ce389195",
        "text": "Starting with capture search failures which puts the search in a try... catch and returns an empty array if the search fails. This captures the case of the search index getting corrupt, and the search failing. Which is what was happening with Marc."
      },
      "after": "4be0183c73ca95f3",
      "date": 1664895394894
    },
    {
      "type": "add",
      "id": "1016ca94de8c4bcd",
      "item": {
        "type": "paragraph",
        "id": "1016ca94de8c4bcd",
        "text": "Next the was updating minisearch, amongst other changes this changes the index serialization format. This should be easier to read and diagnose what is happening if we get a repeat of the index getting corrupt."
      },
      "after": "22432768ce389195",
      "date": 1664895398015
    },
    {
      "type": "add",
      "id": "96080aa18758e038",
      "item": {
        "type": "paragraph",
        "id": "96080aa18758e038",
        "text": "And finally text extract was also put into a try... catch to catch trying to extract text from any items where text is expected but missing. This is likely to be root cause of the problem Marc had, as there was a page with a markdown item without text."
      },
      "after": "1016ca94de8c4bcd",
      "date": 1664895404826
    },
    {
      "type": "edit",
      "id": "22432768ce389195",
      "item": {
        "type": "paragraph",
        "id": "22432768ce389195",
        "text": "Starting with capture search failures which puts the search in a try... catch and returns an empty array if the search fails. This captures the case of the search index getting corrupt, and the search failing. Which is what was happening with Marc. [https://github.com/fedwiki/wiki-client/commit/ae611d79f7a28779a9be437f1f27950a3a023bb7 github]"
      },
      "date": 1664895449357
    },
    {
      "type": "edit",
      "id": "1016ca94de8c4bcd",
      "item": {
        "type": "paragraph",
        "id": "1016ca94de8c4bcd",
        "text": "Next the was updating minisearch, amongst other changes this changes the index serialization format. This should be easier to read and diagnose what is happening if we get a repeat of the index getting corrupt. [https://github.com/fedwiki/wiki-client/commit/75dc0210dc23cf004e4a7498cb0837ace9dcdd7e github]"
      },
      "date": 1664895476199
    },
    {
      "type": "edit",
      "id": "96080aa18758e038",
      "item": {
        "type": "paragraph",
        "id": "96080aa18758e038",
        "text": "And finally text extract was also put into a try... catch to catch trying to extract text from any items where text is expected but missing. This is likely to be root cause of the problem Marc had, as there was a page with a markdown item without text. [https://github.com/fedwiki/wiki-client/commit/05ea409489a5bf68aac99aea4611000d8504d125 github]"
      },
      "date": 1664895527650
    },
    {
      "type": "fork",
      "site": "ward.dojo.fed.wiki",
      "date": 1664954059316
    }
  ]
}