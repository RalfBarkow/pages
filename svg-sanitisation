{
  "title": "SVG Sanitisation",
  "story": [
    {
      "type": "markdown",
      "id": "3045cee8e9cccfa0",
      "text": "SVGs can hide javascript all over the place - so they are a definite risk to allow them to be added and displayed, and then forked to any wiki.\n"
    },
    {
      "type": "markdown",
      "id": "1152204afb6a3403",
      "text": "Luckily we have a couple of promising solutions to explore:\n1. Use svg files manually uploaded to the assets folder\n1. Use a sanitiser like [[DOMPurify]] - [https://github.com/cure53/DOMPurify github]\n"
    },
    {
      "type": "markdown",
      "id": "50fce267c4966fd4",
      "text": "The simplest and safest solution is to allow the [[about image plugin]] to display svgs hosted in the assets folder. These files need to be manually as with any hosted site, and cannot be added unless you are given administrative privileges. Forking a page does not fork the asset.\n"
    },
    {
      "type": "markdown",
      "id": "c698532b210e5a23",
      "text": "This gives us most of what we wish for in terms of interactive svg panels - though at the cost of not enabling users of farms to be able to create them. To do that we would need to use a sanitiser like [[DOMPurify]]."
    },
    {
      "id": "38b91bfd-ec87-4459-b584-eab932b12ca0",
      "type": "markdown",
      "text": "# Online research\n- cure53/DOMPurify: DOMPurify... - [https://github.com/cure53/DOMPurify github.com]\n- DOMPurify 2.2.9 \"Funky Town\" - [https://cure53.de/purify cure53.de]\n- SVG Sanitizer Test - [http://svg.enshrined.co.uk/ co.uk]\n- darylldoyle/svg-sanitizer: A... - [https://github.com/darylldoyle/svg-sanitizer github.com]"
    },
    {
      "type": "markdown",
      "id": "09c042ad78aa1979",
      "text": "# Other solutions\n\nThe following is based on [[DomPurify]] bu targeted towards svgs:\n- http://svg.enshrined.co.uk/\n\n"
    },
    {
      "type": "markdown",
      "id": "4b9a92ec1449d019",
      "text": "It does not looks as maintained as [[DomPurify]] however."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "SVG Sanitisation",
        "story": []
      },
      "date": 1626299592607
    },
    {
      "item": {
        "type": "factory",
        "id": "3045cee8e9cccfa0"
      },
      "id": "3045cee8e9cccfa0",
      "type": "add",
      "date": 1626299593876
    },
    {
      "item": {
        "type": "factory",
        "id": "09c042ad78aa1979"
      },
      "id": "09c042ad78aa1979",
      "type": "add",
      "after": "3045cee8e9cccfa0",
      "date": 1626299595491
    },
    {
      "type": "edit",
      "id": "09c042ad78aa1979",
      "item": {
        "type": "markdown",
        "id": "09c042ad78aa1979",
        "text": "- http://svg.enshrined.co.uk/"
      },
      "date": 1626299599244
    },
    {
      "type": "edit",
      "id": "3045cee8e9cccfa0",
      "item": {
        "type": "markdown",
        "id": "3045cee8e9cccfa0",
        "text": "SVGs can hide javascript all over the place - so they are a definite risk to allow them to be added and displayed, and then forked to any wiki.\n"
      },
      "date": 1626299610913
    },
    {
      "type": "add",
      "id": "1152204afb6a3403",
      "item": {
        "type": "markdown",
        "id": "1152204afb6a3403",
        "text": "Luckily we have a couple of promising solutions to explore:\n1. Use svg files manually uploaded to the assets folder\n1. Use a sanitiser like [[DOMPurify]] - [https://github.com/cure53/DOMPurify github]"
      },
      "after": "3045cee8e9cccfa0",
      "date": 1626299618733
    },
    {
      "type": "edit",
      "id": "09c042ad78aa1979",
      "item": {
        "type": "markdown",
        "id": "09c042ad78aa1979",
        "text": "The following is based on [[DomPurify]] bu targeted towards svgs:\n- http://svg.enshrined.co.uk/"
      },
      "date": 1626299938346
    },
    {
      "type": "edit",
      "id": "09c042ad78aa1979",
      "item": {
        "type": "markdown",
        "id": "09c042ad78aa1979",
        "text": "The following is based on [[DomPurify]] bu targeted towards svgs:\n- http://svg.enshrined.co.uk/\nIt does not looks as maintained as [[DomPurify]] however."
      },
      "date": 1626299959114
    },
    {
      "type": "edit",
      "id": "09c042ad78aa1979",
      "item": {
        "type": "markdown",
        "id": "09c042ad78aa1979",
        "text": "The following is based on [[DomPurify]] bu targeted towards svgs:\n- http://svg.enshrined.co.uk/\n\n"
      },
      "date": 1626299964327
    },
    {
      "type": "add",
      "id": "4b9a92ec1449d019",
      "item": {
        "type": "markdown",
        "id": "4b9a92ec1449d019",
        "text": "It does not looks as maintained as [[DomPurify]] however."
      },
      "after": "09c042ad78aa1979",
      "date": 1626299964907
    },
    {
      "type": "edit",
      "id": "09c042ad78aa1979",
      "item": {
        "type": "markdown",
        "id": "09c042ad78aa1979",
        "text": "# Other solutions\n\nThe following is based on [[DomPurify]] bu targeted towards svgs:\n- http://svg.enshrined.co.uk/\n\n"
      },
      "date": 1626299977411
    },
    {
      "type": "edit",
      "id": "1152204afb6a3403",
      "item": {
        "type": "markdown",
        "id": "1152204afb6a3403",
        "text": "Luckily we have a couple of promising solutions to explore:\n1. Use svg files manually uploaded to the assets folder\n1. Use a sanitiser like [[DOMPurify]] - [https://github.com/cure53/DOMPurify github]\n"
      },
      "date": 1626299987574
    },
    {
      "type": "add",
      "id": "50fce267c4966fd4",
      "item": {
        "type": "factory",
        "id": "50fce267c4966fd4",
        "text": "The simplest and safest solution is to allow the Most of what "
      },
      "after": "1152204afb6a3403",
      "date": 1626300021831
    },
    {
      "type": "edit",
      "id": "50fce267c4966fd4",
      "item": {
        "type": "markdown",
        "id": "50fce267c4966fd4",
        "text": "The simplest and safest solution is to allow the [[about image plugin]] to display svgs hosted in the assets folder. These files need to be manually as with any hosted site, and cannot be added unless you are given administrative privaleges.\n"
      },
      "date": 1626300144745
    },
    {
      "type": "add",
      "id": "c698532b210e5a23",
      "item": {
        "type": "markdown",
        "id": "c698532b210e5a23",
        "text": "uploaded Most of what "
      },
      "after": "50fce267c4966fd4",
      "date": 1626300146557
    },
    {
      "type": "edit",
      "id": "50fce267c4966fd4",
      "item": {
        "type": "markdown",
        "id": "50fce267c4966fd4",
        "text": "The simplest and safest solution is to allow the [[about image plugin]] to display svgs hosted in the assets folder. These files need to be manually as with any hosted site, and cannot be added unless you are given administrative privileges. Forking a page does not fork the asset.\n"
      },
      "date": 1626300169579
    },
    {
      "type": "edit",
      "id": "c698532b210e5a23",
      "item": {
        "type": "markdown",
        "id": "c698532b210e5a23",
        "text": "This gives us most of what we wish for in terms of interactive svg panels - though at the cost of not enabling users of farms to be able to create them. To do that we would need to use a sanitiser like [[Dom"
      },
      "date": 1626300246496
    },
    {
      "type": "edit",
      "id": "c698532b210e5a23",
      "item": {
        "type": "markdown",
        "id": "c698532b210e5a23",
        "text": "This gives us most of what we wish for in terms of interactive svg panels - though at the cost of not enabling users of farms to be able to create them. To do that we would need to use a sanitiser like [[DOMPurify]]."
      },
      "date": 1626300257269
    },
    {
      "id": "38b91bfd-ec87-4459-b584-eab932b12ca0",
      "type": "add",
      "item": {
        "id": "38b91bfd-ec87-4459-b584-eab932b12ca0",
        "type": "markdown",
        "text": "- cure53/DOMPurify: DOMPurify... - [https://github.com/cure53/DOMPurify github.com]\n- DOMPurify 2.2.9 \"Funky Town\" - [https://cure53.de/purify cure53.de]\n- SVG Sanitizer Test - [http://svg.enshrined.co.uk/ co.uk]\n- darylldoyle/svg-sanitizer: A... - [https://github.com/darylldoyle/svg-sanitizer github.com]"
      },
      "after": "50fce267c4966fd4",
      "date": 1626339967815
    },
    {
      "id": "38b91bfd-ec87-4459-b584-eab932b12ca0",
      "type": "move",
      "order": [
        "3045cee8e9cccfa0",
        "1152204afb6a3403",
        "50fce267c4966fd4",
        "c698532b210e5a23",
        "38b91bfd-ec87-4459-b584-eab932b12ca0",
        "09c042ad78aa1979",
        "4b9a92ec1449d019"
      ],
      "date": 1626339975205
    },
    {
      "type": "edit",
      "id": "38b91bfd-ec87-4459-b584-eab932b12ca0",
      "item": {
        "id": "38b91bfd-ec87-4459-b584-eab932b12ca0",
        "type": "markdown",
        "text": "# Online research\n- cure53/DOMPurify: DOMPurify... - [https://github.com/cure53/DOMPurify github.com]\n- DOMPurify 2.2.9 \"Funky Town\" - [https://cure53.de/purify cure53.de]\n- SVG Sanitizer Test - [http://svg.enshrined.co.uk/ co.uk]\n- darylldoyle/svg-sanitizer: A... - [https://github.com/darylldoyle/svg-sanitizer github.com]"
      },
      "date": 1626339986436
    },
    {
      "type": "fork",
      "site": "livecode.world",
      "date": 1627504189973
    }
  ]
}