{
  "title": "geom-fuzz-basics",
  "story": [
    {
      "type": "paragraph",
      "id": "74cb21ea79c6abf4",
      "text": "[[Hiccup]] shape tree renderer for vanilla [[Canvas]] 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo], Source code: "
    },
    {
      "type": "code",
      "id": "4191e2b327fd8680",
      "text": "import { adaptDPI } from \"https://cdn.skypack.dev/@thi.ng/adapt-dpi\";\nimport { circle, group, star, vertices } from \"https://cdn.skypack.dev/@thi.ng/geom\";\nimport { compFill, defDots, defHatchPen, fuzzyPoly, jitterPoints, } from \"https://cdn.skypack.dev/@thi.ng/geom-fuzz\";\nimport { draw } from \"https://cdn.skypack.dev/@thi.ng/hiccup-canvas\";\nimport { fromInterval } from \"https://cdn.skypack.dev/@thi.ng/rstream\";"
    },
    {
      "type": "frame",
      "id": "5396a0b4e33715c0",
      "text": "//wiki.ralfbarkow.ch/assets/pages/js-snippet-template/importjs.html\nHEIGHT 256"
    },
    {
      "type": "code",
      "id": "a0c244706c469194",
      "text": "const W = 300;\nconst SHAPES = {\n    tri: vertices(circle(100), 3),\n    hex: vertices(circle(50), 6),\n    star: vertices(star(50, 6, [0.5, 1])),\n    spike: jitterPoints(vertices(circle(40), 12), 15),\n};\nconst PEN1 = defHatchPen([0, 0.8, 1, 0.5]);\nconst PEN2 = compFill(defHatchPen(\"#f3f\", \"d\", 1, 3), defHatchPen(\"#f3f\", \"v\", 1, 3));\nconst PEN3 = defHatchPen([1, 1, 0, 0.5], \"h\", 4, 1.2);\nconst PEN4 = defDots({\n    jitter: 1,\n    attribs: { size: 1.5, fill: [0, 1, 0], stroke: \"none\" },\n});\nconst curvePos = (t, fx, fy, ax, ay) => [Math.sin(t * fx) * ax + W / 2, Math.cos(t * fy) * ay + W / 2];\n"
    },
    {
      "type": "code",
      "id": "b5dc575c2c3a729f",
      "text": "const canvas = document.createElement(\"canvas\");\ndocument.body.appendChild(canvas);\nadaptDPI(canvas, W, W);\nconst ctx = canvas.getContext(\"2d\");\nfromInterval(1000 / 30).subscribe({\n    next(t) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        draw(ctx, group({ stroke: \"black\", scale: window.devicePixelRatio || 1 }, [\n            fuzzyPoly(SHAPES.tri, { translate: [150, 150], rotate: t * 0.04 }, {\n                fill: PEN1,\n                curveScale: 0.05,\n                jitter: 3,\n            }),\n            fuzzyPoly(SHAPES.star, {\n                translate: curvePos(t, 0.02, 0.03, 100, 50),\n            }, {\n                fill: PEN2,\n                curveScale: 0.3,\n            }),\n            fuzzyPoly(SHAPES.hex, {\n                translate: curvePos(t + 100, 0.03, 0.02, 100, 50),\n            }, {\n                fill: PEN3,\n                curveScale: 0.1,\n            }),\n            fuzzyPoly(SHAPES.spike, {\n                translate: curvePos(t, 0.04, 0.03, 50, 100),\n            }, {\n                fill: PEN4,\n            }),\n        ]));\n    },\n});"
    },
    {
      "type": "paragraph",
      "id": "5a09436d5a57bac7",
      "text": "See the animation in the Frame paragraph above."
    },
    {
      "type": "paragraph",
      "id": "ba289f77356fe173",
      "text": "⇒ [[About Frame Plugin]], [[About Frame Integrations]]"
    },
    {
      "type": "pagefold",
      "id": "84a80dbf89bd9d0f",
      "text": "~"
    },
    {
      "type": "paragraph",
      "id": "9a8d3d7f17241c23",
      "text": "⇒ Example Build Instructions [https://github.com/thi-ng/umbrella/wiki/Example-build-instructions github], [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas#installation installation] ⇒ [[Static Import Snippet]] ⇒ [[ES Module Import]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "geom-fuzz-basics",
        "story": []
      },
      "date": 1678258129643
    },
    {
      "item": {
        "type": "factory",
        "id": "74cb21ea79c6abf4"
      },
      "id": "74cb21ea79c6abf4",
      "type": "add",
      "date": 1678258130858
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "– [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github]"
      },
      "date": 1678258143800
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "– [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo]"
      },
      "date": 1678258172540
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla Canvas 2D contexts. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo]"
      },
      "date": 1678258223317
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla Canvas 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo]"
      },
      "date": 1678258300163
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla [[Canvas]] 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo]"
      },
      "date": 1678258327566
    },
    {
      "id": "a687aa265ec1682b",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "a687aa265ec1682b",
        "text": "⇒ [[geom-fuzz-basics]] [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo] ⇒ Example Build Instructions [https://github.com/thi-ng/umbrella/wiki/Example-build-instructions github], [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas#installation installation] ⇒ [[Static Import Snippet]]"
      },
      "after": "74cb21ea79c6abf4",
      "attribution": {
        "page": "2023-03-08"
      },
      "date": 1678301366585
    },
    {
      "type": "remove",
      "id": "a687aa265ec1682b",
      "date": 1678301376483
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla [[Canvas]] 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo] ⇒ Example Build Instructions [https://github.com/thi-ng/umbrella/wiki/Example-build-instructions github], [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas#installation installation] ⇒ [[Static Import Snippet]]"
      },
      "date": 1678301384619
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla [[Canvas]] 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo] ⇒ Example Build Instructions [https://github.com/thi-ng/umbrella/wiki/Example-build-instructions github], [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas#installation installation] ⇒ [[Static Import Snippet]] ⇒ [[ES Module Import]]"
      },
      "date": 1678301427078
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla [[Canvas]] 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo] "
      },
      "date": 1678301434798
    },
    {
      "type": "add",
      "id": "9a8d3d7f17241c23",
      "item": {
        "type": "paragraph",
        "id": "9a8d3d7f17241c23",
        "text": "⇒ Example Build Instructions [https://github.com/thi-ng/umbrella/wiki/Example-build-instructions github], [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas#installation installation] ⇒ [[Static Import Snippet]] ⇒ [[ES Module Import]]"
      },
      "after": "74cb21ea79c6abf4",
      "date": 1678301435588
    },
    {
      "id": "4191e2b327fd8680",
      "type": "add",
      "item": {
        "type": "code",
        "id": "4191e2b327fd8680",
        "text": "import { adaptDPI } from \"https://cdn.skypack.dev/@thi.ng/adapt-dpi\";\nimport { circle, group, star, vertices } from \"https://cdn.skypack.dev/@thi.ng/geom\";\nimport { compFill, defDots, defHatchPen, fuzzyPoly, jitterPoints, } from \"https://cdn.skypack.dev/@thi.ng/geom-fuzz\";\nimport { draw } from \"https://cdn.skypack.dev/@thi.ng/hiccup-canvas\";\nimport { fromInterval } from \"https://cdn.skypack.dev/@thi.ng/rstream\";"
      },
      "after": "74cb21ea79c6abf4",
      "attribution": {
        "page": "ES Module Import"
      },
      "date": 1678338515315
    },
    {
      "id": "5396a0b4e33715c0",
      "type": "add",
      "item": {
        "type": "frame",
        "id": "5396a0b4e33715c0",
        "text": "//wiki.ralfbarkow.ch/assets/pages/js-snippet-template/importjs.html\nHEIGHT 256"
      },
      "after": "4191e2b327fd8680",
      "attribution": {
        "page": "ES Module Import"
      },
      "date": 1678338521740
    },
    {
      "id": "b5dc575c2c3a729f",
      "type": "add",
      "item": {
        "type": "code",
        "id": "b5dc575c2c3a729f",
        "text": "const canvas = document.createElement(\"canvas\");\ndocument.body.appendChild(canvas);\nadaptDPI(canvas, W, W);\nconst ctx = canvas.getContext(\"2d\");\nfromInterval(1000 / 30).subscribe({\n    next(t) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        draw(ctx, group({ stroke: \"black\", scale: window.devicePixelRatio || 1 }, [\n            fuzzyPoly(SHAPES.tri, { translate: [150, 150], rotate: t * 0.04 }, {\n                fill: PEN1,\n                curveScale: 0.05,\n                jitter: 3,\n            }),\n            fuzzyPoly(SHAPES.star, {\n                translate: curvePos(t, 0.02, 0.03, 100, 50),\n            }, {\n                fill: PEN2,\n                curveScale: 0.3,\n            }),\n            fuzzyPoly(SHAPES.hex, {\n                translate: curvePos(t + 100, 0.03, 0.02, 100, 50),\n            }, {\n                fill: PEN3,\n                curveScale: 0.1,\n            }),\n            fuzzyPoly(SHAPES.spike, {\n                translate: curvePos(t, 0.04, 0.03, 50, 100),\n            }, {\n                fill: PEN4,\n            }),\n        ]));\n    },\n});"
      },
      "after": "5396a0b4e33715c0",
      "attribution": {
        "page": "ES Module Import"
      },
      "date": 1678338556064
    },
    {
      "id": "a0c244706c469194",
      "type": "add",
      "item": {
        "type": "code",
        "id": "a0c244706c469194",
        "text": "const W = 300;\nconst SHAPES = {\n    tri: vertices(circle(100), 3),\n    hex: vertices(circle(50), 6),\n    star: vertices(star(50, 6, [0.5, 1])),\n    spike: jitterPoints(vertices(circle(40), 12), 15),\n};\nconst PEN1 = defHatchPen([0, 0.8, 1, 0.5]);\nconst PEN2 = compFill(defHatchPen(\"#f3f\", \"d\", 1, 3), defHatchPen(\"#f3f\", \"v\", 1, 3));\nconst PEN3 = defHatchPen([1, 1, 0, 0.5], \"h\", 4, 1.2);\nconst PEN4 = defDots({\n    jitter: 1,\n    attribs: { size: 1.5, fill: [0, 1, 0], stroke: \"none\" },\n});\nconst curvePos = (t, fx, fy, ax, ay) => [Math.sin(t * fx) * ax + W / 2, Math.cos(t * fy) * ay + W / 2];\n"
      },
      "after": "5396a0b4e33715c0",
      "attribution": {
        "page": "2023-03-08"
      },
      "date": 1678338559114
    },
    {
      "type": "edit",
      "id": "74cb21ea79c6abf4",
      "item": {
        "type": "paragraph",
        "id": "74cb21ea79c6abf4",
        "text": "[[Hiccup]] shape tree renderer for vanilla [[Canvas]] 2D contexts example. [https://github.com/thi-ng/umbrella/tree/develop/packages/hiccup-canvas github], [https://demo.thi.ng/umbrella/geom-fuzz-basics/ demo], Source code: "
      },
      "date": 1678338749173
    },
    {
      "item": {
        "type": "factory",
        "id": "5a09436d5a57bac7"
      },
      "id": "5a09436d5a57bac7",
      "type": "add",
      "after": "9a8d3d7f17241c23",
      "date": 1678338785775
    },
    {
      "id": "5a09436d5a57bac7",
      "type": "move",
      "order": [
        "74cb21ea79c6abf4",
        "4191e2b327fd8680",
        "5396a0b4e33715c0",
        "a0c244706c469194",
        "b5dc575c2c3a729f",
        "5a09436d5a57bac7",
        "9a8d3d7f17241c23"
      ],
      "date": 1678338787654
    },
    {
      "type": "edit",
      "id": "5a09436d5a57bac7",
      "item": {
        "type": "paragraph",
        "id": "5a09436d5a57bac7",
        "text": "See the animation in the [[Frame]] paragraph above."
      },
      "date": 1678338816229
    },
    {
      "item": {
        "type": "factory",
        "id": "84a80dbf89bd9d0f"
      },
      "id": "84a80dbf89bd9d0f",
      "type": "add",
      "after": "9a8d3d7f17241c23",
      "date": 1678339295545
    },
    {
      "type": "edit",
      "id": "84a80dbf89bd9d0f",
      "item": {
        "type": "pagefold",
        "id": "84a80dbf89bd9d0f",
        "text": "~"
      },
      "date": 1678339298701
    },
    {
      "id": "84a80dbf89bd9d0f",
      "type": "move",
      "order": [
        "74cb21ea79c6abf4",
        "4191e2b327fd8680",
        "5396a0b4e33715c0",
        "a0c244706c469194",
        "b5dc575c2c3a729f",
        "5a09436d5a57bac7",
        "84a80dbf89bd9d0f",
        "9a8d3d7f17241c23"
      ],
      "date": 1678339300664
    },
    {
      "type": "edit",
      "id": "5a09436d5a57bac7",
      "item": {
        "type": "paragraph",
        "id": "5a09436d5a57bac7",
        "text": "See the animation in the Frame paragraph above."
      },
      "date": 1678344529278
    },
    {
      "type": "add",
      "id": "ba289f77356fe173",
      "item": {
        "type": "paragraph",
        "id": "ba289f77356fe173",
        "text": "⇒ About Frame Plugin, About Frame Integrations⇒ About Frame Plugin, About Frame Integrations"
      },
      "after": "5a09436d5a57bac7",
      "date": 1678344531581
    },
    {
      "type": "edit",
      "id": "ba289f77356fe173",
      "item": {
        "type": "paragraph",
        "id": "ba289f77356fe173",
        "text": "⇒ [[About Frame Plugin]], [[About Frame Integrations]]"
      },
      "date": 1678344539799
    }
  ]
}