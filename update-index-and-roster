{
  "title": "Update Index and Roster",
  "story": [
    {
      "type": "markdown",
      "id": "142efb214109c8cf",
      "text": "The __Update Index and Roster__ [[Wiki Button]] is a customiseable button that powers the updating of various [[Activity View]]s."
    },
    {
      "type": "html",
      "id": "4cdc18ab962eee48",
      "text": "<div align=right>\n<form action='https://rest.livecode.world/roster/atopiaSites'>\n\n&nbsp;&nbsp;\n<input name='wikiDomain' \nvalue='obeya.xyz'  \ntype='hidden'>\n\n<button type='submit'>Create obeya.xyz index page</button>\n</form>\n</div>"
    },
    {
      "type": "markdown",
      "id": "23290603ecb4f996",
      "text": "# Customisation\n\n"
    },
    {
      "type": "markdown",
      "id": "3f676a70b25b81d0",
      "text": "The example on the [[Dojo Sites]] page is more sophisticated, as it updates a specific page with an atypical name - rather than simply creating a new page. Examine the html of the form to explore the syntax.\n"
    },
    {
      "type": "markdown",
      "id": "66079e7faa9979ab",
      "text": "To start we have a choice of one of two transport urls to set in the form action. This is the first line of the html of the wiki-button, which takes the following form:\n"
    },
    {
      "type": "code",
      "id": "eb70fb389c773dbe",
      "text": "<form action='{{transportURL}}'>"
    },
    {
      "type": "markdown",
      "id": "20e52cad06afefd1",
      "text": "Replace the existing url or the `{{transportURL}}` element in the form with one of the following:\n"
    },
    {
      "type": "markdown",
      "id": "5141487107d54d2d",
      "text": "- https://rest.livecode.world/roster/atopiaSites\n- https://rest.livecode.world/roster/sites\n"
    },
    {
      "type": "markdown",
      "id": "b5800a3d49c77309",
      "text": "The `/atopiaSites` version is used for sites on the [[Atopia Server]] (and is therefore faster). The `/sites` version is used for other federation sites and relies on data scraped from Wards [[ruby sitemap scrape]] which is considerably slower.\n"
    },
    {
      "type": "markdown",
      "id": "b26e7d701034e0a5",
      "text": "The most important parameter is the `wikiDomain` param. Set this to the domain or subdomain you want to display rosters for. The element in the form to customise looks like:"
    },
    {
      "type": "code",
      "id": "878fd56922ac4db8",
      "text": "<input\nname='wikiDomain' value='{{fedwikiDomain}}'\ntype='hidden'>"
    },
    {
      "type": "markdown",
      "id": "9aeff051c79cf8d7",
      "text": "To provide an [[activity view]] of all the domains and subdomains of `fedwiki.org` use the following:"
    },
    {
      "type": "code",
      "id": "64a49e17a4fbccb6",
      "text": "<input\nname='wikiDomain' value='fedwiki.org'\ntype='hidden'>"
    },
    {
      "type": "markdown",
      "id": "b0a0d6b201334cb0",
      "text": "to do the same for all the subdomains higher than `dojo.fed.wiki` use:\n"
    },
    {
      "type": "code",
      "id": "02019305a3210ba8",
      "text": "<input\nname='wikiDomain' value='dojo.fed.wiki'\ntype='hidden'>"
    },
    {
      "type": "markdown",
      "id": "93e66c2aded3b880",
      "text": "To use a non-default template as a starting point, add the following optional parameter:"
    },
    {
      "type": "code",
      "id": "7bba1fe9c3479895",
      "text": "<input name='pageTitle' value='{{Page Title}}' type='hidden'>\n"
    },
    {
      "type": "markdown",
      "id": "d0cd336e6aea42ff",
      "text": "For instance the [[Dojo Index]] wiki-button uses:"
    },
    {
      "type": "code",
      "id": "a00176f37c1bfcf7",
      "text": "<input name='pageTitle' value='Dojo Sites' type='hidden'>\n"
    },
    {
      "type": "markdown",
      "id": "4a1a20afb0f46aac",
      "text": "# See also\n\n- [[Wiki Form]]\n- [[Wiki Button]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Update Index and Roster",
        "story": []
      },
      "date": 1608399768898
    },
    {
      "item": {
        "type": "factory",
        "id": "142efb214109c8cf"
      },
      "id": "142efb214109c8cf",
      "type": "add",
      "date": 1608399770067
    },
    {
      "type": "edit",
      "id": "142efb214109c8cf",
      "item": {
        "type": "markdown",
        "id": "142efb214109c8cf",
        "text": "The __Update Index and Roster__ [[wiki-button]] is a customiseable button that powers the updating of various [[Activity View]]s."
      },
      "date": 1608399814747
    },
    {
      "type": "edit",
      "id": "142efb214109c8cf",
      "item": {
        "type": "markdown",
        "id": "142efb214109c8cf",
        "text": "The __Update Index and Roster__ [[Wiki Button]] is a customiseable button that powers the updating of various [[Activity View]]s."
      },
      "date": 1608399832925
    },
    {
      "id": "23290603ecb4f996",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "23290603ecb4f996",
        "text": "# Customisation\n\n"
      },
      "after": "142efb214109c8cf",
      "date": 1608401732000
    },
    {
      "id": "3f676a70b25b81d0",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "3f676a70b25b81d0",
        "text": "The example on the [[Dojo Sites]] page is more sophisticated, as it updates a specific page with an atypical name - rather than simply creating a new page. Examine the html of the form to explore the syntax.\n"
      },
      "after": "23290603ecb4f996",
      "date": 1608401740259
    },
    {
      "id": "66079e7faa9979ab",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "66079e7faa9979ab",
        "text": "To start we have a choice of one of two transport urls to set in the form action. This is the first line of the html of the wiki-button, which takes the following form:\n"
      },
      "after": "3f676a70b25b81d0",
      "date": 1608401744738
    },
    {
      "id": "eb70fb389c773dbe",
      "type": "add",
      "item": {
        "type": "code",
        "id": "eb70fb389c773dbe",
        "text": "<form action='{{transportURL}}'>"
      },
      "after": "66079e7faa9979ab",
      "date": 1608401749801
    },
    {
      "id": "20e52cad06afefd1",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "20e52cad06afefd1",
        "text": "Replace the existing url or the `{{transportURL}}` element in the form with one of the following:\n"
      },
      "after": "eb70fb389c773dbe",
      "date": 1608401752556
    },
    {
      "id": "5141487107d54d2d",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "5141487107d54d2d",
        "text": "- https://rest.livecode.world/roster/atopiaSites\n- https://rest.livecode.world/roster/sites\n"
      },
      "after": "20e52cad06afefd1",
      "date": 1608401755473
    },
    {
      "id": "b5800a3d49c77309",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "b5800a3d49c77309",
        "text": "The `/atopiaSites` version is used for sites on the [[Atopia Server]] (and is therefore faster). The `/sites` version is used for other federation sites and relies on data scraped from Wards [[ruby sitemap scrape]] which is considerably slower.\n"
      },
      "after": "5141487107d54d2d",
      "date": 1608401758570
    },
    {
      "id": "b26e7d701034e0a5",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "b26e7d701034e0a5",
        "text": "The most important parameter is the `wikiDomain` param. Set this to the domain or subdomain you want to display rosters for. The element in the form to customise looks like:"
      },
      "after": "b5800a3d49c77309",
      "date": 1608401761013
    },
    {
      "id": "878fd56922ac4db8",
      "type": "add",
      "item": {
        "type": "code",
        "id": "878fd56922ac4db8",
        "text": "<input\nname='wikiDomain' value='{{fedwikiDomain}}'\ntype='hidden'>"
      },
      "after": "b26e7d701034e0a5",
      "date": 1608401763539
    },
    {
      "id": "9aeff051c79cf8d7",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "9aeff051c79cf8d7",
        "text": "To provide an [[activity view]] of all the domains and subdomains of `fedwiki.org` use the following:"
      },
      "after": "878fd56922ac4db8",
      "date": 1608401766817
    },
    {
      "id": "64a49e17a4fbccb6",
      "type": "add",
      "item": {
        "type": "code",
        "id": "64a49e17a4fbccb6",
        "text": "<input\nname='wikiDomain' value='fedwiki.org'\ntype='hidden'>"
      },
      "after": "9aeff051c79cf8d7",
      "date": 1608401770705
    },
    {
      "id": "b0a0d6b201334cb0",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "b0a0d6b201334cb0",
        "text": "to do the same for all the subdomains higher than `dojo.fed.wiki` use:\n"
      },
      "after": "64a49e17a4fbccb6",
      "date": 1608401772701
    },
    {
      "id": "02019305a3210ba8",
      "type": "add",
      "item": {
        "type": "code",
        "id": "02019305a3210ba8",
        "text": "<input\nname='wikiDomain' value='dojo.fed.wiki'\ntype='hidden'>"
      },
      "after": "b0a0d6b201334cb0",
      "date": 1608401774506
    },
    {
      "id": "93e66c2aded3b880",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "93e66c2aded3b880",
        "text": "To use a non-default template as a starting point, add the following optional parameter:"
      },
      "after": "02019305a3210ba8",
      "date": 1608401776449
    },
    {
      "id": "7bba1fe9c3479895",
      "type": "add",
      "item": {
        "type": "code",
        "id": "7bba1fe9c3479895",
        "text": "<input name='pageTitle' value='{{Page Title}}' type='hidden'>\n"
      },
      "after": "93e66c2aded3b880",
      "date": 1608401778330
    },
    {
      "id": "d0cd336e6aea42ff",
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "d0cd336e6aea42ff",
        "text": "For instance the [[Dojo Index]] wiki-button uses:"
      },
      "after": "7bba1fe9c3479895",
      "date": 1608401781442
    },
    {
      "id": "a00176f37c1bfcf7",
      "type": "add",
      "item": {
        "type": "code",
        "id": "a00176f37c1bfcf7",
        "text": "<input name='pageTitle' value='Dojo Sites' type='hidden'>\n"
      },
      "after": "d0cd336e6aea42ff",
      "date": 1608401785754
    },
    {
      "item": {
        "type": "factory",
        "id": "4a1a20afb0f46aac"
      },
      "id": "4a1a20afb0f46aac",
      "type": "add",
      "after": "a00176f37c1bfcf7",
      "date": 1608401789248
    },
    {
      "type": "edit",
      "id": "4a1a20afb0f46aac",
      "item": {
        "type": "markdown",
        "id": "4a1a20afb0f46aac",
        "text": "# See also\n\n- [[Wiki Form]]\n- [[Wiki Button]]"
      },
      "date": 1608401811052
    },
    {
      "type": "fork",
      "site": "david.dojo.fed.wiki",
      "date": 1608401942914
    },
    {
      "type": "fork",
      "date": 1608401966002
    },
    {
      "item": {
        "type": "factory",
        "id": "4cdc18ab962eee48"
      },
      "id": "4cdc18ab962eee48",
      "type": "add",
      "after": "4a1a20afb0f46aac",
      "date": 1608401967771
    },
    {
      "type": "edit",
      "id": "4cdc18ab962eee48",
      "item": {
        "type": "html",
        "id": "4cdc18ab962eee48",
        "text": "<div align=right>\n<form action='https://rest.livecode.world/roster/atopiaSites'>\n\n&nbsp;&nbsp;\n<input name='wikiDomain' \nvalue='fedwiki.org'  \ntype='hidden'>\n\n<button type='submit'>Create fedwiki.org index page</button>\n</form>\n</div>"
      },
      "date": 1608401969503
    },
    {
      "id": "4cdc18ab962eee48",
      "type": "move",
      "order": [
        "142efb214109c8cf",
        "4cdc18ab962eee48",
        "23290603ecb4f996",
        "3f676a70b25b81d0",
        "66079e7faa9979ab",
        "eb70fb389c773dbe",
        "20e52cad06afefd1",
        "5141487107d54d2d",
        "b5800a3d49c77309",
        "b26e7d701034e0a5",
        "878fd56922ac4db8",
        "9aeff051c79cf8d7",
        "64a49e17a4fbccb6",
        "b0a0d6b201334cb0",
        "02019305a3210ba8",
        "93e66c2aded3b880",
        "7bba1fe9c3479895",
        "d0cd336e6aea42ff",
        "a00176f37c1bfcf7",
        "4a1a20afb0f46aac"
      ],
      "date": 1608401974318
    },
    {
      "type": "fork",
      "site": "fedwiki.org",
      "date": 1608401985238
    },
    {
      "type": "edit",
      "id": "4cdc18ab962eee48",
      "item": {
        "type": "html",
        "id": "4cdc18ab962eee48",
        "text": "<div align=right>\n<form action='https://rest.livecode.world/roster/atopiaSites'>\n\n&nbsp;&nbsp;\n<input name='wikiDomain' \nvalue='obeya.xyz'  \ntype='hidden'>\n\n<button type='submit'>Create obeya.xyz index page</button>\n</form>\n</div>"
      },
      "date": 1608402019427
    },
    {
      "type": "fork",
      "site": "david.dojo.fed.wiki",
      "date": 1709620186846
    }
  ]
}