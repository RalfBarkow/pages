{
  "title": "Test SVG Import from Omnigraffle",
  "story": [
    {
      "type": "paragraph",
      "id": "6df70fe2c885ea35",
      "text": "Omnigraffle saves this diagram as a folder with two files which we have copied here. Our question is how to view these files in wiki such that the labels are clickable."
    },
    {
      "type": "paragraph",
      "id": "ef8a88af3cb5230c",
      "text": "If we click the svg file in the asset folder it will open the svg and the associated png in a new tab."
    },
    {
      "type": "assets",
      "id": "c99fffdc5612fc0f",
      "text": "pages/test-svg-import-from-omnigraffle"
    },
    {
      "type": "paragraph",
      "id": "5fd7cd2c2318fef1",
      "text": "We can also open the svg inside a Frame plugin but it isn't scaled as we desire and the text doesn't click. This is as expected."
    },
    {
      "type": "frame",
      "id": "e514cfe3a9b4f939",
      "text": "//wiki.ralfbarkow.ch/assets/pages/test-svg-import-from-omnigraffle/Canvas 1.svg\nHEIGHT 500"
    },
    {
      "type": "paragraph",
      "id": "bce828ed20ca1333",
      "text": "We tried referring to the svg asset in an img tag in the html plugin. This gave us only the labels that don't click (as expected) and no image (unexpected)."
    },
    {
      "type": "paragraph",
      "id": "4c579b14945f7c8e",
      "text": "We tried copying the svg file's contents to the html plugin after editing the svg to refer to the fully qualified address of the png. This showed labels but no image. We believe dompurify has removed the link."
    },
    {
      "type": "paragraph",
      "id": "10025599795bb435",
      "text": "We suspect some additional mechanism will be required at the plugin level to support image references in svg. Your thoughts?"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Test SVG Import from Omnigraffle",
        "story": []
      },
      "date": 1661099507767
    },
    {
      "item": {
        "type": "factory",
        "id": "ff7ebc1a703542a1"
      },
      "id": "ff7ebc1a703542a1",
      "type": "add",
      "date": 1661099509477
    },
    {
      "type": "remove",
      "id": "ff7ebc1a703542a1",
      "date": 1661099515849
    },
    {
      "item": {
        "type": "factory",
        "id": "c99fffdc5612fc0f"
      },
      "id": "c99fffdc5612fc0f",
      "type": "add",
      "date": 1661099540444
    },
    {
      "type": "edit",
      "id": "c99fffdc5612fc0f",
      "item": {
        "type": "assets",
        "id": "c99fffdc5612fc0f",
        "text": "pages/test-svg-import-from-omnigraffle"
      },
      "date": 1661099644531
    },
    {
      "item": {
        "type": "factory",
        "id": "3174813c6f579ee4"
      },
      "id": "3174813c6f579ee4",
      "type": "add",
      "after": "c99fffdc5612fc0f",
      "date": 1661099733212
    },
    {
      "type": "edit",
      "id": "3174813c6f579ee4",
      "item": {
        "type": "html",
        "id": "3174813c6f579ee4",
        "text": "<img width=100% src=https://marc.relocalizecreativity.net/assets/pages/test-svg-import-from-omnigraffle/Canvas%201.svg>"
      },
      "date": 1661099893931
    },
    {
      "type": "edit",
      "id": "3174813c6f579ee4",
      "item": {
        "type": "html",
        "id": "3174813c6f579ee4",
        "text": "<svg width=100% src=https://marc.relocalizecreativity.net/assets/pages/test-svg-import-from-omnigraffle/Canvas%201.svg>"
      },
      "date": 1661100031473
    },
    {
      "type": "edit",
      "id": "3174813c6f579ee4",
      "item": {
        "type": "html",
        "id": "3174813c6f579ee4",
        "text": "<img width=100% src=https://marc.relocalizecreativity.net/assets/pages/test-svg-import-from-omnigraffle/Canvas%201.svg>"
      },
      "date": 1661100055409
    },
    {
      "type": "edit",
      "id": "3174813c6f579ee4",
      "item": {
        "type": "html",
        "id": "3174813c6f579ee4",
        "text": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<svg xmlns:xl=\"http://www.w3.org/1999/xlink\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"2 -5 832 1013\" width=\"832\" height=\"1013\">\n  <defs/>\n  <g id=\"Canvas_1\" stroke=\"none\" stroke-dasharray=\"none\" stroke-opacity=\"1\" fill=\"none\" fill-opacity=\"1\">\n    <title>Canvas 1</title>\n    <rect fill=\"white\" x=\"2\" y=\"-5\" width=\"832\" height=\"1013\"/>\n    <g id=\"Canvas_1_Layer_1\">\n      <title>Layer 1</title>\n      <g id=\"Graphic_2\">\n        <rect x=\"2.8346457\" y=\"-4.2519685\" width=\"831\" height=\"1012\" id=\"path\"/>\n        <clipPath id=\"clip_path\">\n          <use xl:href=\"#path\"/>\n        </clipPath>\n        <g clip-path=\"url(#clip_path)\">\n          <image xl:href=\"https://marc.relocalizecreativity.net/assets/pages/test-svg-import-from-omnigraffle/image1.png\" width=\"831\" height=\"1012\" transform=\"translate(2.8346457 -4.2519685)\"/>\n        </g>\n      </g>\n      <g id=\"Graphic_3\"/>\n      <g id=\"Graphic_4\">\n        <rect x=\"205.51181\" y=\"96.37795\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"205.51181\" y=\"96.37795\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(210.51181 101.32718)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"8.307087\" y=\"15\">FACE</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_5\">\n        <rect x=\"542.83465\" y=\"272.126\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"542.83465\" y=\"272.126\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(547.83465 277.0752)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"7.419087\" y=\"15\">PACK</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_6\">\n        <rect x=\"428.0315\" y=\"46.771654\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"428.0315\" y=\"46.771654\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(433.0315 51.720883)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"12.755087\" y=\"15\">EAR</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_7\">\n        <rect x=\"392.59843\" y=\"165.82677\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"392.59843\" y=\"165.82677\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(397.59843 170.776)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"4.315087\" y=\"15\">BRAIN</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_8\">\n        <rect x=\"160.15748\" y=\"564.0945\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"160.15748\" y=\"564.0945\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(165.15748 569.0437)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"4.747087\" y=\"15\">BELLY</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_9\">\n        <rect x=\"385.02756\" y=\"439.3701\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"385.02756\" y=\"439.3701\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(390.02756 444.3193)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"6.531087\" y=\"15\">BACK</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_10\">\n        <rect x=\"443.62205\" y=\"772.44095\" width=\"70.86614\" height=\"52.440945\" fill=\"white\"/>\n        <rect x=\"443.62205\" y=\"772.44095\" width=\"70.86614\" height=\"52.440945\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(448.62205 762.2134)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"8.657071\" y=\"33\">BACK</tspan>\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"15.025071\" y=\"51.448\">LEG</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_11\">\n        <rect x=\"297.6378\" y=\"317.4803\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"297.6378\" y=\"317.4803\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(302.6378 322.42955)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"2.091087\" y=\"15\">CHEST</tspan>\n        </text>\n      </g>\n      <g id=\"Graphic_12\">\n        <rect x=\"428.0315\" y=\"267.87402\" width=\"66.61417\" height=\"28.346457\" fill=\"white\"/>\n        <rect x=\"428.0315\" y=\"267.87402\" width=\"66.61417\" height=\"28.346457\" stroke=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"/>\n        <text transform=\"translate(433.0315 272.82325)\" fill=\"#5072ff\">\n          <tspan font-family=\"Helvetica Neue\" font-size=\"16\" fill=\"#5072ff\" x=\"6.083087\" y=\"15\">PONS</tspan>\n        </text>\n      </g>\n    </g>\n  </g>\n</svg>\n"
      },
      "date": 1661100303636
    },
    {
      "type": "fork",
      "site": "marc.relocalizecreativity.net",
      "date": 1661101031801
    },
    {
      "type": "remove",
      "id": "3174813c6f579ee4",
      "date": 1661101100404
    },
    {
      "item": {
        "type": "factory",
        "id": "e514cfe3a9b4f939"
      },
      "id": "e514cfe3a9b4f939",
      "type": "add",
      "after": "c99fffdc5612fc0f",
      "date": 1661101101912
    },
    {
      "type": "edit",
      "id": "e514cfe3a9b4f939",
      "item": {
        "type": "frame",
        "id": "e514cfe3a9b4f939",
        "text": "http://ward.dojo.fed.wiki/assets/pages/test-svg-import-from-omnigraffle/Canvas%25201.svg"
      },
      "date": 1661101110181
    },
    {
      "type": "edit",
      "id": "e514cfe3a9b4f939",
      "item": {
        "type": "frame",
        "id": "e514cfe3a9b4f939",
        "text": "http://ward.dojo.fed.wiki/assets/pages/test-svg-import-from-omnigraffle/Canvas%25201.svg\nHEIGHT 500"
      },
      "date": 1661101126076
    },
    {
      "item": {
        "type": "factory",
        "id": "6df70fe2c885ea35"
      },
      "id": "6df70fe2c885ea35",
      "type": "add",
      "after": "e514cfe3a9b4f939",
      "date": 1661101147938
    },
    {
      "type": "edit",
      "id": "6df70fe2c885ea35",
      "item": {
        "type": "paragraph",
        "id": "6df70fe2c885ea35",
        "text": "Omnigraffle saves this diagram as a folder with two files which we have copied here. Our question is how to view these files in wiki such that the labels are clickable."
      },
      "date": 1661101216118
    },
    {
      "id": "6df70fe2c885ea35",
      "type": "move",
      "order": [
        "6df70fe2c885ea35",
        "c99fffdc5612fc0f",
        "e514cfe3a9b4f939"
      ],
      "date": 1661101220912
    },
    {
      "type": "add",
      "id": "ef8a88af3cb5230c",
      "item": {
        "type": "paragraph",
        "id": "ef8a88af3cb5230c",
        "text": "If we click the svg file in the asset folder it will open the svg and the associated png in a new tab."
      },
      "after": "6df70fe2c885ea35",
      "date": 1661101289196
    },
    {
      "type": "add",
      "id": "5fd7cd2c2318fef1",
      "item": {
        "type": "paragraph",
        "id": "5fd7cd2c2318fef1",
        "text": "We can also open the svg inside a Frame plugin but it isn't scaled as we desire and the text doesn't click. This is as expected."
      },
      "after": "ef8a88af3cb5230c",
      "date": 1661101390690
    },
    {
      "id": "5fd7cd2c2318fef1",
      "type": "move",
      "order": [
        "6df70fe2c885ea35",
        "ef8a88af3cb5230c",
        "c99fffdc5612fc0f",
        "5fd7cd2c2318fef1",
        "e514cfe3a9b4f939"
      ],
      "date": 1661101392690
    },
    {
      "item": {
        "type": "factory",
        "id": "bce828ed20ca1333"
      },
      "id": "bce828ed20ca1333",
      "type": "add",
      "after": "e514cfe3a9b4f939",
      "date": 1661101405625
    },
    {
      "type": "edit",
      "id": "bce828ed20ca1333",
      "item": {
        "type": "paragraph",
        "id": "bce828ed20ca1333",
        "text": "We tried referring to the svg asset in an img tag in the html plugin. This gave us only the labels that don't click (as expected) and no image (unexpected)."
      },
      "date": 1661101576533
    },
    {
      "item": {
        "type": "factory",
        "id": "4c579b14945f7c8e"
      },
      "id": "4c579b14945f7c8e",
      "type": "add",
      "after": "bce828ed20ca1333",
      "date": 1661101577795
    },
    {
      "type": "edit",
      "id": "4c579b14945f7c8e",
      "item": {
        "type": "paragraph",
        "id": "4c579b14945f7c8e",
        "text": "We tried copying the svg file's contents to the html plugin after editing the svg to refer to the fully qualified address of the png. This showed labels but no image. We believe dompurify has removed the link."
      },
      "date": 1661101668061
    },
    {
      "type": "add",
      "id": "10025599795bb435",
      "item": {
        "type": "paragraph",
        "id": "10025599795bb435",
        "text": "We suspect some additional mechanism will be required at the plugin level to support image references in svg. Your thoughts?"
      },
      "after": "4c579b14945f7c8e",
      "date": 1661101764657
    },
    {
      "type": "fork",
      "site": "ward.dojo.fed.wiki",
      "date": 1661151364440
    },
    {
      "type": "edit",
      "id": "e514cfe3a9b4f939",
      "item": {
        "type": "frame",
        "id": "e514cfe3a9b4f939",
        "text": "//wiki.ralfbarkow.ch/assets/pages/test-svg-import-from-omnigraffle/Canvas%25201.svg\nHEIGHT 500"
      },
      "date": 1661152374858
    },
    {
      "type": "edit",
      "id": "e514cfe3a9b4f939",
      "item": {
        "type": "frame",
        "id": "e514cfe3a9b4f939",
        "text": "//wiki.ralfbarkow.ch/assets/pages/test-svg-import-from-omnigraffle/Canvas.svg\nHEIGHT 500"
      },
      "date": 1661152430536
    },
    {
      "type": "edit",
      "id": "e514cfe3a9b4f939",
      "item": {
        "type": "frame",
        "id": "e514cfe3a9b4f939",
        "text": "//wiki.ralfbarkow.ch/assets/pages/test-svg-import-from-omnigraffle/Canvas 1.svg\nHEIGHT 500"
      },
      "date": 1661152527531
    }
  ]
}