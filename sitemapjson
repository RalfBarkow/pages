{
  "title": "sitemap.json",
  "story": [
    {
      "type": "paragraph",
      "id": "634b1c97618f1f16",
      "text": "To understand the structure of the sitemap.json, it is  best to take a look at the server code that you can find on –\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]."
    },
    {
      "type": "paragraph",
      "id": "2fc8eada5917120d",
      "text": "It is a list containing an entry for each page – each entry containing being:"
    },
    {
      "type": "code",
      "id": "b7d91f68b313357d",
      "text": "entry = {\n      'slug': file\n      'title': page.title\n      'date': lastEdit(page.journal)\n      'synopsis': synopsis(page)\n}"
    },
    {
      "type": "paragraph",
      "id": "c443f2b554d65eed",
      "text": "Find the sitemaps as stored in the client. Open the inspector, view the javascript console, and examine the wiki neighborhood global."
    },
    {
      "type": "paragraph",
      "id": "a9c845504cf1ae03",
      "text": "To be a compatible member of the federation and meet the minimal [[Fedwiki Server Requirements]] a site must serve [[sitemap.json]] from:"
    },
    {
      "type": "markdown",
      "id": "d3d5a4f784141509",
      "text": "- http://fedwiki.org/system/sitemap.json"
    },
    {
      "type": "paragraph",
      "id": "216440b9a175d4c3",
      "text": "If you delete the sitemap the server will recreate it when asked."
    },
    {
      "type": "markdown",
      "id": "724146605fec5348",
      "text": "# Synopsis"
    },
    {
      "type": "paragraph",
      "id": "399c9ccc18fcb225",
      "text": "The sitemap includes the first paragraph of each page which the client uses for its search."
    },
    {
      "type": "paragraph",
      "id": "e67bd7d004223056",
      "text": "In order for this text to be searchable  with [[wiki-find]] the sitemap needs to be loaded into memory. You can force this by deleting the sitemap.json file as it is reloaded when the server recreates this file. Usually simply reloading the web page will acheive this result safely."
    },
    {
      "type": "markdown",
      "id": "4a2a2b2b-c6bd-4149-9bf8-74d767a69c06",
      "text": "# See also\n"
    },
    {
      "type": "markdown",
      "id": "59b3b1e975f9e2b4",
      "text": "- [[Wiki Sitemap]]"
    },
    {
      "type": "markdown",
      "id": "d0c2a501697dbc37",
      "text": "- [[Federation Directory]]\n- [[Current Sitemaps]]\n- [[Sitemap Scrape Statistics]]\n- [[Ruby Sitemap Scrape]]\n- [[Sitemap Scrape Improvements]]\n- [[Crawl Errors]]\n- [[Wiki Scrape]]\n- [[Fedwiki Search]]\n- [[Future Search]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "sitemap.json",
        "story": []
      },
      "date": 1517401810630
    },
    {
      "item": {
        "type": "factory",
        "id": "634b1c97618f1f16"
      },
      "id": "634b1c97618f1f16",
      "type": "add",
      "date": 1517401812272
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "For sitemap.json take a look at the existing server [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1517402028883
    },
    {
      "item": {
        "type": "factory",
        "id": "b7d91f68b313357d"
      },
      "id": "b7d91f68b313357d",
      "type": "add",
      "after": "2fc8eada5917120d",
      "date": 1517402039025
    },
    {
      "type": "add",
      "id": "2fc8eada5917120d",
      "item": {
        "type": "paragraph",
        "id": "2fc8eada5917120d",
        "text": "It is a list containing an entry for each page - each entry containing being:"
      },
      "after": "634b1c97618f1f16",
      "date": 1517402040263
    },
    {
      "type": "edit",
      "id": "b7d91f68b313357d",
      "item": {
        "type": "code",
        "id": "b7d91f68b313357d",
        "text": "entry = {\n      'slug': file\n      'title': page.title\n      'date': lastEdit(page.journal)\n      'synopsis': synopsis(page)\n}"
      },
      "date": 1517402044113
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "For sitemap.json take a look at the existing server -\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1517402055360
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json  best take a look at the server codewhich you can find on -\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1517402129459
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "a9c845504cf1ae03",
        "text": "To be searched a site must serve [[sitemap.json]]:"
      },
      "after": "b7d91f68b313357d",
      "id": "a9c845504cf1ae03",
      "date": 1517402133026
    },
    {
      "type": "add",
      "item": {
        "type": "code",
        "id": "c287d3e5f66294c2",
        "text": "http://example.com/system/sitemap.json"
      },
      "after": "a9c845504cf1ae03",
      "id": "c287d3e5f66294c2",
      "date": 1517402135576
    },
    {
      "type": "move",
      "order": [
        "b7d91f68b313357d",
        "c287d3e5f66294c2",
        "634b1c97618f1f16",
        "2fc8eada5917120d",
        "a9c845504cf1ae03"
      ],
      "id": "a9c845504cf1ae03",
      "date": 1517402167368
    },
    {
      "type": "move",
      "order": [
        "c287d3e5f66294c2",
        "634b1c97618f1f16",
        "2fc8eada5917120d",
        "a9c845504cf1ae03",
        "b7d91f68b313357d"
      ],
      "id": "b7d91f68b313357d",
      "date": 1517402169349
    },
    {
      "type": "edit",
      "id": "a9c845504cf1ae03",
      "item": {
        "type": "paragraph",
        "id": "a9c845504cf1ae03",
        "text": "To be a compatible member of the federation and meet the minimal [[Fedwiki Server Requirements]] a site must serve [[sitemap.json]] from:"
      },
      "date": 1517402235004
    },
    {
      "type": "move",
      "order": [
        "c287d3e5f66294c2",
        "634b1c97618f1f16",
        "2fc8eada5917120d",
        "b7d91f68b313357d",
        "a9c845504cf1ae03"
      ],
      "id": "b7d91f68b313357d",
      "date": 1517402239977
    },
    {
      "type": "move",
      "order": [
        "634b1c97618f1f16",
        "2fc8eada5917120d",
        "b7d91f68b313357d",
        "a9c845504cf1ae03",
        "c287d3e5f66294c2"
      ],
      "id": "c287d3e5f66294c2",
      "date": 1517402243608
    },
    {
      "type": "fork",
      "site": "hack.platform.earth",
      "date": 1547301118297
    },
    {
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "4a2a2b2b-c6bd-4149-9bf8-74d767a69c06",
        "text": "# See also\n"
      },
      "after": "c287d3e5f66294c2",
      "id": "4a2a2b2b-c6bd-4149-9bf8-74d767a69c06",
      "date": 1547302395531
    },
    {
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "d0c2a501697dbc37",
        "text": "- [[Federation Directory]]\n- [[Current Sitemaps]]\n- [[Sitemap Scrape Statistics]]\n- [[Ruby Sitemap Scrape]]\n- [[Sitemap Scrape Improvements]]\n- [[Crawl Errors]]\n- [[Wiki Scrape]]\n- [[Fedwiki Search]]\n- [[Future Search]]"
      },
      "after": "4a2a2b2b-c6bd-4149-9bf8-74d767a69c06",
      "id": "d0c2a501697dbc37",
      "date": 1547302397826
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "216440b9a175d4c3",
        "text": "If you delete the sitemap the server will recreate it when asked."
      },
      "after": "c287d3e5f66294c2",
      "id": "216440b9a175d4c3",
      "date": 1547302427174
    },
    {
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "d3d5a4f784141509",
        "text": "- http://fedwiki.org/system/sitemap.json"
      },
      "after": "216440b9a175d4c3",
      "id": "d3d5a4f784141509",
      "date": 1547302430826
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "724146605fec5348",
        "text": "The sitemap includes the first paragraph of each page which the client uses for its search."
      },
      "after": "d3d5a4f784141509",
      "id": "724146605fec5348",
      "date": 1547302433867
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "5da464e501d71076",
        "text": "Try text editing the first paragraph of the welcome page."
      },
      "after": "724146605fec5348",
      "id": "5da464e501d71076",
      "date": 1547302444427
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "e67bd7d004223056",
        "text": "The client can see the new text, but not search."
      },
      "after": "5da464e501d71076",
      "id": "e67bd7d004223056",
      "date": 1547302446782
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "5f0c76a3554f75e3",
        "text": "Try deleting ~/.wiki/status/sitemap.json"
      },
      "after": "e67bd7d004223056",
      "id": "5f0c76a3554f75e3",
      "date": 1547302449388
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "b8d506a1bc0e706b",
        "text": "The client search will see the new text on reload."
      },
      "after": "5f0c76a3554f75e3",
      "id": "b8d506a1bc0e706b",
      "date": 1547302451819
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "c443f2b554d65eed",
        "text": "Find the sitemaps as stored in the client. Open the inspector, view the javascript console, and examine the wiki neighborhood global."
      },
      "after": "b7d91f68b313357d",
      "id": "c443f2b554d65eed",
      "date": 1547302459802
    },
    {
      "type": "move",
      "order": [
        "634b1c97618f1f16",
        "2fc8eada5917120d",
        "b7d91f68b313357d",
        "c443f2b554d65eed",
        "a9c845504cf1ae03",
        "d3d5a4f784141509",
        "c287d3e5f66294c2",
        "216440b9a175d4c3",
        "724146605fec5348",
        "5da464e501d71076",
        "e67bd7d004223056",
        "5f0c76a3554f75e3",
        "b8d506a1bc0e706b",
        "4a2a2b2b-c6bd-4149-9bf8-74d767a69c06",
        "d0c2a501697dbc37"
      ],
      "id": "d3d5a4f784141509",
      "date": 1547302470679
    },
    {
      "type": "remove",
      "id": "c287d3e5f66294c2",
      "date": 1547302473081
    },
    {
      "type": "edit",
      "id": "724146605fec5348",
      "item": {
        "type": "paragraph",
        "id": "724146605fec5348",
        "text": "# Synopsis"
      },
      "date": 1547302513676
    },
    {
      "type": "add",
      "id": "399c9ccc18fcb225",
      "item": {
        "type": "paragraph",
        "id": "399c9ccc18fcb225",
        "text": "The sitemap includes the first paragraph of each page which the client uses for its search."
      },
      "after": "724146605fec5348",
      "date": 1547302514315
    },
    {
      "type": "remove",
      "id": "5da464e501d71076",
      "date": 1547302516377
    },
    {
      "type": "remove",
      "id": "5f0c76a3554f75e3",
      "date": 1547302535227
    },
    {
      "type": "remove",
      "id": "b8d506a1bc0e706b",
      "date": 1547302551022
    },
    {
      "type": "edit",
      "id": "724146605fec5348",
      "item": {
        "type": "markdown",
        "id": "724146605fec5348",
        "text": "# Synopsis"
      },
      "date": 1547302552936
    },
    {
      "type": "edit",
      "id": "e67bd7d004223056",
      "item": {
        "type": "paragraph",
        "id": "e67bd7d004223056",
        "text": "In order for this text to be searchable  with [[wiki-find]] the sitemap needs to be loaded into memory. You can force this by deleting the sitemap.json file as it is reloaded when the server recreates this file. Usually simply reloading the web page will acheive this result safely."
      },
      "date": 1547302663356
    },
    {
      "type": "add",
      "id": "59b3b1e975f9e2b4",
      "item": {
        "type": "markdown",
        "id": "59b3b1e975f9e2b4",
        "text": "- [[Wiki Sitemap]]"
      },
      "after": "4a2a2b2b-c6bd-4149-9bf8-74d767a69c06",
      "date": 1547302678651
    },
    {
      "type": "fork",
      "site": "search.fedwiki.org",
      "date": 1551205367556
    },
    {
      "type": "fork",
      "site": "fedwiki.org",
      "date": 1627577627388
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json  best take a look at the server code, which you can find on -\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1628629198040
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json, it is  best to take a look at the server code, which you can find on -\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1628629252470
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json, it is  best to take a look at the server code that we can find on -\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1628629269172
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json, it is  best to take a look at the server code that you can find on -\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1628629285271
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json, it is  best to take a look at the server code that you can find on \n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]"
      },
      "date": 1628629327262
    },
    {
      "type": "edit",
      "id": "634b1c97618f1f16",
      "item": {
        "type": "paragraph",
        "id": "634b1c97618f1f16",
        "text": "To understand the structure of the sitemap.json, it is  best to take a look at the server code that you can find on –\n [https://github.com/fedwiki/wiki-server/blob/master/lib/sitemap.coffee github]."
      },
      "date": 1628629520796
    },
    {
      "type": "edit",
      "id": "2fc8eada5917120d",
      "item": {
        "type": "paragraph",
        "id": "2fc8eada5917120d",
        "text": "It is a list containing an entry for each page – each entry containing being:"
      },
      "date": 1628629567560
    }
  ]
}