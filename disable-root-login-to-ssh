{
  "title": "Disable Root Login to SSH",
  "story": [
    {
      "type": "markdown",
      "id": "b07e5dbef96a778d",
      "text": "https://www.debiantutorials.com/disable-root-login-to-ssh/"
    },
    {
      "type": "markdown",
      "id": "e05eec25fb402c4c",
      "text": "Allowing root logins to your SSH damon is a big security threat. If the SSH port is open, hackers will probably at some time attempt to brute force your root password. It’s a good idea to disable root logins to SSH and instead use a normal user to login and type “su -” to enter the super user shell or sudo to perform tasks that require root privileges."
    },
    {
      "type": "markdown",
      "id": "0d02307bf33cb532",
      "text": "1. Open the SSH daemon config file and change this line: (pico /etc/ssh/sshd_config)"
    },
    {
      "type": "code",
      "id": "9e8cdded0e445999",
      "text": "PermitRootLogin no"
    },
    {
      "type": "markdown",
      "id": "197223394a630692",
      "text": "2. Restart the SSH daemon"
    },
    {
      "type": "code",
      "id": "951a31a38fc59b74",
      "text": "sudo systemctl restart ssh"
    },
    {
      "type": "pagefold",
      "id": "d2c669a9c1bab720",
      "text": "~"
    },
    {
      "type": "markdown",
      "id": "3872ac8a01f4099a",
      "text": "See also [[ssh_config]] — OpenSSH client configuration file and [https://www.a2hosting.com/kb/getting-started-guide/accessing-your-account/disabling-ssh-logins-for-root#Step-2.3A-Disable-SSH-logins-for-root page] – Step 2: Disable SSH logins for root\n"
    },
    {
      "type": "code",
      "id": "5761314f631f4fe1",
      "text": "AllowUsers username"
    },
    {
      "type": "markdown",
      "id": "aa8d9a584c7976ef",
      "text": "This step is crucial. If we do not add the user to the list of allowed SSH users, we will be unable to log in to our server!"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Disable Root Login to SSH",
        "story": []
      },
      "date": 1630563800133
    },
    {
      "item": {
        "type": "factory",
        "id": "b07e5dbef96a778d"
      },
      "id": "b07e5dbef96a778d",
      "type": "add",
      "date": 1630563801688
    },
    {
      "type": "edit",
      "id": "b07e5dbef96a778d",
      "item": {
        "type": "markdown",
        "id": "b07e5dbef96a778d",
        "text": "https://www.debiantutorials.com/disable-root-login-to-ssh/"
      },
      "date": 1630563805288
    },
    {
      "item": {
        "type": "factory",
        "id": "9b5d0d16c37b4e67"
      },
      "id": "9b5d0d16c37b4e67",
      "type": "add",
      "after": "b07e5dbef96a778d",
      "date": 1630563819155
    },
    {
      "type": "remove",
      "id": "9b5d0d16c37b4e67",
      "date": 1630563820070
    },
    {
      "item": {
        "type": "factory",
        "id": "e05eec25fb402c4c"
      },
      "id": "e05eec25fb402c4c",
      "type": "add",
      "after": "b07e5dbef96a778d",
      "date": 1630563822002
    },
    {
      "type": "edit",
      "id": "e05eec25fb402c4c",
      "item": {
        "type": "markdown",
        "id": "e05eec25fb402c4c",
        "text": "Allowing root logins to your SSH damon is a big security threat. If the SSH port is open, hackers will probably at some time attempt to brute force your root password. It’s a good idea to disable root logins to SSH and instead use a normal user to login and type “su -” to enter the super user shell or sudo to perform tasks that require root privileges."
      },
      "date": 1630563824673
    },
    {
      "item": {
        "type": "factory",
        "id": "54c1f052642d7736"
      },
      "id": "54c1f052642d7736",
      "type": "add",
      "after": "e05eec25fb402c4c",
      "date": 1630563838741
    },
    {
      "type": "remove",
      "id": "54c1f052642d7736",
      "date": 1630563839608
    },
    {
      "item": {
        "type": "factory",
        "id": "0d02307bf33cb532"
      },
      "id": "0d02307bf33cb532",
      "type": "add",
      "after": "e05eec25fb402c4c",
      "date": 1630563840340
    },
    {
      "type": "edit",
      "id": "0d02307bf33cb532",
      "item": {
        "type": "markdown",
        "id": "0d02307bf33cb532",
        "text": "1. Open the SSH daemon config file and change this line: (pico /etc/ssh/sshd_config)"
      },
      "date": 1630563843338
    },
    {
      "item": {
        "type": "factory",
        "id": "f62c7e368302e7e6"
      },
      "id": "f62c7e368302e7e6",
      "type": "add",
      "after": "0d02307bf33cb532",
      "date": 1630563848268
    },
    {
      "type": "remove",
      "id": "f62c7e368302e7e6",
      "date": 1630563849062
    },
    {
      "item": {
        "type": "factory",
        "id": "9e8cdded0e445999"
      },
      "id": "9e8cdded0e445999",
      "type": "add",
      "after": "0d02307bf33cb532",
      "date": 1630563850008
    },
    {
      "type": "edit",
      "id": "9e8cdded0e445999",
      "item": {
        "type": "code",
        "id": "9e8cdded0e445999",
        "text": "PermitRootLogin no"
      },
      "date": 1630563852222
    },
    {
      "item": {
        "type": "factory",
        "id": "197223394a630692"
      },
      "id": "197223394a630692",
      "type": "add",
      "after": "9e8cdded0e445999",
      "date": 1630563858685
    },
    {
      "type": "edit",
      "id": "197223394a630692",
      "item": {
        "type": "markdown",
        "id": "197223394a630692",
        "text": "2. Restart the SSH daemon"
      },
      "date": 1630563861045
    },
    {
      "item": {
        "type": "factory",
        "id": "ba5be08aeeb57ced"
      },
      "id": "ba5be08aeeb57ced",
      "type": "add",
      "after": "197223394a630692",
      "date": 1630563866370
    },
    {
      "type": "remove",
      "id": "ba5be08aeeb57ced",
      "date": 1630563868074
    },
    {
      "item": {
        "type": "factory",
        "id": "951a31a38fc59b74"
      },
      "id": "951a31a38fc59b74",
      "type": "add",
      "after": "197223394a630692",
      "date": 1630563868863
    },
    {
      "type": "edit",
      "id": "951a31a38fc59b74",
      "item": {
        "type": "code",
        "id": "951a31a38fc59b74",
        "text": "/etc/init.d/ssh restart"
      },
      "date": 1630563870772
    },
    {
      "item": {
        "type": "factory",
        "id": "d2c669a9c1bab720"
      },
      "id": "d2c669a9c1bab720",
      "type": "add",
      "after": "951a31a38fc59b74",
      "date": 1630564027586
    },
    {
      "type": "edit",
      "id": "d2c669a9c1bab720",
      "item": {
        "type": "pagefold",
        "id": "d2c669a9c1bab720",
        "text": "~"
      },
      "date": 1630564031885
    },
    {
      "item": {
        "type": "factory",
        "id": "3872ac8a01f4099a"
      },
      "id": "3872ac8a01f4099a",
      "type": "add",
      "after": "d2c669a9c1bab720",
      "date": 1630564033074
    },
    {
      "type": "edit",
      "id": "3872ac8a01f4099a",
      "item": {
        "type": "markdown",
        "id": "3872ac8a01f4099a",
        "text": "See also ssh_config — OpenSSH client configuration file"
      },
      "date": 1630564040471
    },
    {
      "type": "edit",
      "id": "3872ac8a01f4099a",
      "item": {
        "type": "markdown",
        "id": "3872ac8a01f4099a",
        "text": "See also [[ssh_config]] — OpenSSH client configuration file"
      },
      "date": 1630564052336
    },
    {
      "type": "edit",
      "id": "951a31a38fc59b74",
      "item": {
        "type": "code",
        "id": "951a31a38fc59b74",
        "text": "sudo systemctl restart ssh"
      },
      "date": 1630564240870
    },
    {
      "type": "edit",
      "id": "3872ac8a01f4099a",
      "item": {
        "type": "markdown",
        "id": "3872ac8a01f4099a",
        "text": "See also [[ssh_config]] — OpenSSH client configuration file and [https://www.a2hosting.com/kb/getting-started-guide/accessing-your-account/disabling-ssh-logins-for-root#Step-2.3A-Disable-SSH-logins-for-root page]"
      },
      "date": 1630565731541
    },
    {
      "type": "edit",
      "id": "3872ac8a01f4099a",
      "item": {
        "type": "markdown",
        "id": "3872ac8a01f4099a",
        "text": "See also [[ssh_config]] — OpenSSH client configuration file and [https://www.a2hosting.com/kb/getting-started-guide/accessing-your-account/disabling-ssh-logins-for-root#Step-2.3A-Disable-SSH-logins-for-root page] – Step 2: Disable SSH logins for root\n"
      },
      "date": 1630565754173
    },
    {
      "item": {
        "type": "factory",
        "id": "5761314f631f4fe1"
      },
      "id": "5761314f631f4fe1",
      "type": "add",
      "after": "3872ac8a01f4099a",
      "date": 1630565809390
    },
    {
      "type": "edit",
      "id": "5761314f631f4fe1",
      "item": {
        "type": "code",
        "id": "5761314f631f4fe1",
        "text": "AllowUsers username"
      },
      "date": 1630565812471
    },
    {
      "item": {
        "type": "factory",
        "id": "aa8d9a584c7976ef"
      },
      "id": "aa8d9a584c7976ef",
      "type": "add",
      "after": "5761314f631f4fe1",
      "date": 1630565824568
    },
    {
      "type": "edit",
      "id": "aa8d9a584c7976ef",
      "item": {
        "type": "markdown",
        "id": "aa8d9a584c7976ef",
        "text": "This step is crucial. If you do not add the user to the list of allowed SSH users, you will be unable to log in to your server!"
      },
      "date": 1630565828484
    },
    {
      "type": "edit",
      "id": "aa8d9a584c7976ef",
      "item": {
        "type": "markdown",
        "id": "aa8d9a584c7976ef",
        "text": "This step is crucial. If we do not add the user to the list of allowed SSH users, we will be unable to log in to our server!"
      },
      "date": 1630565852950
    }
  ]
}