{
  "title": "Convert Search to SQLite",
  "story": [
    {
      "type": "paragraph",
      "id": "a9b2c3add7fb714f",
      "text": "We build an SQLite db from flat file data that exists on our original federation search server. [https://github.com/WardCunningham/search/blob/master/sql-mike-and-ward/pages.js github]"
    },
    {
      "type": "paragraph",
      "id": "e5b6dfec9e9c1a3a",
      "text": "We patch this into the search server with an if-statement that delegates to sqlite3 on the db we share. [http://search.fed.wiki.org:3030/pages.db pages.db]"
    },
    {
      "type": "code",
      "id": "5bfb2de2dc7d6d1e",
      "text": "  if find=='plugins' || find=='items'\n    find = find.gsub(/s$/,'')\n    sql = \"select site,slug from pages\n      where #{find} = \\\"#{query[0]}\\\" limit 100\"\n    result = selected\n      `sqlite3 public/pages.db '#{sql}'`"
    },
    {
      "type": "paragraph",
      "id": "8567b2e77e2f0fdc",
      "text": "Try searches against either of these properties. Tip: try f07b85379c93cbbb for ITEMS, audio for PLUGINS."
    },
    {
      "type": "search",
      "id": "5d6837e9080d6f53",
      "text": "SEARCH ITEMS INPUT"
    },
    {
      "type": "search",
      "id": "021fa691bf3613ab",
      "text": "SEARCH PLUGINS INPUT"
    },
    {
      "type": "paragraph",
      "id": "6609ad1f8b18adcf",
      "text": "Or use this script to explore rare plugins."
    },
    {
      "type": "frame",
      "id": "1dd5ef6611d79d06",
      "text": "http://found.ward.fed.wiki/assets/pages/convert-search-to-sqlite/quick-search.html\nHEIGHT 600"
    },
    {
      "type": "assets",
      "id": "eaa0e3f8739233d2",
      "text": "pages/convert-search-to-sqlite"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Convert Search to SQLite",
        "story": []
      },
      "date": 1712686726039
    },
    {
      "item": {
        "type": "factory",
        "id": "a9b2c3add7fb714f"
      },
      "id": "a9b2c3add7fb714f",
      "type": "add",
      "date": 1712686727552
    },
    {
      "type": "edit",
      "id": "a9b2c3add7fb714f",
      "item": {
        "type": "paragraph",
        "id": "a9b2c3add7fb714f",
        "text": "Work in progress."
      },
      "date": 1712686734205
    },
    {
      "item": {
        "type": "factory",
        "id": "5d6837e9080d6f53"
      },
      "id": "5d6837e9080d6f53",
      "type": "add",
      "after": "a9b2c3add7fb714f",
      "date": 1712686735663
    },
    {
      "type": "edit",
      "id": "5d6837e9080d6f53",
      "item": {
        "type": "search",
        "id": "5d6837e9080d6f53",
        "text": "SEARCH PLUGIN INPUT"
      },
      "date": 1712686765928
    },
    {
      "type": "edit",
      "id": "5d6837e9080d6f53",
      "item": {
        "type": "search",
        "id": "5d6837e9080d6f53",
        "text": "SEARCH PLUGINS solo"
      },
      "date": 1712687061961
    },
    {
      "type": "edit",
      "id": "5d6837e9080d6f53",
      "item": {
        "type": "search",
        "id": "5d6837e9080d6f53",
        "text": "SEARCH PLUGINS INPUT"
      },
      "date": 1712692902216
    },
    {
      "type": "edit",
      "id": "5d6837e9080d6f53",
      "item": {
        "type": "search",
        "id": "5d6837e9080d6f53",
        "text": "SEARCH ITEMS INPUT"
      },
      "date": 1712693920191
    },
    {
      "item": {
        "type": "factory",
        "id": "021fa691bf3613ab"
      },
      "id": "021fa691bf3613ab",
      "type": "add",
      "after": "5d6837e9080d6f53",
      "date": 1712762375224
    },
    {
      "type": "edit",
      "id": "021fa691bf3613ab",
      "item": {
        "type": "search",
        "id": "021fa691bf3613ab",
        "text": "SEARCH PLUGINS INPUT"
      },
      "date": 1712762394463
    },
    {
      "item": {
        "type": "factory",
        "id": "b9be073dcf478933"
      },
      "id": "b9be073dcf478933",
      "type": "add",
      "after": "021fa691bf3613ab",
      "date": 1712762397454
    },
    {
      "type": "edit",
      "id": "b9be073dcf478933",
      "item": {
        "type": "code",
        "id": "b9be073dcf478933",
        "text": "17|register\n15|slide\n14|plugins\n13|line\n11|importer\n11|chess\n10|bikeshare\n9|signature\n9|shell\n9|recycler\n8|rollup\n8|reduce\n8|bytebeat\n7|turtle\n7|solo\n7|pushpin\n7|cytodemo\n6|rostermatic\n6|report\n6|metamodel\n5|scatter\n5|force\n5|cypher\n4|wikish\n4|microtalk\n4|crazy\n4|bars\n3|tab\n3|process-step\n3|print\n3|point\n3|outline\n2|tally\n2|soundcloud\n2|math\n2|future\n1|wsjt\n1|txtzyme\n1|turtle-wander\n1|stats\n1|popup\n1|parse\n1|logwatch\n1|dotviz\n1|detect\n1|dailynote\n1|alert"
      },
      "date": 1712762409061
    },
    {
      "item": {
        "type": "factory",
        "id": "eaa0e3f8739233d2"
      },
      "id": "eaa0e3f8739233d2",
      "type": "add",
      "after": "b9be073dcf478933",
      "date": 1712763728133
    },
    {
      "type": "edit",
      "id": "eaa0e3f8739233d2",
      "item": {
        "type": "assets",
        "id": "eaa0e3f8739233d2",
        "text": "pages/convert-search-to-sqlite"
      },
      "date": 1712763734883
    },
    {
      "item": {
        "type": "factory",
        "id": "1dd5ef6611d79d06"
      },
      "id": "1dd5ef6611d79d06",
      "type": "add",
      "after": "eaa0e3f8739233d2",
      "date": 1712763750891
    },
    {
      "type": "edit",
      "id": "1dd5ef6611d79d06",
      "item": {
        "type": "frame",
        "id": "1dd5ef6611d79d06",
        "text": "http://found.ward.fed.wiki/assets/pages/convert-search-to-sqlite/quick-search.html"
      },
      "date": 1712763756152
    },
    {
      "type": "remove",
      "id": "b9be073dcf478933",
      "date": 1712765023050
    },
    {
      "type": "edit",
      "id": "1dd5ef6611d79d06",
      "item": {
        "type": "frame",
        "id": "1dd5ef6611d79d06",
        "text": "http://found.ward.fed.wiki/assets/pages/convert-search-to-sqlite/quick-search.html\nHEIGHT 600"
      },
      "date": 1712765054977
    },
    {
      "type": "edit",
      "id": "a9b2c3add7fb714f",
      "item": {
        "type": "paragraph",
        "id": "a9b2c3add7fb714f",
        "text": "We build an SQLite db from flat file data that exists on our original federation search. [https://github.com/WardCunningham/search/blob/master/sql-mike-and-ward/pages.js github]"
      },
      "date": 1712766371543
    },
    {
      "item": {
        "type": "factory",
        "id": "5bfb2de2dc7d6d1e"
      },
      "id": "5bfb2de2dc7d6d1e",
      "type": "add",
      "after": "1dd5ef6611d79d06",
      "date": 1712766641572
    },
    {
      "type": "edit",
      "id": "5bfb2de2dc7d6d1e",
      "item": {
        "type": "code",
        "id": "5bfb2de2dc7d6d1e",
        "text": "  if find=='plugins' || find=='items'\n    find = find.gsub(/s$/,'')\n    sql = \"select site,slug from pages\n      where #{find} = \\\"#{query[0]}\\\" limit 100\"\n    result = selected\n      `sqlite3 public/pages.db '#{sql}'`"
      },
      "date": 1712766756298
    },
    {
      "id": "5bfb2de2dc7d6d1e",
      "type": "move",
      "order": [
        "a9b2c3add7fb714f",
        "5bfb2de2dc7d6d1e",
        "5d6837e9080d6f53",
        "021fa691bf3613ab",
        "eaa0e3f8739233d2",
        "1dd5ef6611d79d06"
      ],
      "date": 1712766773703
    },
    {
      "type": "add",
      "id": "e5b6dfec9e9c1a3a",
      "item": {
        "type": "paragraph",
        "id": "e5b6dfec9e9c1a3a",
        "text": "We patch this into the search server with an if-statement that delegates to sqlite3 on the db we share in public. "
      },
      "after": "a9b2c3add7fb714f",
      "date": 1712766885596
    },
    {
      "type": "edit",
      "id": "e5b6dfec9e9c1a3a",
      "item": {
        "type": "paragraph",
        "id": "e5b6dfec9e9c1a3a",
        "text": "We patch this into the search server with an if-statement that delegates to sqlite3 on the db we share. [http://search.fed.wiki.org:3030/pages.db pages.db]"
      },
      "date": 1712766943019
    },
    {
      "id": "eaa0e3f8739233d2",
      "type": "move",
      "order": [
        "a9b2c3add7fb714f",
        "e5b6dfec9e9c1a3a",
        "5bfb2de2dc7d6d1e",
        "5d6837e9080d6f53",
        "021fa691bf3613ab",
        "1dd5ef6611d79d06",
        "eaa0e3f8739233d2"
      ],
      "date": 1712766964142
    },
    {
      "type": "add",
      "id": "8567b2e77e2f0fdc",
      "item": {
        "type": "paragraph",
        "id": "8567b2e77e2f0fdc",
        "text": "Try searches against either of these properties."
      },
      "after": "e5b6dfec9e9c1a3a",
      "date": 1712767005884
    },
    {
      "id": "8567b2e77e2f0fdc",
      "type": "move",
      "order": [
        "a9b2c3add7fb714f",
        "e5b6dfec9e9c1a3a",
        "5bfb2de2dc7d6d1e",
        "8567b2e77e2f0fdc",
        "5d6837e9080d6f53",
        "021fa691bf3613ab",
        "1dd5ef6611d79d06",
        "eaa0e3f8739233d2"
      ],
      "date": 1712767008888
    },
    {
      "type": "add",
      "id": "6609ad1f8b18adcf",
      "item": {
        "type": "paragraph",
        "id": "6609ad1f8b18adcf",
        "text": "Or use this script to explore our least frequently used plugins."
      },
      "after": "8567b2e77e2f0fdc",
      "date": 1712767043559
    },
    {
      "type": "edit",
      "id": "6609ad1f8b18adcf",
      "item": {
        "type": "paragraph",
        "id": "6609ad1f8b18adcf",
        "text": "Or use this script to explore rare plugins."
      },
      "date": 1712767054456
    },
    {
      "id": "6609ad1f8b18adcf",
      "type": "move",
      "order": [
        "a9b2c3add7fb714f",
        "e5b6dfec9e9c1a3a",
        "5bfb2de2dc7d6d1e",
        "8567b2e77e2f0fdc",
        "5d6837e9080d6f53",
        "021fa691bf3613ab",
        "6609ad1f8b18adcf",
        "1dd5ef6611d79d06",
        "eaa0e3f8739233d2"
      ],
      "date": 1712767057093
    },
    {
      "type": "edit",
      "id": "a9b2c3add7fb714f",
      "item": {
        "type": "paragraph",
        "id": "a9b2c3add7fb714f",
        "text": "We build an SQLite3 db from flat file data that exists on our original federation search. [https://github.com/WardCunningham/search/blob/master/sql-mike-and-ward/pages.js github]"
      },
      "date": 1712767071446
    },
    {
      "type": "edit",
      "id": "a9b2c3add7fb714f",
      "item": {
        "type": "paragraph",
        "id": "a9b2c3add7fb714f",
        "text": "We build an SQLite db from flat file data that exists on our original federation search. [https://github.com/WardCunningham/search/blob/master/sql-mike-and-ward/pages.js github]"
      },
      "date": 1712767087965
    },
    {
      "type": "edit",
      "id": "a9b2c3add7fb714f",
      "item": {
        "type": "paragraph",
        "id": "a9b2c3add7fb714f",
        "text": "We build an SQLite db from flat file data that exists on our original federation search server. [https://github.com/WardCunningham/search/blob/master/sql-mike-and-ward/pages.js github]"
      },
      "date": 1712767988300
    },
    {
      "type": "add",
      "id": "015f3cef4bd8fd79",
      "item": {
        "type": "paragraph",
        "id": "015f3cef4bd8fd79",
        "text": "Tip: f07b85379c93cbbb is an interesting ITEM id."
      },
      "after": "8567b2e77e2f0fdc",
      "date": 1712862697348
    },
    {
      "id": "015f3cef4bd8fd79",
      "type": "move",
      "order": [
        "a9b2c3add7fb714f",
        "e5b6dfec9e9c1a3a",
        "5bfb2de2dc7d6d1e",
        "8567b2e77e2f0fdc",
        "5d6837e9080d6f53",
        "015f3cef4bd8fd79",
        "021fa691bf3613ab",
        "6609ad1f8b18adcf",
        "1dd5ef6611d79d06",
        "eaa0e3f8739233d2"
      ],
      "date": 1712862700069
    },
    {
      "id": "015f3cef4bd8fd79",
      "type": "move",
      "order": [
        "a9b2c3add7fb714f",
        "e5b6dfec9e9c1a3a",
        "5bfb2de2dc7d6d1e",
        "8567b2e77e2f0fdc",
        "015f3cef4bd8fd79",
        "5d6837e9080d6f53",
        "021fa691bf3613ab",
        "6609ad1f8b18adcf",
        "1dd5ef6611d79d06",
        "eaa0e3f8739233d2"
      ],
      "date": 1712862705724
    },
    {
      "type": "remove",
      "id": "015f3cef4bd8fd79",
      "date": 1712862713155
    },
    {
      "type": "edit",
      "id": "8567b2e77e2f0fdc",
      "item": {
        "type": "paragraph",
        "id": "8567b2e77e2f0fdc",
        "text": "Try searches against either of these properties. Tip: f07b85379c93cbbb is an interesting ITEM id."
      },
      "date": 1712862715813
    },
    {
      "type": "edit",
      "id": "8567b2e77e2f0fdc",
      "item": {
        "type": "paragraph",
        "id": "8567b2e77e2f0fdc",
        "text": "Try searches against either of these properties. Tip: try f07b85379c93cbbb for ITEMS, audio for PLUGINS."
      },
      "date": 1712862803840
    },
    {
      "type": "fork",
      "site": "found.ward.fed.wiki",
      "date": 1712913687555
    }
  ]
}