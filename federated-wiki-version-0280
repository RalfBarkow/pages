{
  "title": "Federated Wiki Version 0.28.0",
  "story": [
    {
      "type": "paragraph",
      "id": "010366c741027841",
      "text": "Note: Describe the build process on a NixOS server, starting with the node2nix step. ⇒ \"wiki\",\n  \"version\": \"0.28.0\" [https://github.com/fedwiki/wiki github] ⇒ [[NixOS]] ⇒ [[node2nix]]"
    },
    {
      "type": "paragraph",
      "id": "fe628be4b7f4aad2",
      "text": "node2nix hangs while cloning passport-twitter, which uses a special commit of Paul's node-xtraverse:"
    },
    {
      "type": "code",
      "id": "01779a38c3c594cd",
      "text": "[…] info attempt registry request try #1 at 12:24:43 PM\nhttp request GET https://registry.npmjs.org/passport-oauth2\nhttp 200 https://registry.npmjs.org/passport-oauth2\nCloning git repository: git://github.com/paul90/passport-twitter\nCloning into 'passport-twitter'...\nfatal: unable to connect to github.com:\ngithub.com[0: 140.82.121.3]: errno=Connection timed out\n\ngit clone exited with status: 128"
    },
    {
      "type": "paragraph",
      "id": "00fd14407c480d86",
      "text": "package.json:"
    },
    {
      "type": "code",
      "id": "dbd62a810b167749",
      "text": "[…]\n  \"main\": \"./lib\",\n  \"dependencies\": {\n    \"passport-oauth1\": \"1.x.x\",\n    \"xtraverse\": \"github:paul90/node-xtraverse#3eab06b77d3fa7eff2cc7f25b639cfee7d678d06\"\n  },\n\n[…]"
    },
    {
      "type": "html",
      "id": "ae7b04581e33df8a",
      "text": "<img\n  src=\"https://wiki.ralfbarkow.ch/assets/pages/2023-01-31/Bildschirmfoto%202023-01-31%20um%2013.54.31.jpg\"\n  width=\"100%\"\n>"
    },
    {
      "type": "paragraph",
      "id": "75440c7bf592ab75",
      "text": "node-xtraverse [https://github.com/paul90/node-xtraverse/commit/3eab06b77d3fa7eff2cc7f25b639cfee7d678d06 commit]. Note: Paul has updated the dependencies again in the meantime [https://github.com/paul90/node-xtraverse/commit/05287f62c7f9809e0d36f208aa6f4aeadb141756 commit]"
    },
    {
      "type": "paragraph",
      "id": "d86febd21609c3de",
      "text": "I also can't manage to build passport-twitter outside of the wiki tree."
    },
    {
      "type": "paragraph",
      "id": "4086cc3f8b29a5a4",
      "text": "~/passport-twitter]$ export NIXPKGS_ALLOW_INSECURE=1"
    },
    {
      "type": "code",
      "id": "7ceeec94be26acfb",
      "text": "[…]\n~/passport-twitter]$ node2nix\nfetching local directory: ./. from .\ninfo attempt registry request try #1 at 1:16:07 PM\nhttp request GET https://registry.npmjs.org/passport-oauth1\nhttp 200 https://registry.npmjs.org/passport-oauth1\nCloning git repository: git://github.com/paul90/node-xtraverse\nCloning into 'node-xtraverse'...\nfatal: unable to connect to github.com:\ngithub.com[0: 140.82.121.4]: errno=Connection timed out"
    },
    {
      "type": "paragraph",
      "id": "b8acfbb2d74f291a",
      "text": "Cf. GT releaser ⇒ [[Releaser]] ⇒ goal of creating reproducible releases ⇒ [[Reproducible Builds]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Federated Wiki Version 0.28.0",
        "story": []
      },
      "date": 1675171236500
    },
    {
      "id": "010366c741027841",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "010366c741027841",
        "text": "Note: Describe the build process on a NixOS server, starting with the node2nix step. ⇒ [[NixOS]] ⇒ [[node2nix]]"
      },
      "date": 1675171241950
    },
    {
      "id": "fe628be4b7f4aad2",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "fe628be4b7f4aad2",
        "text": "node2nix hangs while cloning passport-twitter, which uses a special commit of Paul's node-xtraverse:"
      },
      "after": "010366c741027841",
      "date": 1675171244244
    },
    {
      "id": "01779a38c3c594cd",
      "type": "add",
      "item": {
        "type": "code",
        "id": "01779a38c3c594cd",
        "text": "[…] info attempt registry request try #1 at 12:24:43 PM\nhttp request GET https://registry.npmjs.org/passport-oauth2\nhttp 200 https://registry.npmjs.org/passport-oauth2\nCloning git repository: git://github.com/paul90/passport-twitter\nCloning into 'passport-twitter'...\nfatal: unable to connect to github.com:\ngithub.com[0: 140.82.121.3]: errno=Connection timed out\n\ngit clone exited with status: 128"
      },
      "after": "fe628be4b7f4aad2",
      "date": 1675171246842
    },
    {
      "id": "4e99deef1c824017",
      "type": "add",
      "item": {
        "type": "code",
        "id": "4e99deef1c824017",
        "text": "[…] info attempt registry request try #1 at 12:24:43 PM\nhttp request GET https://registry.npmjs.org/passport-oauth2\nhttp 200 https://registry.npmjs.org/passport-oauth2\nCloning git repository: git://github.com/paul90/passport-twitter\nCloning into 'passport-twitter'...\nfatal: unable to connect to github.com:\ngithub.com[0: 140.82.121.3]: errno=Connection timed out\n\ngit clone exited with status: 128",
        "alias": "01779a38c3c594cd"
      },
      "after": "01779a38c3c594cd",
      "date": 1675171256157
    },
    {
      "type": "remove",
      "id": "4e99deef1c824017",
      "date": 1675171267014
    },
    {
      "id": "00fd14407c480d86",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "00fd14407c480d86",
        "text": "package.json:"
      },
      "after": "01779a38c3c594cd",
      "date": 1675171270107
    },
    {
      "id": "dbd62a810b167749",
      "type": "add",
      "item": {
        "type": "code",
        "id": "dbd62a810b167749",
        "text": "[…]\n  \"main\": \"./lib\",\n  \"dependencies\": {\n    \"passport-oauth1\": \"1.x.x\",\n    \"xtraverse\": \"github:paul90/node-xtraverse#3eab06b77d3fa7eff2cc7f25b639cfee7d678d06\"\n  },\n\n[…]"
      },
      "after": "00fd14407c480d86",
      "date": 1675171273642
    },
    {
      "id": "ae7b04581e33df8a",
      "type": "add",
      "item": {
        "type": "html",
        "id": "ae7b04581e33df8a",
        "text": "<img\n  src=\"https://wiki.ralfbarkow.ch/assets/pages/2023-01-31/Bildschirmfoto%202023-01-31%20um%2013.54.31.jpg\"\n  width=\"100%\"\n>"
      },
      "after": "dbd62a810b167749",
      "date": 1675171276182
    },
    {
      "id": "75440c7bf592ab75",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "75440c7bf592ab75",
        "text": "node-xtraverse [https://github.com/paul90/node-xtraverse/commit/3eab06b77d3fa7eff2cc7f25b639cfee7d678d06 commit]. Note: Paul has updated the dependencies again in the meantime [https://github.com/paul90/node-xtraverse/commit/05287f62c7f9809e0d36f208aa6f4aeadb141756 commit]"
      },
      "after": "ae7b04581e33df8a",
      "date": 1675171280210
    },
    {
      "id": "7ceeec94be26acfb",
      "type": "add",
      "item": {
        "type": "code",
        "id": "7ceeec94be26acfb",
        "text": "[…]\n~/passport-twitter]$ node2nix\nfetching local directory: ./. from .\ninfo attempt registry request try #1 at 1:16:07 PM\nhttp request GET https://registry.npmjs.org/passport-oauth1\nhttp 200 https://registry.npmjs.org/passport-oauth1\nCloning git repository: git://github.com/paul90/node-xtraverse\nCloning into 'node-xtraverse'...\nfatal: unable to connect to github.com:\ngithub.com[0: 140.82.121.4]: errno=Connection timed out"
      },
      "after": "75440c7bf592ab75",
      "date": 1675171282887
    },
    {
      "id": "d86febd21609c3de",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "d86febd21609c3de",
        "text": "I also can't manage to build passport-twitter outside of the wiki tree."
      },
      "after": "7ceeec94be26acfb",
      "date": 1675171287532
    },
    {
      "id": "4086cc3f8b29a5a4",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "4086cc3f8b29a5a4",
        "text": "~/passport-twitter]$ export NIXPKGS_ALLOW_INSECURE=1"
      },
      "after": "d86febd21609c3de",
      "date": 1675171290199
    },
    {
      "id": "b8acfbb2d74f291a",
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "b8acfbb2d74f291a",
        "text": "Cf. GT releaser ⇒ [[Releaser]] ⇒ goal of creating reproducible releases"
      },
      "after": "4086cc3f8b29a5a4",
      "date": 1675171292438
    },
    {
      "type": "edit",
      "id": "b8acfbb2d74f291a",
      "item": {
        "type": "paragraph",
        "id": "b8acfbb2d74f291a",
        "text": "Cf. GT releaser ⇒ [[Releaser]] ⇒ goal of creating reproducible releases ⇒ [[Reproducible Builds]]"
      },
      "date": 1675171374850
    },
    {
      "type": "edit",
      "id": "010366c741027841",
      "item": {
        "type": "paragraph",
        "id": "010366c741027841",
        "text": "Note: Describe the build process on a NixOS server, starting with the node2nix step. ⇒ \"wiki\",\n  \"version\": \"0.28.0\" [https://github.com/fedwiki/wiki github] ⇒ [[NixOS]] ⇒ [[node2nix]]"
      },
      "date": 1675171486118
    },
    {
      "id": "d86febd21609c3de",
      "type": "move",
      "order": [
        "010366c741027841",
        "fe628be4b7f4aad2",
        "01779a38c3c594cd",
        "00fd14407c480d86",
        "dbd62a810b167749",
        "ae7b04581e33df8a",
        "75440c7bf592ab75",
        "d86febd21609c3de",
        "7ceeec94be26acfb",
        "4086cc3f8b29a5a4",
        "b8acfbb2d74f291a"
      ],
      "date": 1675171541467
    },
    {
      "id": "4086cc3f8b29a5a4",
      "type": "move",
      "order": [
        "010366c741027841",
        "fe628be4b7f4aad2",
        "01779a38c3c594cd",
        "00fd14407c480d86",
        "dbd62a810b167749",
        "ae7b04581e33df8a",
        "75440c7bf592ab75",
        "d86febd21609c3de",
        "4086cc3f8b29a5a4",
        "7ceeec94be26acfb",
        "b8acfbb2d74f291a"
      ],
      "date": 1675171547910
    }
  ]
}