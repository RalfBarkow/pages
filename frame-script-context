{
  "title": "Frame Script Context",
  "story": [
    {
      "type": "paragraph",
      "id": "43d538c1f0331fed",
      "text": "We have found that an html script sandboxed within a Frame plugin must distinguish three resource locations: origin, site and host."
    },
    {
      "type": "paragraph",
      "id": "3ef9216476db84ff",
      "text": "The three locations are often the same as when an origin hosts html assets that it uses on its own pages. However, workflow scripts will be maximally sharable if attention has been paid to these distinctions."
    },
    {
      "type": "markdown",
      "id": "9b61983d336b8999",
      "text": "# Origin"
    },
    {
      "type": "paragraph",
      "id": "359d0ad5b943305f",
      "text": "The origin is where the resources subject to a workflow reside. A logged in author writes pages to the origin and uploads assets to the origin."
    },
    {
      "type": "code",
      "id": "54a15881ee88aff3",
      "text": "let origin = (await requestNeighborhood())[0]"
    },
    {
      "type": "paragraph",
      "id": "ea0d73c08ef715c2",
      "text": "A visitor may start browsing at an origin that they do not own and may invoke workflow steps including making ghost pages and downloading constructed resources without changing the origin."
    },
    {
      "type": "markdown",
      "id": "e470f8526fcc88b1",
      "text": "# Site"
    },
    {
      "type": "paragraph",
      "id": "d7f5b902ad926486",
      "text": "The site is where pages containing Frame plugins invoking html scripts have been found."
    },
    {
      "type": "code",
      "id": "659c62890028f492",
      "text": "let site = (await frameContext()).site"
    },
    {
      "type": "paragraph",
      "id": "15363c0b36dfdfdf",
      "text": "When a site has been assembled to describe a complete workflow, the origin employing the workflow will see these as remote pages prepared to perform workflow steps with the origin's resources."
    },
    {
      "type": "markdown",
      "id": "6d34d895fe46267b",
      "text": "# Host"
    },
    {
      "type": "paragraph",
      "id": "ef3e6b233802c9d1",
      "text": "The host has served the text of the running html script. It is specified as part of the Frame plugin's markup."
    },
    {
      "type": "code",
      "id": "e749033400116a5e",
      "text": "let host = location.host"
    },
    {
      "type": "paragraph",
      "id": "4107d529e58c423c",
      "text": "A running script can access additional resources from the host using relative urls. These might be used for importing modules or fetching other standard resources."
    },
    {
      "type": "pagefold",
      "id": "8335fd025c156cc9",
      "text": "."
    },
    {
      "type": "paragraph",
      "id": "b5a45108c777c03e",
      "text": "These distinctions were first noticed when sharing the \"trails\" workflow later refined in the Seattle implementation and then applied as remote pages by [[Jeff Miller]]. [http://jeff.dojo.fed.wiki/view/phototelling-quickstart/seattle.fed.wiki/make-new-places/seattle.fed.wiki/visited-places/view/northgate-changes lineup]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Frame Script Context",
        "story": []
      },
      "date": 1632961360591
    },
    {
      "item": {
        "type": "factory",
        "id": "43d538c1f0331fed"
      },
      "id": "43d538c1f0331fed",
      "type": "add",
      "date": 1632961362761
    },
    {
      "type": "edit",
      "id": "43d538c1f0331fed",
      "item": {
        "type": "paragraph",
        "id": "43d538c1f0331fed",
        "text": "We have found that an html script sandboxed within a Frame plugin must retrieve and discremenantly "
      },
      "date": 1632961492751
    },
    {
      "type": "edit",
      "id": "43d538c1f0331fed",
      "item": {
        "type": "paragraph",
        "id": "43d538c1f0331fed",
        "text": "We have found that an html script sandboxed within a Frame plugin must distinguish three resource locations: origin, site and host."
      },
      "date": 1632961749566
    },
    {
      "type": "add",
      "id": "9b61983d336b8999",
      "item": {
        "type": "paragraph",
        "id": "9b61983d336b8999",
        "text": "# Origin"
      },
      "after": "43d538c1f0331fed",
      "date": 1632961867100
    },
    {
      "type": "add",
      "id": "359d0ad5b943305f",
      "item": {
        "type": "paragraph",
        "id": "359d0ad5b943305f",
        "text": "The origin is where the resources subject to a workflow reside. A logged in author writes pages to the origin and uploads assets to the origin."
      },
      "after": "9b61983d336b8999",
      "date": 1632962237866
    },
    {
      "item": {
        "type": "factory",
        "id": "54a15881ee88aff3"
      },
      "id": "54a15881ee88aff3",
      "type": "add",
      "after": "359d0ad5b943305f",
      "date": 1632962263773
    },
    {
      "type": "edit",
      "id": "54a15881ee88aff3",
      "item": {
        "type": "code",
        "id": "54a15881ee88aff3",
        "text": "let origin = (await requestNeighborhood())[0]"
      },
      "date": 1632962272090
    },
    {
      "type": "edit",
      "id": "9b61983d336b8999",
      "item": {
        "type": "markdown",
        "id": "9b61983d336b8999",
        "text": "# Origin"
      },
      "date": 1632962311149
    },
    {
      "item": {
        "type": "factory",
        "id": "e470f8526fcc88b1"
      },
      "id": "e470f8526fcc88b1",
      "type": "add",
      "after": "54a15881ee88aff3",
      "date": 1632962383177
    },
    {
      "type": "edit",
      "id": "e470f8526fcc88b1",
      "item": {
        "type": "paragraph",
        "id": "e470f8526fcc88b1",
        "text": "# Site"
      },
      "date": 1632962404094
    },
    {
      "type": "add",
      "id": "d7f5b902ad926486",
      "item": {
        "type": "paragraph",
        "id": "d7f5b902ad926486",
        "text": "The site is where pages with Frame plugins invoking html scripts have been found. When a site has been assembled to describe a complete workflow, the origin employing the workflow will see these as remote pages prepared to perform steps with the origin's resources."
      },
      "after": "e470f8526fcc88b1",
      "date": 1632963340462
    },
    {
      "type": "edit",
      "id": "e470f8526fcc88b1",
      "item": {
        "type": "markdown",
        "id": "e470f8526fcc88b1",
        "text": "# Site"
      },
      "date": 1632963344926
    },
    {
      "type": "add",
      "id": "ea0d73c08ef715c2",
      "item": {
        "type": "paragraph",
        "id": "ea0d73c08ef715c2",
        "text": "A visitor may start at an origin that they do not own but may still be able to invoke some workflow steps including making ghost pages and downloading constructed resources but these steps will not change the origin."
      },
      "after": "359d0ad5b943305f",
      "date": 1632963489604
    },
    {
      "id": "ea0d73c08ef715c2",
      "type": "move",
      "order": [
        "43d538c1f0331fed",
        "9b61983d336b8999",
        "359d0ad5b943305f",
        "54a15881ee88aff3",
        "ea0d73c08ef715c2",
        "e470f8526fcc88b1",
        "d7f5b902ad926486"
      ],
      "date": 1632963494286
    },
    {
      "type": "edit",
      "id": "ea0d73c08ef715c2",
      "item": {
        "type": "paragraph",
        "id": "ea0d73c08ef715c2",
        "text": "A visitor may start browsing at an origin that they do not own and may invoke workflow steps including making ghost pages and downloading constructed resources without changing the origin."
      },
      "date": 1632963610682
    },
    {
      "type": "edit",
      "id": "d7f5b902ad926486",
      "item": {
        "type": "paragraph",
        "id": "d7f5b902ad926486",
        "text": "The site is where pages with Frame plugins invoking html scripts have been found."
      },
      "date": 1632963832137
    },
    {
      "type": "add",
      "id": "15363c0b36dfdfdf",
      "item": {
        "type": "paragraph",
        "id": "15363c0b36dfdfdf",
        "text": "When a site has been assembled to describe a complete workflow, the origin employing the workflow will see these as remote pages prepared to perform steps with the origin's resources."
      },
      "after": "d7f5b902ad926486",
      "date": 1632963833490
    },
    {
      "item": {
        "type": "factory",
        "id": "659c62890028f492"
      },
      "id": "659c62890028f492",
      "type": "add",
      "after": "15363c0b36dfdfdf",
      "date": 1632964019079
    },
    {
      "type": "edit",
      "id": "659c62890028f492",
      "item": {
        "type": "code",
        "id": "659c62890028f492",
        "text": "let site = (await frameContext()).site"
      },
      "date": 1632964056452
    },
    {
      "id": "659c62890028f492",
      "type": "move",
      "order": [
        "43d538c1f0331fed",
        "9b61983d336b8999",
        "359d0ad5b943305f",
        "54a15881ee88aff3",
        "ea0d73c08ef715c2",
        "e470f8526fcc88b1",
        "d7f5b902ad926486",
        "659c62890028f492",
        "15363c0b36dfdfdf"
      ],
      "date": 1632964082818
    },
    {
      "type": "edit",
      "id": "d7f5b902ad926486",
      "item": {
        "type": "paragraph",
        "id": "d7f5b902ad926486",
        "text": "The site is where pages containing Frame plugins invoking html scripts have been found."
      },
      "date": 1632964143881
    },
    {
      "type": "edit",
      "id": "15363c0b36dfdfdf",
      "item": {
        "type": "paragraph",
        "id": "15363c0b36dfdfdf",
        "text": "When a site has been assembled to describe a complete workflow, the origin employing the workflow will see these as remote pages prepared to perform workflow steps with the origin's resources."
      },
      "date": 1632964243069
    },
    {
      "item": {
        "type": "factory",
        "id": "6d34d895fe46267b"
      },
      "id": "6d34d895fe46267b",
      "type": "add",
      "after": "15363c0b36dfdfdf",
      "date": 1632964342040
    },
    {
      "type": "edit",
      "id": "6d34d895fe46267b",
      "item": {
        "type": "markdown",
        "id": "6d34d895fe46267b",
        "text": "# Host"
      },
      "date": 1632964351148
    },
    {
      "item": {
        "type": "factory",
        "id": "ef3e6b233802c9d1"
      },
      "id": "ef3e6b233802c9d1",
      "type": "add",
      "after": "6d34d895fe46267b",
      "date": 1632964353167
    },
    {
      "type": "edit",
      "id": "ef3e6b233802c9d1",
      "item": {
        "type": "paragraph",
        "id": "ef3e6b233802c9d1",
        "text": "The host has served the text of the running html script. "
      },
      "date": 1632964495298
    },
    {
      "type": "edit",
      "id": "ef3e6b233802c9d1",
      "item": {
        "type": "paragraph",
        "id": "ef3e6b233802c9d1",
        "text": "The host has served the text of the running html script. It is specified as part of the Frame plugin's markup."
      },
      "date": 1632964554325
    },
    {
      "item": {
        "type": "factory",
        "id": "e749033400116a5e"
      },
      "id": "e749033400116a5e",
      "type": "add",
      "after": "ef3e6b233802c9d1",
      "date": 1632964811928
    },
    {
      "type": "edit",
      "id": "e749033400116a5e",
      "item": {
        "type": "code",
        "id": "e749033400116a5e",
        "text": "let host = location.host // includes port\nlet host = location.hostname "
      },
      "date": 1632964888016
    },
    {
      "type": "edit",
      "id": "e749033400116a5e",
      "item": {
        "type": "code",
        "id": "e749033400116a5e",
        "text": "let host = location.host       // includes port\nlet host = location.hostname   // domain name"
      },
      "date": 1632964904373
    },
    {
      "type": "edit",
      "id": "e749033400116a5e",
      "item": {
        "type": "code",
        "id": "e749033400116a5e",
        "text": "let host = location.host       // includes port\nlet host = location.hostname   // domain name only"
      },
      "date": 1632964917268
    },
    {
      "type": "edit",
      "id": "e749033400116a5e",
      "item": {
        "type": "code",
        "id": "e749033400116a5e",
        "text": "let host = location.host"
      },
      "date": 1632965350822
    },
    {
      "item": {
        "type": "factory",
        "id": "4107d529e58c423c"
      },
      "id": "4107d529e58c423c",
      "type": "add",
      "after": "e749033400116a5e",
      "date": 1632965380188
    },
    {
      "type": "edit",
      "id": "4107d529e58c423c",
      "item": {
        "type": "paragraph",
        "id": "4107d529e58c423c",
        "text": "A running script can access additional resources from the host using relative urls. These might be used for importing modules or fetching other standard resources."
      },
      "date": 1632965660135
    },
    {
      "type": "add",
      "id": "3ef9216476db84ff",
      "item": {
        "type": "paragraph",
        "id": "3ef9216476db84ff",
        "text": "These three locations are often the same as when an origin hosts html assets that it uses on its own pages. However, workflow scripts will be maximally sharable if attention has been paid to cases where they may be distinct."
      },
      "after": "43d538c1f0331fed",
      "date": 1632966037824
    },
    {
      "type": "edit",
      "id": "3ef9216476db84ff",
      "item": {
        "type": "paragraph",
        "id": "3ef9216476db84ff",
        "text": "These three locations are often the same as when an origin hosts html assets that it uses on its own pages. However, workflow scripts will be maximally sharable if attention has been paid to these distinctions."
      },
      "date": 1632966089104
    },
    {
      "type": "edit",
      "id": "3ef9216476db84ff",
      "item": {
        "type": "paragraph",
        "id": "3ef9216476db84ff",
        "text": "The three locations are often the same as when an origin hosts html assets that it uses on its own pages. However, workflow scripts will be maximally sharable if attention has been paid to these distinctions."
      },
      "date": 1632966097883
    },
    {
      "item": {
        "type": "factory",
        "id": "8335fd025c156cc9"
      },
      "id": "8335fd025c156cc9",
      "type": "add",
      "after": "4107d529e58c423c",
      "date": 1632966388469
    },
    {
      "type": "edit",
      "id": "8335fd025c156cc9",
      "item": {
        "type": "pagefold",
        "id": "8335fd025c156cc9",
        "text": "."
      },
      "date": 1632966393751
    },
    {
      "item": {
        "type": "factory",
        "id": "b5a45108c777c03e"
      },
      "id": "b5a45108c777c03e",
      "type": "add",
      "after": "8335fd025c156cc9",
      "date": 1632966396158
    },
    {
      "type": "edit",
      "id": "b5a45108c777c03e",
      "item": {
        "type": "paragraph",
        "id": "b5a45108c777c03e",
        "text": "These distinctions were first noticed when sharing the \"trails\" workflow later refined in the Seattle implementation and then applied as remote pages by "
      },
      "date": 1632966545915
    },
    {
      "type": "edit",
      "id": "b5a45108c777c03e",
      "item": {
        "type": "paragraph",
        "id": "b5a45108c777c03e",
        "text": "These distinctions were first noticed when sharing the \"trails\" workflow later refined in the Seattle implementation and then applied as remote pages by Jeff Miller. [http://jeff.dojo.fed.wiki/view/phototelling-quickstart/seattle.fed.wiki/make-new-places/seattle.fed.wiki/visited-places/view/northgate-changes lineup]"
      },
      "date": 1632966580832
    },
    {
      "type": "fork",
      "site": "small.fed.wiki",
      "date": 1653943415711
    },
    {
      "type": "edit",
      "id": "b5a45108c777c03e",
      "item": {
        "type": "paragraph",
        "id": "b5a45108c777c03e",
        "text": "These distinctions were first noticed when sharing the \"trails\" workflow later refined in the Seattle implementation and then applied as remote pages by [[Jeff Miller]]. [http://jeff.dojo.fed.wiki/view/phototelling-quickstart/seattle.fed.wiki/make-new-places/seattle.fed.wiki/visited-places/view/northgate-changes lineup]"
      },
      "date": 1653943777076
    }
  ]
}