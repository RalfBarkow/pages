{
  "title": "Add Content with Script",
  "story": [
    {
      "type": "paragraph",
      "id": "22ea46b6cb5ec1d3",
      "text": "We will write a shell script to add content and test it here. Expect to see lots of dates."
    },
    {
      "type": "paragraph",
      "id": "1293ffdc203e509b",
      "text": "We will write a script that will find a code block and append a line to it."
    },
    {
      "type": "code",
      "id": "2de090bce4e8f2e4",
      "text": "Script Adds Lines Here\n\nSat Jun 19 12:10:59 PDT 2021\nSat Jun 19 12:11:31 PDT 2021\nSat Jun 19 19:32:31 UTC 2021\nSun Jun 20 16:28:25 UTC 2021\nMon Jun 21 00:55:51 UTC 2021\n"
    },
    {
      "type": "paragraph",
      "id": "7852c64dd1682235",
      "text": "We've written this as a deno script. Deno requires that we individually grant the ability to read and write local files. Omit --allow-write when testing that arguments have been specified correctly."
    },
    {
      "type": "paragraph",
      "id": "95801e780da11941",
      "text": "This script adds to a local wiki farm. Add the script to a server and invoke with ssh to update remote pages."
    },
    {
      "type": "assets",
      "id": "30c1e4b6feb14fc9",
      "text": "pages/add-content-with-script"
    },
    {
      "type": "paragraph",
      "id": "279bb8d6dd52a830",
      "text": "The command was long one but ran to completion through ssh once I installed deno the same way."
    },
    {
      "type": "html",
      "id": "51db9309ef7f2a3f",
      "text": "<blockquote>\nssh asia 'date | /root/.deno/bin/deno run --allow-env --allow-read --allow-write .wiki/ward.dojo.fed.wiki/assets/pages/add-content-with-script/wikadd.js ward.dojo.fed.wiki add-content-with-script code'\n</blockquote>"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Add Content with Script",
        "story": []
      },
      "date": 1624126063571
    },
    {
      "item": {
        "type": "factory",
        "id": "22ea46b6cb5ec1d3"
      },
      "id": "22ea46b6cb5ec1d3",
      "type": "add",
      "date": 1624126065658
    },
    {
      "type": "edit",
      "id": "22ea46b6cb5ec1d3",
      "item": {
        "type": "paragraph",
        "id": "22ea46b6cb5ec1d3",
        "text": "We will write a shell script to add content and test it here. Expect to see lots of dates."
      },
      "date": 1624126118601
    },
    {
      "type": "add",
      "id": "1293ffdc203e509b",
      "item": {
        "type": "paragraph",
        "id": "1293ffdc203e509b",
        "text": "We will write a script that will find a code block and append a line to it."
      },
      "after": "22ea46b6cb5ec1d3",
      "date": 1624126168089
    },
    {
      "item": {
        "type": "factory",
        "id": "2de090bce4e8f2e4"
      },
      "id": "2de090bce4e8f2e4",
      "type": "add",
      "after": "1293ffdc203e509b",
      "date": 1624126169802
    },
    {
      "type": "edit",
      "id": "2de090bce4e8f2e4",
      "item": {
        "type": "code",
        "id": "2de090bce4e8f2e4",
        "text": "Script Adds Lines Here"
      },
      "date": 1624126187331
    },
    {
      "type": "edit",
      "id": "2de090bce4e8f2e4",
      "item": {
        "type": "code",
        "id": "2de090bce4e8f2e4",
        "text": "Script Adds Lines Here\n\n"
      },
      "date": 1624129526393
    },
    {
      "item": {
        "type": "factory",
        "id": "7852c64dd1682235"
      },
      "id": "7852c64dd1682235",
      "type": "add",
      "after": "2de090bce4e8f2e4",
      "date": 1624130033750
    },
    {
      "type": "edit",
      "id": "7852c64dd1682235",
      "item": {
        "type": "paragraph",
        "id": "7852c64dd1682235",
        "text": "We've written this as a deno script. Deno requires that we individually grant the ability to read and write local files. Omit --allow-write when testing that arguments have been specified correctly."
      },
      "date": 1624130130784
    },
    {
      "type": "add",
      "id": "95801e780da11941",
      "item": {
        "type": "paragraph",
        "id": "95801e780da11941",
        "text": "This script adds to a local wiki farm. Add the script to a server and invoke with ssh to update remote pages."
      },
      "after": "7852c64dd1682235",
      "date": 1624130218050
    },
    {
      "item": {
        "type": "factory",
        "id": "30c1e4b6feb14fc9"
      },
      "id": "30c1e4b6feb14fc9",
      "type": "add",
      "after": "95801e780da11941",
      "date": 1624130225356
    },
    {
      "type": "edit",
      "id": "30c1e4b6feb14fc9",
      "item": {
        "type": "assets",
        "id": "30c1e4b6feb14fc9",
        "text": "pages/add-content-with-script"
      },
      "date": 1624130238685
    },
    {
      "type": "fork",
      "site": "localhost:3000",
      "date": 1624130376942
    },
    {
      "item": {
        "type": "factory",
        "id": "279bb8d6dd52a830"
      },
      "id": "279bb8d6dd52a830",
      "type": "add",
      "after": "30c1e4b6feb14fc9",
      "date": 1624131225405
    },
    {
      "type": "edit",
      "id": "279bb8d6dd52a830",
      "item": {
        "type": "paragraph",
        "id": "279bb8d6dd52a830",
        "text": "The script I used was quite a long one but it ran to completion from ssh."
      },
      "date": 1624131274576
    },
    {
      "type": "edit",
      "id": "279bb8d6dd52a830",
      "item": {
        "type": "paragraph",
        "id": "279bb8d6dd52a830",
        "text": "The script I used was quite a long one but it ran to completion from ssh after installing deno the same way."
      },
      "date": 1624131288423
    },
    {
      "item": {
        "type": "factory",
        "id": "51db9309ef7f2a3f"
      },
      "id": "51db9309ef7f2a3f",
      "type": "add",
      "after": "279bb8d6dd52a830",
      "date": 1624131290744
    },
    {
      "type": "edit",
      "id": "51db9309ef7f2a3f",
      "item": {
        "type": "html",
        "id": "51db9309ef7f2a3f",
        "text": "<blockquote>\nssh asia 'date | /root/.deno/bin/deno run --allow-env --allow-read --allow-write .wiki/ward.dojo.fed.wiki/assets/pages/add-content-with-script/wikadd.js ward.dojo.fed.wiki add-content-with-script code'\n</blockquote>"
      },
      "date": 1624131315918
    },
    {
      "type": "edit",
      "id": "279bb8d6dd52a830",
      "item": {
        "type": "paragraph",
        "id": "279bb8d6dd52a830",
        "text": "The command I typed was long one but ran to completion from ssh once I installed deno the same way."
      },
      "date": 1624134279414
    },
    {
      "type": "edit",
      "id": "279bb8d6dd52a830",
      "item": {
        "type": "paragraph",
        "id": "279bb8d6dd52a830",
        "text": "The command was long one but ran to completion through ssh once I installed deno the same way."
      },
      "date": 1624134299364
    },
    {
      "type": "fork",
      "site": "ward.dojo.fed.wiki",
      "date": 1644441283342
    }
  ]
}