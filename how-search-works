{
  "title": "How Search Works",
  "story": [
    {
      "type": "paragraph",
      "id": "172af03e7e718980",
      "text": "We scrape data from sites throughout the federation so that we can consult it later when searching for something of current interest. See [[How Scrape Works]]"
    },
    {
      "type": "paragraph",
      "id": "d3dabc231bf680e1",
      "text": "See also [[Search Overview]] from chat log."
    },
    {
      "type": "markdown",
      "id": "b16bd54813fed839",
      "text": "# Interface"
    },
    {
      "type": "paragraph",
      "id": "f6612809fe6b84a0",
      "text": "Our interests are expressed as search terms from within specific vocabularies collected as attributes of pages."
    },
    {
      "type": "paragraph",
      "id": "164b0224269d8a41",
      "text": "A web form provides a direct way to enter terms of interest and query the available indices."
    },
    {
      "type": "paragraph",
      "id": "e6667705c22b5067",
      "text": "See [[Search Help]]"
    },
    {
      "type": "paragraph",
      "id": "1c2c6821c1f07fd2",
      "text": "A Search plugin provides a wiki centric way to construct, invoke and interpret queries of available indices."
    },
    {
      "type": "paragraph",
      "id": "a46124791e53278f",
      "text": "See [[About Search Plugin]]"
    },
    {
      "type": "paragraph",
      "id": "8aa9738d8d2ed887",
      "text": "A web service performs the queries from the web form and Search plugin with its intimate access to the indices constructed during scrapes. "
    },
    {
      "type": "markdown",
      "id": "1bca47db63705585",
      "text": "# Queries"
    },
    {
      "type": "paragraph",
      "id": "824297ca68a77af1",
      "text": "A well formed query specifies an attribute of interest, terms to be found within the attribute, indication whether any or all terms must match, and, indication whether sites are sought or specific pages within sites."
    },
    {
      "type": "paragraph",
      "id": "4abb20a0b91f4291",
      "text": "Query processing finds first sites with attribute matching search terms, and, if requested, matching pages within that site. A site or page 'has' the term if it is found in the corresponding index file."
    },
    {
      "type": "paragraph",
      "id": "2f135261581d85ec",
      "text": "Query code uses wildcard matches to find index files to be examined for any particular query. [https://github.com/WardCunningham/search/blob/2b198fddc706b6c884fd728db8c3d24640715478/server.rb#L25-L43 github]"
    },
    {
      "type": "paragraph",
      "id": "a962d4280e65e8f8",
      "text": "For sites matching terms."
    },
    {
      "type": "code",
      "id": "e2f27f6c977d5814",
      "text": "sites/*/#{find}.txt"
    },
    {
      "type": "paragraph",
      "id": "cd4ec0f11a38ad01",
      "text": "For pages within a site matching terms."
    },
    {
      "type": "code",
      "id": "6dcf10fbd5ad8563",
      "text": "sites/#{site}/pages/*/#{find}.txt"
    },
    {
      "type": "paragraph",
      "id": "747ae6026221a54d",
      "text": "Once read, the text of each file is examined for each term."
    },
    {
      "type": "code",
      "id": "19376f4c868c5c40",
      "text": "text.match /\\b#{word}\\b/"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "How Search Works",
        "story": []
      },
      "date": 1512276143119
    },
    {
      "item": {
        "type": "factory",
        "id": "172af03e7e718980"
      },
      "id": "172af03e7e718980",
      "type": "add",
      "date": 1512276162142
    },
    {
      "type": "edit",
      "id": "172af03e7e718980",
      "item": {
        "type": "paragraph",
        "id": "172af03e7e718980",
        "text": "We scrape data from sites throughout the federation so that we can consult it later when searching for something of current interest. See [[How Scrape Works]]"
      },
      "date": 1512276319833
    },
    {
      "type": "add",
      "id": "f6612809fe6b84a0",
      "item": {
        "type": "paragraph",
        "id": "f6612809fe6b84a0",
        "text": "Our interests are expressed as search terms from within specific vocabularies collected as attributes of sites and pages."
      },
      "after": "172af03e7e718980",
      "date": 1512276618055
    },
    {
      "type": "add",
      "id": "164b0224269d8a41",
      "item": {
        "type": "paragraph",
        "id": "164b0224269d8a41",
        "text": "A web form provides a direct way to enter terms of interest and "
      },
      "after": "f6612809fe6b84a0",
      "date": 1512276771573
    },
    {
      "type": "edit",
      "id": "f6612809fe6b84a0",
      "item": {
        "type": "paragraph",
        "id": "f6612809fe6b84a0",
        "text": "Our interests are expressed as search terms from within specific vocabularies collected as attributes of pages."
      },
      "date": 1512276777922
    },
    {
      "type": "edit",
      "id": "164b0224269d8a41",
      "item": {
        "type": "paragraph",
        "id": "164b0224269d8a41",
        "text": "A web form provides a direct way to enter terms of interest and query the available indices."
      },
      "date": 1512276831154
    },
    {
      "type": "add",
      "id": "1c2c6821c1f07fd2",
      "item": {
        "type": "paragraph",
        "id": "1c2c6821c1f07fd2",
        "text": "A Search plugin provides a wiki centric way to construct, invoke and interpret results from queries of available indices."
      },
      "after": "164b0224269d8a41",
      "date": 1512276966528
    },
    {
      "type": "edit",
      "id": "1c2c6821c1f07fd2",
      "item": {
        "type": "paragraph",
        "id": "1c2c6821c1f07fd2",
        "text": "A Search plugin provides a wiki centric way to construct, invoke and interpret queries of available indices."
      },
      "date": 1512276985294
    },
    {
      "type": "add",
      "id": "8aa9738d8d2ed887",
      "item": {
        "type": "paragraph",
        "id": "8aa9738d8d2ed887",
        "text": "A web service performs the queries from the web form and Search plugin with its intimate access to the indices constructed during scrapes. "
      },
      "after": "1c2c6821c1f07fd2",
      "date": 1512277232736
    },
    {
      "type": "add",
      "id": "5d7ba3846fb73dc2",
      "item": {
        "type": "paragraph",
        "id": "5d7ba3846fb73dc2",
        "text": "See [[About Search Plugin]]"
      },
      "after": "1c2c6821c1f07fd2",
      "date": 1512277336924
    },
    {
      "type": "add",
      "id": "b16bd54813fed839",
      "item": {
        "type": "paragraph",
        "id": "b16bd54813fed839",
        "text": "# Structure"
      },
      "after": "172af03e7e718980",
      "date": 1512277427538
    },
    {
      "type": "edit",
      "id": "b16bd54813fed839",
      "item": {
        "type": "markdown",
        "id": "b16bd54813fed839",
        "text": "# Structure"
      },
      "date": 1512277434270
    },
    {
      "type": "edit",
      "id": "b16bd54813fed839",
      "item": {
        "type": "markdown",
        "id": "b16bd54813fed839",
        "text": "# Interface"
      },
      "date": 1512277468881
    },
    {
      "type": "add",
      "id": "1bca47db63705585",
      "item": {
        "type": "paragraph",
        "id": "1bca47db63705585",
        "text": "# Queries"
      },
      "after": "8aa9738d8d2ed887",
      "date": 1512277569919
    },
    {
      "type": "remove",
      "id": "5d7ba3846fb73dc2",
      "date": 1512277647765
    },
    {
      "type": "edit",
      "id": "1c2c6821c1f07fd2",
      "item": {
        "type": "paragraph",
        "id": "1c2c6821c1f07fd2",
        "text": "A Search plugin provides a wiki centric way to construct, invoke and interpret queries of available indices. See [[About Search Plugin]]"
      },
      "date": 1512277650973
    },
    {
      "type": "edit",
      "id": "164b0224269d8a41",
      "item": {
        "type": "paragraph",
        "id": "164b0224269d8a41",
        "text": "A web form provides a direct way to enter terms of interest and query the available indices. See [[Search Help]]"
      },
      "date": 1512277827975
    },
    {
      "type": "edit",
      "id": "164b0224269d8a41",
      "item": {
        "type": "paragraph",
        "id": "164b0224269d8a41",
        "text": "A web form provides a direct way to enter terms of interest and query the available indices."
      },
      "date": 1512277842679
    },
    {
      "type": "add",
      "id": "e6667705c22b5067",
      "item": {
        "type": "paragraph",
        "id": "e6667705c22b5067",
        "text": "See [[Search Help]]"
      },
      "after": "164b0224269d8a41",
      "date": 1512277844095
    },
    {
      "type": "edit",
      "id": "1c2c6821c1f07fd2",
      "item": {
        "type": "paragraph",
        "id": "1c2c6821c1f07fd2",
        "text": "A Search plugin provides a wiki centric way to construct, invoke and interpret queries of available indices."
      },
      "date": 1512277848839
    },
    {
      "type": "add",
      "id": "a46124791e53278f",
      "item": {
        "type": "paragraph",
        "id": "a46124791e53278f",
        "text": "See [[About Search Plugin]]"
      },
      "after": "1c2c6821c1f07fd2",
      "date": 1512277850102
    },
    {
      "type": "add",
      "id": "824297ca68a77af1",
      "item": {
        "type": "paragraph",
        "id": "824297ca68a77af1",
        "text": "The search service consults"
      },
      "after": "1bca47db63705585",
      "date": 1512277957412
    },
    {
      "type": "edit",
      "id": "824297ca68a77af1",
      "item": {
        "type": "paragraph",
        "id": "824297ca68a77af1",
        "text": "A well formed query specifies an attribute of interest, terms to be found within the attribute, indication whether any or all terms must match, and, indication whether sites are sought or specific pages within sites."
      },
      "date": 1512278439949
    },
    {
      "type": "edit",
      "id": "1bca47db63705585",
      "item": {
        "type": "markdown",
        "id": "1bca47db63705585",
        "text": "# Queries"
      },
      "date": 1512278444654
    },
    {
      "type": "add",
      "id": "4abb20a0b91f4291",
      "item": {
        "type": "paragraph",
        "id": "4abb20a0b91f4291",
        "text": "Query processing finds first sites with attribute matching search terms, and, if requested, matching pages within that site. A site or page 'has' the term if it is found in the corresponding index file."
      },
      "after": "824297ca68a77af1",
      "date": 1512278747741
    },
    {
      "type": "add",
      "id": "2f135261581d85ec",
      "item": {
        "type": "paragraph",
        "id": "2f135261581d85ec",
        "text": "Query code uses wildcard matches to find index files to be examined for any particular query. [https://github.com/WardCunningham/search/blob/2b198fddc706b6c884fd728db8c3d24640715478/server.rb#L25-L43 github]"
      },
      "after": "4abb20a0b91f4291",
      "date": 1512279154659
    },
    {
      "type": "add",
      "id": "a962d4280e65e8f8",
      "item": {
        "type": "paragraph",
        "id": "a962d4280e65e8f8",
        "text": "For sites matching terms."
      },
      "after": "2f135261581d85ec",
      "date": 1512279196842
    },
    {
      "item": {
        "type": "factory",
        "id": "e2f27f6c977d5814"
      },
      "id": "e2f27f6c977d5814",
      "type": "add",
      "after": "a962d4280e65e8f8",
      "date": 1512279223596
    },
    {
      "type": "edit",
      "id": "e2f27f6c977d5814",
      "item": {
        "type": "code",
        "id": "e2f27f6c977d5814",
        "text": "sites/*/#{find}.txt"
      },
      "date": 1512279228506
    },
    {
      "item": {
        "type": "factory",
        "id": "cd4ec0f11a38ad01"
      },
      "id": "cd4ec0f11a38ad01",
      "type": "add",
      "after": "e2f27f6c977d5814",
      "date": 1512279236090
    },
    {
      "type": "edit",
      "id": "cd4ec0f11a38ad01",
      "item": {
        "type": "paragraph",
        "id": "cd4ec0f11a38ad01",
        "text": "For pages within a site matching terms."
      },
      "date": 1512279249672
    },
    {
      "item": {
        "type": "factory",
        "id": "6dcf10fbd5ad8563"
      },
      "id": "6dcf10fbd5ad8563",
      "type": "add",
      "after": "cd4ec0f11a38ad01",
      "date": 1512279274263
    },
    {
      "type": "edit",
      "id": "6dcf10fbd5ad8563",
      "item": {
        "type": "code",
        "id": "6dcf10fbd5ad8563",
        "text": "sites/#{site}/pages/*/#{find}.txt"
      },
      "date": 1512279279050
    },
    {
      "item": {
        "type": "factory",
        "id": "747ae6026221a54d"
      },
      "id": "747ae6026221a54d",
      "type": "add",
      "after": "6dcf10fbd5ad8563",
      "date": 1512280107822
    },
    {
      "type": "edit",
      "id": "747ae6026221a54d",
      "item": {
        "type": "paragraph",
        "id": "747ae6026221a54d",
        "text": "Once read, the text of each file is examined for each term."
      },
      "date": 1512280147736
    },
    {
      "item": {
        "type": "factory",
        "id": "19376f4c868c5c40"
      },
      "id": "19376f4c868c5c40",
      "type": "add",
      "after": "747ae6026221a54d",
      "date": 1512280150648
    },
    {
      "type": "edit",
      "id": "19376f4c868c5c40",
      "item": {
        "type": "code",
        "id": "19376f4c868c5c40",
        "text": "text.match /\\b#{word}\\b/"
      },
      "date": 1512280156297
    },
    {
      "type": "add",
      "id": "d3dabc231bf680e1",
      "item": {
        "type": "paragraph",
        "id": "d3dabc231bf680e1",
        "text": "See also [[Search Overview]]"
      },
      "after": "172af03e7e718980",
      "date": 1547047898635
    },
    {
      "type": "edit",
      "id": "d3dabc231bf680e1",
      "item": {
        "type": "paragraph",
        "id": "d3dabc231bf680e1",
        "text": "See also [[Search Overview]] from chat log."
      },
      "date": 1547047918482
    },
    {
      "type": "fork",
      "site": "scrape.ward.bay.wiki.org",
      "date": 1626505147283
    }
  ]
}